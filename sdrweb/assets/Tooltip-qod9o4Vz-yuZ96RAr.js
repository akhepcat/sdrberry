import{r,b,aC as y,c as m,O as x,o as g,a as h,m as c,e as S,M as k,n as C,L as $}from"./index-UNQvOp-_.js";function Y({tooltip:e,chart:o,clientPosition:t,positionPreference:a="center",defaultOffsetY:i=24,blockShiftY:d=!1}){const n=r(0),f=r(i);if(e&&o){const{width:l,height:p}=e.getBoundingClientRect(),{right:u,left:s,bottom:v}=o.getBoundingClientRect();a==="center"&&(t.x+l/2>u?n.value=-l+(u-t.x):t.x-l/2<s?n.value=-l+(l-(t.x-s)):n.value=-l/2),a==="right"&&(t.x+l>u?n.value=-l+(u-t.x):n.value=0),a==="left"&&(t.x<s+l?n.value=-l+(l-(t.x-s)):n.value=-l),t.y+p>v&&!d&&(f.value=-p-i)}return{top:t.y+f.value,left:t.x+n.value}}function B(e,o,t){b(()=>e.addEventListener(o,t)),y(()=>e.removeEventListener(o,t))}function N(){const e=r(0),o=r(0);return B(window,"mousemove",t=>{e.value=t.clientX,o.value=t.clientY}),{x:e,y:o}}const w=["innerHTML"],O={__name:"Tooltip",props:{backgroundColor:{type:String,default:"#FFFFFF"},color:{type:String,default:"#000000"},content:String,maxWidth:{type:String,default:"300px"},parent:{type:Object},show:{type:Boolean,default:!1},isCustom:{type:Boolean,default:!1},fontSize:{type:[Number,String],default:14},borderRadius:{type:Number,default:4},borderColor:{type:String,default:"#e1e5e8"},borderWidth:{type:Number,default:1},backgroundOpacity:{type:Number,default:100},position:{type:String,default:"center"},offsetY:{type:Number,default:24},blockShiftY:{type:Boolean,default:!1}},setup(e){const o=e,t=r(null),a=r(N()),i=m(()=>Y({tooltip:t.value,chart:o.parent,clientPosition:a.value,positionPreference:o.position,defaultOffsetY:o.offsetY,blockShiftY:o.blockShiftY})),d=m(()=>x(o.backgroundColor,o.backgroundOpacity));return(n,f)=>e.show?(g(),h("div",{key:0,ref_key:"tooltip",ref:t,class:C({"vue-data-ui-custom-tooltip":e.isCustom,"vue-data-ui-tooltip":!e.isCustom}),style:k(`pointer-events:none;top:${i.value.top}px;left:${i.value.left}px;${e.isCustom?"":`background:${d.value};color:${e.color};max-width:${e.maxWidth};font-size:${e.fontSize}px`};border-radius:${e.borderRadius}px;border:${e.borderWidth}px solid ${e.borderColor};`)},[c(n.$slots,"tooltip-before"),c(n.$slots,"default"),S("div",{innerHTML:e.content},null,8,w),c(n.$slots,"tooltip-after")],6)):$("",!0)}};export{O as E,N as Y};

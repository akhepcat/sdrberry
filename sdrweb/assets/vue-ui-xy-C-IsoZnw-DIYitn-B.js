const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-B7oVat64-B3DFN5oV.js","assets/html2canvas.esm-d2sM-0Wm-tnAx6l3B.js","assets/jspdf.es.min-C660YX78-C00MF3Ni.js","assets/index-Cv_R0XUS.js","assets/index-DgzyxkKv.css","assets/img-DGzWcJ4Y-CkddiW4e.js"])))=>i.map(i=>d[i]);
import{at as T,o as s,a as l,i as V,L as h,M as L,j as Z,l as M,m as _,p as D,q as B,n as P,f as H,e as p,P as I,k as m,h as k,a5 as J,a6 as K,g as Q,_ as j,aq as R,aA as Y,z as ee,a9 as te,ab as ie,a1 as ae,O as se,B as le,aD as oe,aK as re,a2 as ne,ao as he,a3 as ce,C as de,N as ue,G as q,aL as ge,aw as pe,V as Ne,E as Ie,a8 as me,Q as fe,aM as xe,a0 as be,aN as Fe,aG as ye,aO as Ae,U as Le,ag as Ce,am as ke,D as U,A as _e,aa as we,H as Se,R as Oe}from"./index-Cv_R0XUS.js";import{W as ve}from"./DataTable-D8fcY_sJ-F7gbldOq.js";import{x as Ge}from"./Title-DyD-mBPN-CJkaoNbn.js";import{Y as $e,E as Me}from"./Tooltip-qod9o4Vz-jZPYbL8g.js";import{a as ze}from"./usePrinter-CLcxWv-4-CZIXuMIC.js";import{$ as Te}from"./Shape-DYFnvMNd-_HVH9nrS.js";import{s as Pe,u as Ve}from"./vue-data-ui-DF7u-eZV-BhlwTQFl.js";import Re from"./vue-ui-table-sparkline-DirFLTCn-A16x6gwX.js";import De from"./vue-ui-skeleton-Dgzcn3FL-DASnd3oG.js";import{U as Be}from"./Slicer-BLQZ4Fne-B48Qi0eV.js";import We from"./vue-ui-accordion-m8rut1bP-D0n78hvZ.js";import{c as X}from"./useNestedProp-BxrcwmTZ-D4WcyZ8s.js";import{p as Ee}from"./PackageVersion-mSsg8dpu-Bg2p7G7d.js";import{S as He}from"./PenAndPaper-Dk41ZrJ0-GjwWTWYj.js";import"./vue-ui-sparkline-B0BJFHMi-ilu31Le3.js";import"./useResponsive-CoxXLe23-CoJWR8uA.js";const Ye=U(),je={name:"vue-ui-xy",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},components:{DataTable:ve,Shape:Te,Title:Ge,Tooltip:Me,UserOptions:ze,BaseIcon:Ve,TableSparkline:Re,Skeleton:De,Slicer:Be,Accordion:We,PackageVersion:Ee,PenAndPaper:He},data(){this.dataset.forEach((d,t)=>{[null,void 0].includes(d.series)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"series (number[])",index:t})});const i=this.config.downsample&&this.config.downsample.threshold?this.config.downsample.threshold:500,o=Math.max(...this.dataset.map(d=>this.largestTriangleThreeBucketsArray({data:d.series,threshold:i}).length)),c={start:0,end:o};return{themePalettes:Oe,themes:Se,slicerStep:0,selectedScale:null,CTX:null,CANVAS:null,opacity:we,useSafeValues:!0,palette:_e,height:600,width:1e3,viewBox:"0 0 1000 600",clientPosition:{x:0,y:0},canvasClientPosition:{x:0,y:0},icons:{line:"line",bar:"bar",plot:"plot"},isAnnotator:!1,isFullscreen:!1,isPrinting:!1,isImaging:!1,isTooltip:!1,mutableConfig:{dataLabels:{show:!0},showTooltip:!0,showTable:!1,isStacked:!1,useIndividualScale:!1},selectedSerieIndex:null,selectedRowIndex:null,segregatedSeries:[],uniqueId:U(),step:0,tableStep:0,titleStep:0,slicer:c,__to__:null,maxX:o,showSparklineTable:!0,segregateStep:0,sliderId:Ye,fontSizes:{xAxis:18,yAxis:12,dataLabels:20,plotLabels:10},plotRadii:{plot:3,line:3},selectedMinimapIndex:null}},watch:{dataset:{handler(i,o){this.maxX=Math.max(...this.dataset.map(c=>this.largestTriangleThreeBucketsArray({data:c.series,threshold:this.FINAL_CONFIG.downsample.threshold}).length)),this.slicer={start:0,end:this.maxX},this.slicerStep+=1,this.segregateStep+=1},deep:!0},config:{handler(i,o){this.FINAL_CONFIG=this.prepareConfig(),this.prepareChart(),this.titleStep+=1,this.tableStep+=1},deep:!0}},computed:{hasOptionsNoTitle(){return this.FINAL_CONFIG.chart.userOptions.show&&(!this.FINAL_CONFIG.chart.title.show||!this.FINAL_CONFIG.chart.title.text)},minimap(){if(!this.FINAL_CONFIG.chart.zoom.minimap.show)return[];const i=this.datasetWithIds.filter(t=>!this.segregatedSeries.includes(t.id)),o=Math.max(...i.map(t=>t.series.length)),c=[];for(let t=0;t<o;t+=1)c.push(i.map(e=>e.series[t]||0).reduce((e,f)=>(e||0)+(f||0),0));const d=Math.min(...c);return c.map(t=>t+(d<0?Math.abs(d):0))},customPalette(){return this.convertCustomPalette(this.FINAL_CONFIG.customPalette)},backgroundColor(){return this.FINAL_CONFIG.chart.backgroundColor},slicerColor(){return this.FINAL_CONFIG.chart.zoom.color},allScales(){const i=this.lineSet.map(t=>({name:t.name,color:t.color,scale:t.individualScale,scaleYLabels:t.scaleYLabels,zero:t.zeroPosition,max:t.individualMax,scaleLabel:t.scaleLabel||"",id:t.id,yOffset:t.yOffset||0,individualHeight:t.individualHeight||this.drawingArea.height,autoScaleYLabels:t.autoScaleYLabels})),o=this.barSet.map(t=>({name:t.name,color:t.color,scale:t.individualScale,scaleYLabels:t.scaleYLabels,zero:t.zeroPosition,max:t.individualMax,scaleLabel:t.scaleLabel||"",id:t.id,yOffset:t.yOffset||0,individualHeight:t.individualHeight||this.drawingArea.height})),c=this.plotSet.map(t=>({name:t.name,color:t.color,scale:t.individualScale,scaleYLabels:t.scaleYLabels,zero:t.zeroPosition,max:t.individualMax,scaleLabel:t.scaleLabel||"",id:t.id,yOffset:t.yOffset||0,individualHeight:t.individualHeight||this.drawingArea.height})),d=[...i,...o,...c].flatMap(t=>t).length;return[...i,...o,...c].flatMap((t,e)=>({id:t.id,scaleLabel:t.scaleLabel,name:t.name,color:t.color,scale:t.scale,yOffset:t.yOffset,individualHeight:t.individualHeight,x:this.mutableConfig.isStacked?this.drawingArea.left:this.drawingArea.left/d*(e+1),yLabels:t.scaleYLabels||t.scale.ticks.map(f=>({y:f>=0?t.zero-t.individualHeight*(f/t.max):t.zero+t.individualHeight*Math.abs(f)/t.max,value:f}))}))},isDataset(){return!!this.dataset&&this.dataset.length},chartFont(){const i=document.getElementById(`vue-ui-xy_${this.uniqueId}`);return window.getComputedStyle(i,null).getPropertyValue("font-family")},FINAL_CONFIG:{get:function(){return this.prepareConfig()},set:function(i){return i}},hasHighlightArea(){return Array.isArray(this.FINAL_CONFIG.chart.highlightArea)?this.FINAL_CONFIG.chart.highlightArea.some(i=>i.show):this.FINAL_CONFIG.chart.highlightArea&&this.FINAL_CONFIG.chart.highlightArea.show},highlightAreas(){if(Array.isArray(this.FINAL_CONFIG.chart.highlightArea))return this.FINAL_CONFIG.chart.highlightArea.map(o=>({...o,span:o.from===o.to?1:o.to<o.from?0:o.to-o.from+1}));const i=this.FINAL_CONFIG.chart.highlightArea;return[{...i,span:i.from===i.to?1:i.to<i.from?0:i.to-i.from+1}]},xPadding(){return this.FINAL_CONFIG.chart.grid.position==="middle"?0:this.drawingArea.width/this.maxSeries/2},relativeZero(){return this.niceScale.min>=0?0:Math.abs(this.niceScale.min)},absoluteMax(){return this.niceScale.max+this.relativeZero},datasetWithIds(){return this.useSafeValues?this.dataset.map((i,o)=>({...i,series:this.largestTriangleThreeBucketsArray({data:i.series,threshold:this.FINAL_CONFIG.downsample.threshold}),id:`uniqueId_${o}`})):this.dataset},safeDataset(){return this.useSafeValues?this.dataset.map((i,o)=>{const c=this.largestTriangleThreeBucketsArray({data:i.series,threshold:this.FINAL_CONFIG.downsample.threshold});return{...i,series:c.map(d=>this.isSafeValue(d)?d:null).slice(this.slicer.start,this.slicer.end),color:this.convertColorToHex(i.color?i.color:this.customPalette[o]?this.customPalette[o]:this.palette[o]),id:`uniqueId_${o}`}}):this.dataset},relativeDataset(){return this.safeDataset.map((i,o)=>({...i,series:i.series.map(c=>c+this.relativeZero),absoluteValues:i.series})).filter(i=>!this.segregatedSeries.includes(i.id))},tableSparklineDataset(){return this.relativeDataset.map(i=>{const o=i.absoluteValues.map(c=>[void 0,null].includes(c)?0:c);return{id:i.id,name:i.name,color:i.color,values:this.fillArray(this.maxSeries,o)}})},tableSparklineConfig(){return{responsiveBreakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint,roundingValues:this.FINAL_CONFIG.table.rounding,showAverage:!1,showMedian:!1,showTotal:!1,fontFamily:this.FINAL_CONFIG.chart.fontFamily,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix,colNames:JSON.parse(JSON.stringify(this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values)),thead:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},tbody:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},userOptions:{show:!1}}},absoluteDataset(){return this.safeDataset.map((i,o)=>({absoluteIndex:o,...i,series:i.series.map(c=>c+this.relativeZero),absoluteValues:i.series,segregate:()=>this.segregate(i),isSegregated:this.segregatedSeries.includes(i.id)}))},barSet(){return this.activeSeriesWithStackRatios.filter(i=>i.type==="bar").map((i,o)=>{this.checkAutoScaleError(i);const c=Math.min(...i.absoluteValues.filter(g=>![null,void 0].includes(g))),d=Math.max(...i.absoluteValues.filter(g=>![null,void 0].includes(g))),t={ratios:i.absoluteValues.filter(g=>![null,void 0].includes(g)).map(g=>(g-c)/(d-c)),valueMin:c,valueMax:d<0?0:d},e={max:i.scaleMax||Math.max(...i.absoluteValues)||1,min:i.scaleMin||Math.min(...i.absoluteValues.filter(g=>![void 0,null].includes(g)))>0?0:Math.min(...i.absoluteValues.filter(g=>![null,void 0].includes(g)))},f=i.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,b=1.0000001,N=this.calculateNiceScaleWithExactExtremes(e.min,e.max===e.min?e.max*b:e.max,f),y=this.calculateNiceScaleWithExactExtremes(t.valueMin,t.valueMax===t.valueMin?t.valueMax*b:t.valueMax,f),v=N.min>=0?0:Math.abs(N.min),w=0,S=N.max+v,G=y.max+Math.abs(w),F=this.mutableConfig.isStacked?this.drawingArea.height*(1-i.cumulatedStackRatio):0,C=this.mutableConfig.isStacked?this.drawingArea.height*i.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,$=this.drawingArea.bottom-F-C*v/S,z=this.drawingArea.bottom-F-C*w/G,a=this.absoluteDataset.filter(g=>g.type==="bar").filter(g=>!this.segregatedSeries.includes(g.id)).length,n=i.series.map((g,x)=>{const W=this.mutableConfig.useIndividualScale?(i.absoluteValues[x]+v)/S:this.ratioToMax(g),E=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*x:this.drawingArea.left+this.slot.bar*o+this.slot.bar*x*a-this.barSlot/2-o*this.barPeriodGap;return{yOffset:this.checkNaN(F),individualHeight:this.checkNaN(C),x:this.checkNaN(E),y:this.drawingArea.bottom-F-C*W,value:i.absoluteValues[x],zeroPosition:this.checkNaN($),individualMax:this.checkNaN(S),comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),r=i.absoluteValues.map(g=>y.min>=0?(g-Math.abs(y.min))/(y.max-Math.abs(y.min)):(g+Math.abs(y.min))/(y.max+Math.abs(y.min))),u=i.series.map((g,x)=>{const W=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*x:this.drawingArea.left-this.slot.bar/2+this.slot.bar*o+this.slot.bar*x*this.absoluteDataset.filter(E=>E.type==="bar").filter(E=>!this.segregatedSeries.includes(E.id)).length;return{yOffset:this.checkNaN(F),individualHeight:this.checkNaN(C),x:this.checkNaN(W),y:this.checkNaN(this.drawingArea.bottom-this.checkNaN(F)-(this.checkNaN(C)*r[x]||0)),value:i.absoluteValues[x],zeroPosition:this.checkNaN($),individualMax:this.checkNaN(S),comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),A=N.ticks.map(g=>({y:g>=0?$-C*(g/S):$+C*Math.abs(g)/S,value:g,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i})),O=y.ticks.map(g=>{const x=(g-y.min)/(y.max-y.min);return{y:g>=0?z-C*x:z+C*x,value:g,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i}});return{...i,yOffset:F,autoScaleYLabels:O,individualHeight:C,scaleYLabels:i.autoScaling?O:A,individualScale:i.autoScaling?y:N,individualMax:i.autoScaling?G:S,zeroPosition:i.autoScaling?z:$,plots:i.autoScaling?u:n}})},activeSeriesLength(){return this.absoluteDataset.length},activeSeriesWithStackRatios(){return this.assignStackRatios(this.absoluteDataset.filter(i=>!this.segregatedSeries.includes(i.id)))},lineSet(){return this.activeSeriesWithStackRatios.filter(i=>i.type==="line").map(i=>{this.checkAutoScaleError(i);const o=Math.min(...i.absoluteValues.filter(g=>![void 0,null].includes(g))),c=Math.max(...i.absoluteValues.filter(g=>![void 0,null].includes(g)))||1,d={ratios:i.absoluteValues.filter(g=>![null,void 0].includes(g)).map(g=>(g-o)/(c-o)),valueMin:o,valueMax:c},t={max:i.scaleMax||Math.max(...i.absoluteValues)||1,min:i.scaleMin||(Math.min(...i.absoluteValues)>0?0:Math.min(...i.absoluteValues))},e=i.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,f=1.0000001,b=this.calculateNiceScaleWithExactExtremes(t.min,t.max===t.min?t.max*f:t.max,e),N=this.calculateNiceScaleWithExactExtremes(d.valueMin,d.valueMax===d.valueMin?d.valueMax*f:d.valueMax,e),y=b.min>=0?0:Math.abs(b.min),v=0,w=b.max+Math.abs(y),S=N.max+Math.abs(v),G=this.mutableConfig.isStacked?this.drawingArea.height*(1-i.cumulatedStackRatio):0,F=this.mutableConfig.isStacked?this.drawingArea.height*i.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,C=this.drawingArea.bottom-G-F*y/w,$=this.drawingArea.bottom-G-F*v/S,z=i.series.map((g,x)=>{const W=this.mutableConfig.useIndividualScale?(i.absoluteValues[x]+Math.abs(y))/w:this.ratioToMax(g);return{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:this.checkNaN(this.drawingArea.bottom-G-F*W),value:i.absoluteValues[x],comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),a=i.absoluteValues.map(g=>N.min>=0?(g-Math.abs(N.min))/(N.max-Math.abs(N.min)):(g+Math.abs(N.min))/(N.max+Math.abs(N.min))),n=i.series.map((g,x)=>[void 0,null].includes(i.absoluteValues[x])?{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:C,value:i.absoluteValues[x],comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[x]||""}:{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:this.checkNaN(this.drawingArea.bottom-G-(F*a[x]||0)),value:i.absoluteValues[x],comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[x]||""}),r=this.createSmoothPath(z),u=this.createSmoothPath(n),A=b.ticks.map(g=>({y:g>=0?C-F*(g/w):C+F*Math.abs(g)/w,value:g,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i})),O=N.ticks.map(g=>{const x=(g-N.min)/(N.max-N.min);return{y:g>=0?$-F*x:$+F*x,value:g,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i}});return{...i,yOffset:G,autoScaleYLabels:O,individualHeight:F,scaleYLabels:i.autoScaling?O:A,individualScale:i.autoScaling?N:b,individualMax:i.autoScaling?S:w,zeroPosition:i.autoScaling?$:C,curve:i.autoScaling?u:r,plots:i.autoScaling?n:z,area:i.useArea?this.mutableConfig.useIndividualScale?this.createIndividualArea(i.autoScaling?n:z,i.autoScaling?$:C):this.createArea(z):""}})},plotSet(){return this.activeSeriesWithStackRatios.filter(i=>i.type==="plot").map(i=>{this.checkAutoScaleError(i);const o=Math.min(...i.absoluteValues.filter(A=>![null,void 0].includes(A))),c=Math.max(...i.absoluteValues.filter(A=>![null,void 0].includes(A)))||1,d={ratios:i.absoluteValues.filter(A=>![null,void 0].includes(A)).map(A=>(A-o)/(c-o)),valueMin:o,valueMax:c},t={max:i.scaleMax||Math.max(...i.absoluteValues)||1,min:i.scaleMin||Math.min(...i.absoluteValues)>0?0:Math.min(...i.absoluteValues)},e=i.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,f=1.0000001,b=this.calculateNiceScaleWithExactExtremes(t.min,t.max===t.min?t.max*f:t.max,e),N=this.calculateNiceScaleWithExactExtremes(d.valueMin,d.valueMax===d.valueMin?d.valueMax*f:d.valueMax,e),y=b.min>=0?0:Math.abs(b.min),v=0,w=b.max+y,S=N.max+Math.abs(v),G=this.mutableConfig.isStacked?this.drawingArea.height*(1-i.cumulatedStackRatio):0,F=this.mutableConfig.isStacked?this.drawingArea.height*i.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,C=this.drawingArea.bottom-G-F*y/w,$=this.drawingArea.bottom-G-F*v/S,z=i.series.map((A,O)=>{const g=this.mutableConfig.useIndividualScale?(i.absoluteValues[O]+Math.abs(y))/w:this.ratioToMax(A);return{x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*O),y:this.checkNaN(this.drawingArea.bottom-G-F*g),value:i.absoluteValues[O],comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[O]||""}}),a=i.absoluteValues.map(A=>N.min>=0?(A-Math.abs(N.min))/(N.max-Math.abs(N.min)):(A+Math.abs(N.min))/(N.max+Math.abs(N.min))),n=i.series.map((A,O)=>({x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*O),y:this.checkNaN(this.drawingArea.bottom-G-(F*a[O]||0)),value:i.absoluteValues[O],comment:i.comments&&i.comments.slice(this.slicer.start,this.slicer.end)[O]||""})),r=b.ticks.map(A=>({y:A>=0?C-F*(A/w):C+F*Math.abs(A)/w,value:A,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i})),u=N.ticks.map(A=>{const O=(A-N.min)/(N.max-N.min);return{y:A>=0?$-F*O:$+F*O,value:A,prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:i}});return{...i,yOffset:G,autoScaleYLabels:u,individualHeight:F,scaleYLabels:i.autoScaling?u:r,individualScale:i.autoScaling?N:b,individualMax:i.autoScaling?S:w,zeroPosition:i.autoScaling?$:C,plots:i.autoScaling?n:z}})},drawingArea(){const i=this.mutableConfig.useIndividualScale&&this.FINAL_CONFIG.chart.grid.labels.show?this.absoluteDataset.filter(o=>!this.segregatedSeries.includes(o.id)).length*(this.mutableConfig.isStacked?0:this.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth):0;return{top:this.FINAL_CONFIG.chart.padding.top,right:this.width-this.FINAL_CONFIG.chart.padding.right,bottom:this.height-this.FINAL_CONFIG.chart.padding.bottom,left:this.FINAL_CONFIG.chart.padding.left+i,height:this.height-(this.FINAL_CONFIG.chart.padding.top+this.FINAL_CONFIG.chart.padding.bottom),width:this.width-(this.FINAL_CONFIG.chart.padding.right+this.FINAL_CONFIG.chart.padding.left+i)}},max(){return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax?this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax:Math.max(...this.safeDataset.filter(i=>!this.segregatedSeries.includes(i.id)).map(i=>Math.max(...i.series)))},min(){if(this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin!==null)return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin;const i=Math.min(...this.safeDataset.filter(o=>!this.segregatedSeries.includes(o.id)).map(o=>Math.min(...o.series)));return i>0?0:i},niceScale(){return this.calculateNiceScaleWithExactExtremes(this.min,this.max<0?0:this.max,this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps)},maxSeries(){return this.slicer.end-this.slicer.start},timeLabels(){return this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values.slice(this.slicer.start,this.slicer.end)},slot(){return{bar:this.drawingArea.width/this.maxSeries/this.safeDataset.filter(i=>i.type==="bar").filter(i=>!this.segregatedSeries.includes(i.id)).length,plot:this.drawingArea.width/this.maxSeries,line:this.drawingArea.width/this.maxSeries}},barSlot(){const i=this.safeDataset.filter(o=>o.type==="bar").filter(o=>!this.segregatedSeries.includes(o.id)).length;return this.drawingArea.width/this.maxSeries/i-this.barPeriodGap*i},barPeriodGap(){return this.slot.line*this.FINAL_CONFIG.bar.periodGap},maxSlot(){return Math.max(...Object.values(this.slot).filter(i=>i!==1/0))},table(){if(this.safeDataset.length===0)return{head:[],body:[],config:{},columnNames:[]};const i=this.relativeDataset.map(c=>({label:c.name,color:c.color,type:c.type})),o=[];return this.timeLabels.forEach((c,d)=>{const t=[c];this.relativeDataset.forEach(e=>{t.push(this.canShowValue(e.absoluteValues[d])?Number(e.absoluteValues[d].toFixed(this.FINAL_CONFIG.table.rounding)):"")}),o.push(t)}),{head:i,body:o}},dataTable(){const i=this.FINAL_CONFIG.table.showSum;let o=[""].concat(this.relativeDataset.map(e=>e.name));i&&(o=o.concat(' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>'));let c=[];for(let e=0;e<this.maxSeries;e+=1){const f=this.relativeDataset.map(b=>b.absoluteValues[e]??0).reduce((b,N)=>b+N,0);c.push([this.timeLabels[e]??"-"].concat(this.relativeDataset.map(b=>this.applyDataLabel(b.type==="line"?this.FINAL_CONFIG.line.labels.formatter:b.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,b.absoluteValues[e]??0,this.dataLabel({p:b.prefix||this.FINAL_CONFIG.chart.labels.prefix,v:b.absoluteValues[e]??0,s:b.suffix||this.FINAL_CONFIG.chart.labels.suffix,r:this.FINAL_CONFIG.table.rounding})))).concat(i?(f??0).toFixed(this.FINAL_CONFIG.table.rounding):[]))}const d={th:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},td:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},breakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint},t=[this.FINAL_CONFIG.table.columnNames.period].concat(this.relativeDataset.map(e=>e.name)).concat(this.FINAL_CONFIG.table.columnNames.total);return{head:o,body:c,config:d,colNames:t}},dataTooltipSlot(){return{datapoint:this.selectedSeries,seriesIndex:this.selectedSerieIndex,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}},selectedSeries(){return this.relativeDataset.map(i=>({shape:i.shape||null,name:i.name,color:i.color,type:i.type,value:i.absoluteValues.find((o,c)=>c===this.selectedSerieIndex),comments:i.comments||[],prefix:i.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:i.suffix||this.FINAL_CONFIG.chart.labels.suffix}))},tooltipContent(){let i="",o=this.selectedSeries.map(t=>t.value).filter(t=>this.isSafeValue(t)&&t!==null).reduce((t,e)=>Math.abs(t)+Math.abs(e),0);const c=this.timeLabels[this.selectedSerieIndex],d=this.FINAL_CONFIG.chart.tooltip.customFormat;return this.isFunction(d)&&this.functionReturnsString(()=>d({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}))?d({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}):(c&&(i+=`<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid ${this.FINAL_CONFIG.chart.tooltip.borderColor}; width:100%">${c}</div>`),this.selectedSeries.forEach(t=>{if(this.isSafeValue(t.value)){let e="",f="";switch(this.icons[t.type]){case"bar":e=`<svg viewBox="0 0 12 12" height="14" width="14"><rect x="0" y="0" rx="1" stroke="none" height="12" width="12" fill="${t.color}" /></svg>`;break;case"line":!t.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(t.shape)?f=`<circle cx="10" cy="8" r="4" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${t.color}" />`:t.shape==="triangle"?f=`<path d="${R({plot:{x:10,y:8},radius:4,sides:3,rotation:.52}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:t.shape==="square"?f=`<path d="${R({plot:{x:10,y:8},radius:4,sides:4,rotation:.8}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:t.shape==="diamond"?f=`<path d="${R({plot:{x:10,y:8},radius:4,sides:4,rotation:0}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:t.shape==="pentagon"?f=`<path d="${R({plot:{x:10,y:8},radius:4,sides:5,rotation:.95}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:t.shape==="hexagon"?f=`<path d="${R({plot:{x:10,y:8},radius:4,sides:6,rotation:0}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:t.shape==="star"&&(f=`<polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${t.color}" points="${Y({plot:{x:10,y:8},radius:4})}" />`),e=`<svg viewBox="0 0 20 12" height="14" width="20"><rect rx="3" x="0" y="6" stroke="none" height="4" width="20" fill="${t.color}" />${f}</svg>`;break;case"plot":if(!t.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(t.shape)){e=`<svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${t.color}" /></svg>`;break}if(t.shape==="star"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${t.color}" points="${Y({plot:{x:6,y:6},radius:5})}" /></svg>`;break}if(t.shape==="triangle"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${R({plot:{x:6,y:6},radius:6,sides:3,rotation:.52}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(t.shape==="square"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${R({plot:{x:6,y:6},radius:6,sides:4,rotation:.8}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(t.shape==="diamond"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${R({plot:{x:6,y:6},radius:5,sides:4,rotation:0}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(t.shape==="pentagon"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${R({plot:{x:6,y:6},radius:5,sides:5,rotation:.95}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(t.shape==="hexagon"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${R({plot:{x:6,y:6},radius:5,sides:6,rotation:0}).path}" fill="${t.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}}i+=`<div style="display:flex;flex-direction:row; align-items:center;gap:3px;"><div style="width:20px">${e}</div> ${t.name}: <b>${this.FINAL_CONFIG.chart.tooltip.showValue?this.applyDataLabel(t.type==="line"?this.FINAL_CONFIG.line.labels.formatter:t.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,t.value,this.dataLabel({p:t.prefix,v:t.value,s:t.suffix,r:this.FINAL_CONFIG.chart.tooltip.roundingValue}),{datapoint:t}):""}</b> ${this.FINAL_CONFIG.chart.tooltip.showPercentage?`(${q({v:this.checkNaN(Math.abs(t.value)/o*100),s:"%",r:this.FINAL_CONFIG.chart.tooltip.roundingPercentage})})`:""}</div>`,this.FINAL_CONFIG.chart.comments.showInTooltip&&t.comments.length&&t.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]&&(i+=`<div class="vue-data-ui-tooltip-comment" style="background:${t.color}20; padding: 6px; margin-bottom: 6px; border-left: 1px solid ${t.color}">${t.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]}</div>`)}}),`<div style="border-radius:4px;padding:12px;font-variant-numeric: tabular-nums;color:${this.FINAL_CONFIG.chart.tooltip.color}">${i}</div>`)},svg(){return{height:this.height,width:this.width}},yLabels(){return this.niceScale.ticks.map(i=>({y:i>=0?this.zero-this.drawingArea.height*this.ratioToMax(i):this.zero+this.drawingArea.height*this.ratioToMax(Math.abs(i)),value:i,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix}))},zero(){return this.drawingArea.bottom-this.drawingArea.height*this.ratioToMax(this.relativeZero)}},mounted(){this.prepareChart(),document.addEventListener("mousemove",i=>{this.clientPosition={x:i.clientX,y:i.clientY}})},methods:{abbreviate:ke,adaptColorToBackground:Ce,applyDataLabel:Le,assignStackRatios:Ae,calcLinearProgression:ye,calculateNiceScaleWithExactExtremes:Fe,checkNaN:be,closestDecimal:xe,convertColorToHex:fe,convertConfigColors:me,convertCustomPalette:Ie,createCsvContent:Ne,createSmoothPath:pe,createTSpans:ge,dataLabel:q,downloadCsv:ue,error:de,functionReturnsString:ce,hasDeepProperty:he,isFunction:ne,isSafeValue:re,largestTriangleThreeBucketsArray:oe,objectIsEmpty:le,setOpacity:se,shiftHue:ae,translateSize:ie,treeShake:te,useMouse:$e,useNestedProp:X,toggleAnnotator(){this.isAnnotator=!this.isAnnotator},getHighlightAreaPosition(i){const o=this.drawingArea.left+this.drawingArea.width/this.maxSeries*(i.from-this.slicer.start),c=this.drawingArea.width/(this.slicer.end-this.slicer.start)*i.span<0?1e-5:this.drawingArea.width/(this.slicer.end-this.slicer.start)*i.span;return{x:o<this.drawingArea.left?this.drawingArea.left:o,width:c}},prepareConfig(){const i=ee().vue_ui_xy;if(!Object.keys(this.config||{}).length)return i;const o=this.useNestedProp({userConfig:this.config,defaultConfig:i});return this.config&&this.hasDeepProperty(this.config,"chart.highlightArea")&&(Array.isArray(this.config.chart.highlightArea)?o.chart.highlightArea=this.config.chart.highlightArea:o.chart.highlightArea=[this.config.chart.highlightArea]),this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMin")?o.chart.grid.labels.yAxis.scaleMin=this.config.chart.grid.labels.yAxis.scaleMin:o.chart.grid.labels.yAxis.scaleMin=null,this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMax")?o.chart.grid.labels.yAxis.scaleMax=this.config.chart.grid.labels.yAxis.scaleMax:o.chart.grid.labels.yAxis.scaleMax=null,o.theme?{...X({userConfig:this.themes.vue_ui_xy[o.theme]||this.config,defaultConfig:o}),customPalette:this.themePalettes[o.theme]||this.palette}:o},prepareChart(){if(this.objectIsEmpty(this.dataset)?this.error({componentName:"VueUiXy",type:"dataset"}):this.dataset.forEach((i,o)=>{[null,void 0].includes(i.name)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"name (string)",index:o})}),this.FINAL_CONFIG.showWarnings&&this.dataset.forEach(i=>{i.series.forEach((o,c)=>{this.isSafeValue(o)||console.warn(`VueUiXy has detected an unsafe value in your dataset:
-----> The serie '${i.name}' contains the value '${o}' at index ${c}.
'${o}' was converted to null to allow the chart to display.`)})}),this.mutableConfig={dataLabels:{show:!0},showTooltip:this.FINAL_CONFIG.chart.tooltip.show===!0,showTable:this.FINAL_CONFIG.showTable===!0,isStacked:this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked,useIndividualScale:this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},this.FINAL_CONFIG.responsive){const i=this.$refs.chart.parentNode,{height:o,width:c}=i.getBoundingClientRect();let d=null,t=0;this.FINAL_CONFIG.chart.title.show&&(d=this.$refs.chartTitle,t=d.getBoundingClientRect().height);let e=null,f=0;this.FINAL_CONFIG.chart.zoom.show&&this.maxX>6&&this.isDataset&&(e=this.$refs.chartSlicer.$el,f=e.getBoundingClientRect().height);let b=null,N=0;this.FINAL_CONFIG.chart.legend.show&&(b=this.$refs.chartLegend,N=b.getBoundingClientRect().height);let y=0;this.$refs.source&&(y=this.$refs.source.getBoundingClientRect().height);let v=0;this.$refs.noTitle&&(v=this.$refs.source.getBoundingClientRect().height),this.height=o-t-N-f-y-v,this.width=c,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes(),new ResizeObserver(w=>{for(const S of w)this.$refs.chartTitle&&(t=this.$refs.chartTitle.getBoundingClientRect().height),this.$refs.chartSlicer&&this.$refs.chartSlicer.$el&&(f=this.$refs.chartSlicer.$el.getBoundingClientRect().height),this.$refs.chartLegend&&(N=this.$refs.chartLegend.getBoundingClientRect().height),this.$refs.source&&(y=this.$refs.source.getBoundingClientRect().height),this.height=S.contentBoxSize[0].blockSize-t-N-f-y-24,this.width=S.contentBoxSize[0].inlineSize,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes()}).observe(i)}else this.height=this.FINAL_CONFIG.chart.height,this.width=this.FINAL_CONFIG.chart.width,this.viewBox=`0 0 ${this.width} ${this.height}`,this.fontSizes.dataLabels=this.FINAL_CONFIG.chart.grid.labels.fontSize,this.fontSizes.yAxis=this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,this.fontSizes.xAxis=this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,this.fontSizes.plotLabels=this.FINAL_CONFIG.chart.labels.fontSize,this.plotRadii.plot=this.FINAL_CONFIG.plot.radius,this.plotRadii.line=this.FINAL_CONFIG.line.radius},selectMinimapIndex(i){this.selectedMinimapIndex=i},convertSizes(){this.fontSizes.dataLabels=this.translateSize({relator:this.height,adjuster:400,source:this.FINAL_CONFIG.chart.grid.labels.fontSize,threshold:10,fallback:10}),this.fontSizes.yAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,threshold:10,fallback:10}),this.fontSizes.xAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,threshold:10,fallback:10}),this.fontSizes.plotLabels=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.chart.labels.fontSize,threshold:10,fallback:10}),this.plotRadii.plot=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.plot.radius,threshold:1,fallback:1}),this.plotRadii.line=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.line.radius,threshold:1,fallback:1})},toggleStack(){this.mutableConfig.isStacked=!this.mutableConfig.isStacked,this.mutableConfig.isStacked?this.mutableConfig.useIndividualScale=!0:this.mutableConfig.useIndividualScale=this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},toggleTable(){this.mutableConfig.showTable=!this.mutableConfig.showTable},toggleLabels(){this.mutableConfig.dataLabels.show=!this.mutableConfig.dataLabels.show},toggleTooltip(){this.mutableConfig.showTooltip=!this.mutableConfig.showTooltip},checkAutoScaleError(i){i.autoScaling&&(this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale||console.warn(`VueUiXy (datapoint: ${i.name}) : autoScaling only works when config.chart.grid.labels.yAxis.useIndividualScale is set to true`),this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked||console.warn(`VueUiXy (datapoint: ${i.name}) : autoScaling only works when config.chart.grid.labels.yAxis.stacked is set to true`))},createArea(i){if(!i[0])return[-10,-10,"",-10,-10];const o={x:i[0].x,y:this.zero},c={x:i.at(-1).x,y:this.zero},d=[];return i.forEach(t=>{d.push(`${t.x},${t.y} `)}),[o.x,o.y,...d,c.x,c.y].toString()},createIndividualArea(i,o){if(!i[0])return[-10,-10,"",-10,-10];const c={x:i[0]?i[0].x:Math.min(...i.filter(e=>!!e).map(e=>e.x)),y:o},d={x:i.at(-1)?i.at(-1).x:Math.min(...i.filter(e=>!!e).map(e=>e.x)),y:o},t=[];return i.filter(e=>!!e).forEach(e=>{t.push(`${e.x},${e.y} `)}),[c.x,c.y,...t,d.x,d.y].toString()},createStar:Y,createPolygonPath:R,fillArray(i,o){let c=Array(i).fill(0);for(let d=0;d<o.length&&d<i;d+=1)c[d]=o[d];return c},refreshSlicer(){this.slicer={start:0,end:Math.max(...this.dataset.map(i=>this.largestTriangleThreeBucketsArray({data:i.series,threshold:this.FINAL_CONFIG.downsample.threshold}).length))},this.slicerStep+=1},calcRectHeight(i){return i.value>=0?this.checkNaN(this.zero-i.y<=0?1e-5:this.zero-i.y):this.checkNaN(i.y-this.zero<=0?1e-5:i.y-this.zero)},calcIndividualHeight(i){return i.value>=0?this.checkNaN(i.zeroPosition-i.y<=0?1e-5:i.zeroPosition-i.y):this.checkNaN(i.y-i.zeroPosition<=0?1e-5:i.zeroPosition-i.y)},calcRectWidth(){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.slot.line-this.drawingArea.width/this.maxSeries*.1:this.slot.bar},calcRectX(i){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?i.x+this.drawingArea.width/this.maxSeries*.05:i.x+this.slot.bar/2},calcRectY(i){return i.value>=0?i.y:this.zero},calcIndividualRectY(i){return i.value>=0?i.y:[null,void 0,NaN,1/0,-1/0].includes(i.zeroPosition)?0:i.zeroPosition},canShowValue(i){return![null,void 0,NaN,1/0,-1/0].includes(i)},findClosestValue(i,o){let c=o[0],d=Math.abs(i-o[0]);for(let t=1;t<o.length;t+=1){const e=Math.abs(i-o[t]);e<d&&o[t]<i&&(c=o[t],d=e)}return c},ratioToMax(i){return i/(this.canShowValue(this.absoluteMax)?this.absoluteMax:1)},selectX(i){this.$emit("selectX",{dataset:this.relativeDataset.map(o=>({name:o.name,value:[null,void 0,NaN].includes(o.absoluteValues[i])?null:o.absoluteValues[i],color:o.color,type:o.type})),index:i,indexLabel:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[i]})},getData(){return this.absoluteDataset.map(i=>({values:i.absoluteValues,color:i.color,name:i.name,type:i.type}))},segregate(i){if(this.segregatedSeries.includes(i.id))this.segregatedSeries=this.segregatedSeries.filter(o=>o!==i.id);else{if(this.segregatedSeries.length+1===this.safeDataset.length)return;this.segregatedSeries.push(i.id)}this.$emit("selectLegend",this.relativeDataset.map(o=>({name:o.name,values:o.absoluteValues,color:o.color,type:o.type}))),this.segregateStep+=1},toggleTooltipVisibility(i,o=null){this.isTooltip=i,i?this.selectedSerieIndex=o:this.selectedSerieIndex=null},toggleFullscreen(i){this.isFullscreen=i,this.step+=1},showSpinnerPdf(){this.isPrinting=!0},async generatePdf(){this.showSpinnerPdf(),clearTimeout(this.__to__),this.isPrinting=!0,this.__to__=setTimeout(async()=>{try{const{default:i}=await j(async()=>{const{default:o}=await import("./pdf-B7oVat64-B3DFN5oV.js");return{default:o}},__vite__mapDeps([0,1,2,3,4]));await i({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})}catch(i){console.error("Error generating PDF:",i)}finally{this.isPrinting=!1}},100)},generateCsv(){const i=[[this.FINAL_CONFIG.chart.title.text],[this.FINAL_CONFIG.chart.title.subtitle.text],[""]],o=["",...this.table.head.map(e=>e.label)],c=this.table.body,d=i.concat([o]).concat(c),t=this.createCsvContent(d);this.downloadCsv({csvContent:t,title:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})},showSpinnerImage(){this.isImaging=!0},async generateImage(){this.showSpinnerImage(),clearTimeout(this.__to__),this.isImaging=!0,this.__to__=setTimeout(async()=>{try{const{default:i}=await j(async()=>{const{default:o}=await import("./img-DGzWcJ4Y-CkddiW4e.js");return{default:o}},__vite__mapDeps([5,1]));await i({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy",format:"png"})}catch(i){console.error("Error generating image:",i)}finally{this.isImaging=!1}},100)}}},qe=["id"],Xe={key:1,ref:"noTitle",class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%; background:transparent"},Ue=["viewBox"],Ze={key:0},Je={class:"vue-ui-xy-grid"},Ke=["stroke","x1","x2","y1","y2"],Qe=["stroke","x1","x2","y1","y2"],et={key:1},tt=["x1","x2","y1","y2","stroke"],it=["x1","x2","y1","y2","stroke"],at=["x1","x2","y1","y2","stroke"],st={key:3},lt=["x1","x2","y1","y2","stroke"],ot=["id"],rt=["stop-color"],nt=["stop-color"],ht=["stop-color"],ct=["id"],dt=["stop-color"],ut=["stop-color"],gt=["stop-color"],pt=["id"],Nt=["stop-color"],It=["stop-color"],mt=["id"],ft=["stop-color"],xt=["stop-color"],bt=["id"],Ft=["stop-color"],yt=["stop-color"],At=["x","y","height","width","fill"],Lt=["x","y","width"],Ct=["x","y","height","width","fill"],kt=["x","y","height","width","rx","fill","stroke","stroke-width"],_t=["width","x","y"],wt={key:0},St=["id"],Ot=["fill"],vt=["x1","x2","y1","y2","stroke","marker-end"],Gt=["x","y","font-size","fill"],$t=["stroke","x1","x2","y1","y2"],Mt={key:2},zt=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Tt=["x","y","width","height","stroke","stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray"],Pt={key:4},Vt=["x1","x2","y1","y2","stroke","stroke-width"],Rt=["fill","font-size","transform"],Dt=["x1","x2","y1","y2","stroke"],Bt=["x","y","font-size","fill"],Wt=["x1","x2","y1","y2","stroke"],Et=["x","y","font-size","fill"],Ht=["width","x","y"],Yt={style:{width:"100%"}},jt={key:0},qt=["id"],Xt=["fill"],Ut=["x1","x2","y1","y2","stroke","marker-end"],Zt=["x","y","font-size","fill"],Jt=["d","stroke","stroke-width","stroke-dasharray"],Kt={key:1},Qt=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],ei={key:0},ti=["d","fill"],ii=["d","fill"],ai=["d","stroke","stroke-width","stroke-dasharray"],si={key:2},li=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],oi=["width","x","y"],ri={style:{width:"100%"}},ni={key:3},hi=["id"],ci=["fill"],di=["x1","x2","y1","y2","stroke","marker-end"],ui=["x","y","font-size","fill"],gi={key:5},pi=["x","y","font-size","fill"],Ni=["x","y","font-size","fill","font-weight"],Ii={key:6},mi=["x","y","font-size","fill"],fi=["x","y"],xi=["x","y"],bi={key:7},Fi=["x","y","font-size","fill"],yi=["x","y"],Ai=["x","y"],Li=["x","y","font-size","fill","innerHTML"],Ci=["x","y","font-size","fill","innerHTML"],ki=["x","y","font-size","fill","innerHTML"],_i=["x","y","font-size","fill","innerHTML"],wi=["x","y","width","height","fill","onMouseenter"],Si=["font-size","fill","transform"],Oi=["x","y","font-size","fill"],vi={key:9},Gi=["text-anchor","font-size","fill","transform"],$i=["x","y","height","width","onMouseenter","onClick"],Mi={key:10},zi=["x","y"],Ti=["cx","cy","r","fill"],Pi={key:5,class:"vue-data-ui-watermark"},Vi=["onClick"],Ri={key:0,viewBox:"0 0 20 12",height:"14",width:"20"},Di=["fill"],Bi={key:1,viewBox:"0 0 12 12",height:"14",width:"14"},Wi=["fill"],Ei={key:9,ref:"chartLegend"},Hi={key:10,ref:"source",dir:"auto"},Yi={style:{display:"flex","flex-direction":"row",gap:"6px","align-items":"center","padding-left":"6px"},"data-html2canvas-ignore":""},ji=["innerHTML"];function qi(i,o,c,d,t,e){const f=T("PenAndPaper"),b=T("Title"),N=T("UserOptions"),y=T("PackageVersion"),v=T("Shape"),w=T("Skeleton"),S=T("Slicer"),G=T("Tooltip"),F=T("BaseIcon"),C=T("TableSparkline"),$=T("DataTable"),z=T("Accordion");return s(),l("div",{id:`vue-ui-xy_${t.uniqueId}`,class:P(`vue-ui-xy ${t.isFullscreen?"vue-data-ui-wrapper-fullscreen":""} ${e.FINAL_CONFIG.useCssAnimation?"":"vue-ui-dna"}`),ref:"chart",style:L(`background:${e.FINAL_CONFIG.chart.backgroundColor}; color:${e.FINAL_CONFIG.chart.color};width:100%;font-family:${e.FINAL_CONFIG.chart.fontFamily};${e.FINAL_CONFIG.responsive?"height: 100%":""}`)},[e.FINAL_CONFIG.chart.userOptions.buttons.annotator?(s(),V(f,{key:0,parent:i.$refs.chart,backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color,active:t.isAnnotator,onClose:e.toggleAnnotator},null,8,["parent","backgroundColor","color","active","onClose"])):h("",!0),e.hasOptionsNoTitle?(s(),l("div",Xe,null,512)):h("",!0),e.FINAL_CONFIG.chart.title.show?(s(),l("div",{key:2,ref:"chartTitle",class:"vue-ui-xy-title",style:L(`font-family:${e.FINAL_CONFIG.chart.fontFamily}`)},[(s(),V(b,{key:`title_${t.titleStep}`,config:{title:{cy:"xy-div-title",...e.FINAL_CONFIG.chart.title},subtitle:{cy:"xy-div-subtitle",...e.FINAL_CONFIG.chart.title.subtitle}}},null,8,["config"]))],4)):h("",!0),e.FINAL_CONFIG.chart.userOptions.show&&e.isDataset?(s(),V(N,{ref:"defails",key:`user_options_${t.step}`,backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color,isPrinting:t.isPrinting,isImaging:t.isImaging,uid:t.uniqueId,hasTooltip:e.FINAL_CONFIG.chart.userOptions.buttons.tooltip&&e.FINAL_CONFIG.chart.tooltip.show,hasPdf:e.FINAL_CONFIG.chart.userOptions.buttons.pdf,hasXls:e.FINAL_CONFIG.chart.userOptions.buttons.csv,hasImg:e.FINAL_CONFIG.chart.userOptions.buttons.img,hasLabel:e.FINAL_CONFIG.chart.userOptions.buttons.labels,hasTable:e.FINAL_CONFIG.chart.userOptions.buttons.table,hasStack:c.dataset.length>1&&e.FINAL_CONFIG.chart.userOptions.buttons.stack,hasFullscreen:e.FINAL_CONFIG.chart.userOptions.buttons.fullscreen,isStacked:t.mutableConfig.isStacked,isFullscreen:t.isFullscreen,chartElement:i.$refs.chart,position:e.FINAL_CONFIG.chart.userOptions.position,isTooltip:t.mutableConfig.showTooltip,titles:{...e.FINAL_CONFIG.chart.userOptions.buttonTitles},hasAnnotator:e.FINAL_CONFIG.chart.userOptions.buttons.annotator,isAnnotation:t.isAnnotator,onToggleFullscreen:e.toggleFullscreen,onGeneratePdf:e.generatePdf,onGenerateCsv:e.generateCsv,onGenerateImage:e.generateImage,onToggleTable:e.toggleTable,onToggleLabels:e.toggleLabels,onToggleStack:e.toggleStack,onToggleTooltip:e.toggleTooltip,onToggleAnnotator:e.toggleAnnotator},Z({_:2},[i.$slots.optionTooltip?{name:"optionTooltip",fn:M(()=>[_(i.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,i.$slots.optionPdf?{name:"optionPdf",fn:M(()=>[_(i.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,i.$slots.optionCsv?{name:"optionCsv",fn:M(()=>[_(i.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,i.$slots.optionImg?{name:"optionImg",fn:M(()=>[_(i.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,i.$slots.optionTable?{name:"optionTable",fn:M(()=>[_(i.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,i.$slots.optionLabels?{name:"optionLabels",fn:M(()=>[_(i.$slots,"optionLabels",{},void 0,!0)]),key:"5"}:void 0,i.$slots.optionStack?{name:"optionStack",fn:M(()=>[_(i.$slots,"optionStack",{},void 0,!0)]),key:"6"}:void 0,i.$slots.optionFullscreen?{name:"optionFullscreen",fn:M(({toggleFullscreen:a,isFullscreen:n})=>[_(i.$slots,"optionFullscreen",D(B({toggleFullscreen:a,isFullscreen:n})),void 0,!0)]),key:"7"}:void 0,i.$slots.optionAnnotator?{name:"optionAnnotator",fn:M(({toggleAnnotator:a,isAnnotator:n})=>[_(i.$slots,"optionAnnotator",D(B({toggleAnnotator:a,isAnnotator:n})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasLabel","hasTable","hasStack","hasFullscreen","isStacked","isFullscreen","chartElement","position","isTooltip","titles","hasAnnotator","isAnnotation","onToggleFullscreen","onGeneratePdf","onGenerateCsv","onGenerateImage","onToggleTable","onToggleLabels","onToggleStack","onToggleTooltip","onToggleAnnotator"])):h("",!0),e.isDataset?(s(),l("svg",{key:4,xmlns:"http://www.w3.org/2000/svg",class:P([{"vue-data-ui-fullscreen--on":t.isFullscreen,"vue-data-ui-fulscreen--off":!t.isFullscreen},"vue-ui-xy-svg"]),width:"100%",viewBox:t.viewBox,style:L(`background: transparent; color:${e.FINAL_CONFIG.chart.color}; font-family:${e.FINAL_CONFIG.chart.fontFamily}`)},[H(y),e.maxSeries>0?(s(),l("g",Ze,[p("g",Je,[e.FINAL_CONFIG.chart.grid.labels.xAxis.showBaseline?(s(),l("line",{key:0,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.drawingArea.bottom,y2:e.drawingArea.bottom,"stroke-linecap":"round"},null,8,Ke)):h("",!0),t.mutableConfig.useIndividualScale?e.FINAL_CONFIG.chart.grid.showHorizontalLines?(s(!0),l(I,{key:2},m(e.allScales,a=>(s(),l("g",null,[a.id===t.selectedScale&&a.yLabels.length?(s(!0),l(I,{key:0},m(a.yLabels,n=>(s(),l("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(n.y),y2:e.checkNaN(n.y),stroke:a.color,"stroke-width":.5,"stroke-linecap":"round"},null,8,it))),256)):a.yLabels.length?(s(!0),l(I,{key:1},m(a.yLabels,n=>(s(),l("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(n.y),y2:e.checkNaN(n.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,at))),256)):h("",!0)]))),256)):h("",!0):(s(),l(I,{key:1},[e.FINAL_CONFIG.chart.grid.labels.yAxis.showBaseline?(s(),l("line",{key:0,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.left+e.xPadding,y1:e.drawingArea.top,y2:e.drawingArea.bottom,"stroke-linecap":"round"},null,8,Qe)):h("",!0),e.FINAL_CONFIG.chart.grid.showHorizontalLines?(s(),l("g",et,[(s(!0),l(I,null,m(e.yLabels,a=>(s(),l("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(a.y),y2:e.checkNaN(a.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,tt))),256))])):h("",!0)],64)),e.FINAL_CONFIG.chart.grid.showVerticalLines?(s(),l("g",st,[(s(!0),l(I,null,m(e.maxSeries+(e.FINAL_CONFIG.chart.grid.position==="middle"?1:0),(a,n)=>(s(),l("line",{key:`grid_vertical_line_${n}`,x1:e.drawingArea.width/e.maxSeries*n+e.drawingArea.left+e.xPadding,x2:e.drawingArea.width/e.maxSeries*n+e.drawingArea.left+e.xPadding,y1:e.drawingArea.top,y2:e.drawingArea.bottom,"stroke-width":"0.5",stroke:e.FINAL_CONFIG.chart.grid.stroke},null,8,lt))),128))])):h("",!0)]),(s(!0),l(I,null,m(e.barSet,(a,n)=>(s(),l("defs",{key:`def_rect_${n}`},[p("linearGradient",{id:`rectGradient_pos_${n}_${t.uniqueId}`,x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":a.color},null,8,rt),p("stop",{offset:"62%","stop-color":`${e.shiftHue(a.color,.02)}`},null,8,nt),p("stop",{offset:"100%","stop-color":`${e.shiftHue(a.color,.05)}`},null,8,ht)],8,ot),p("linearGradient",{id:`rectGradient_neg_${n}_${t.uniqueId}`,x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(a.color,.05)}`},null,8,dt),p("stop",{offset:"38%","stop-color":`${e.shiftHue(a.color,.02)}`},null,8,ut),p("stop",{offset:"100%","stop-color":a.color},null,8,gt)],8,ct)]))),128)),(s(!0),l(I,null,m(e.plotSet,(a,n)=>(s(),l("defs",{key:`def_plot_${n}`},[p("radialGradient",{id:`plotGradient_${n}_${t.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(a.color,.05)}`},null,8,Nt),p("stop",{offset:"100%","stop-color":a.color},null,8,It)],8,pt)]))),128)),(s(!0),l(I,null,m(e.lineSet,(a,n)=>(s(),l("defs",{key:`def_line_${n}`},[p("radialGradient",{id:`lineGradient_${n}_${t.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(a.color,.05)}`},null,8,ft),p("stop",{offset:"100%","stop-color":a.color},null,8,xt)],8,mt),p("linearGradient",{id:`areaGradient_${n}_${t.uniqueId}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[p("stop",{offset:"0%","stop-color":`${e.setOpacity(e.shiftHue(a.color,.03),e.FINAL_CONFIG.line.area.opacity)}`},null,8,Ft),p("stop",{offset:"100%","stop-color":`${e.setOpacity(a.color,e.FINAL_CONFIG.line.area.opacity)}`},null,8,yt)],8,bt)]))),128)),(s(!0),l(I,null,m(e.highlightAreas,a=>(s(),l("g",null,[a.show?(s(!0),l(I,{key:0},m(a.span,(n,r)=>(s(),l("g",null,[p("rect",{style:L({transition:"none",opacity:a.from+r>=t.slicer.start&&a.from+r<=t.slicer.end-1?1:0}),x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(a.from+r-t.slicer.start),y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:e.setOpacity(a.color,a.opacity)},null,12,At),a.caption.text&&r===0?(s(),l("foreignObject",{key:0,x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(a.from+r-t.slicer.start)-(a.caption.width==="auto"?0:a.caption.width/2-e.drawingArea.width/e.maxSeries*a.span/2),y:e.drawingArea.top+a.caption.offsetY,style:L({overflow:"visible",opacity:a.to>=t.slicer.start&&a.from<t.slicer.end?1:0}),height:"1",width:a.caption.width==="auto"?e.drawingArea.width/e.maxSeries*a.span:a.caption.width},[p("div",{style:L(`padding:${a.caption.padding}px;text-align:${a.caption.textAlign};font-size:${a.caption.fontSize}px;color:${a.caption.color};font-weight:${a.caption.bold?"bold":"normal"}`)},k(a.caption.text),5)],12,Lt)):h("",!0)]))),256)):h("",!0)]))),256)),p("g",null,[(s(!0),l(I,null,m(e.maxSeries,(a,n)=>(s(),l("g",{key:`tooltip_trap_highlighter_${n}`},[p("rect",{x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*n,y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:[t.selectedMinimapIndex,t.selectedSerieIndex,t.selectedRowIndex].includes(n)?e.setOpacity(e.FINAL_CONFIG.chart.highlighter.color,e.FINAL_CONFIG.chart.highlighter.opacity):"transparent"},null,8,Ct)]))),128))]),e.barSet.length?(s(!0),l(I,{key:0},m(e.barSet,(a,n)=>(s(),l("g",{key:`serie_bar_${n}`,class:P(`serie_bar_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`bar_plot_${n}_${u}`},[e.canShowValue(r.value)?(s(),l("rect",{key:0,x:e.calcRectX(r),y:t.mutableConfig.useIndividualScale?e.calcIndividualRectY(r):e.calcRectY(r),height:t.mutableConfig.useIndividualScale?Math.abs(e.calcIndividualHeight(r)):Math.abs(e.calcRectHeight(r)),width:e.calcRectWidth()-(t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?0:e.barPeriodGap)<0?1e-5:e.calcRectWidth()-(t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?0:e.barPeriodGap),rx:e.FINAL_CONFIG.bar.borderRadius,fill:e.FINAL_CONFIG.bar.useGradient?r.value>=0?`url(#rectGradient_pos_${n}_${t.uniqueId})`:`url(#rectGradient_neg_${n}_${t.uniqueId})`:a.color,stroke:e.FINAL_CONFIG.bar.border.useSerieColor?a.color:e.FINAL_CONFIG.bar.border.stroke,"stroke-width":e.FINAL_CONFIG.bar.border.strokeWidth},null,8,kt)):h("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:(e.calcRectWidth()-(t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?0:e.barPeriodGap)<0?1e-5:e.calcRectWidth()-(t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?0:e.barPeriodGap)/2)+e.FINAL_CONFIG.chart.comments.width,x:e.calcRectX(r)-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:e.checkNaN(r.y)+e.FINAL_CONFIG.chart.comments.offsetY+6},[_(i.$slots,"plot-comment",{plot:{...r,color:a.color,seriesIndex:n,datapointIndex:u}},void 0,!0)],8,_t)):h("",!0)]))),128)),Object.hasOwn(a,"useProgression")&&a.useProgression===!0&&!isNaN(e.calcLinearProgression(a.plots).trend)?(s(),l("g",wt,[p("defs",null,[p("marker",{id:`bar_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:a.color},null,8,Ot)],8,St)]),a.plots.length>1?(s(),l("line",{key:0,x1:e.calcLinearProgression(a.plots).x1,x2:e.calcLinearProgression(a.plots).x2,y1:e.calcLinearProgression(a.plots).y1,y2:e.calcLinearProgression(a.plots).y2,"stroke-width":1,stroke:a.color,"stroke-dasharray":2,"marker-end":`url(#bar_arrow_${n})`},null,8,vt)):h("",!0),a.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(a.plots).x2,y:e.calcLinearProgression(a.plots).y2-6,"font-size":t.fontSizes.plotLabels,fill:a.color},k(e.dataLabel({v:e.calcLinearProgression(a.plots).trend*100,s:"%",r:2})),9,Gt)):h("",!0)])):h("",!0)],6))),128)):h("",!0),!t.mutableConfig.useIndividualScale&&e.FINAL_CONFIG.chart.grid.labels.zeroLine.show?(s(),l("line",{key:1,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(e.zero),y2:e.checkNaN(e.zero),"stroke-linecap":"round"},null,8,$t)):h("",!0),e.FINAL_CONFIG.chart.highlighter.useLine&&(![null,void 0].includes(t.selectedSerieIndex)||![null,void 0].includes(t.selectedMinimapIndex))?(s(),l("g",Mt,[p("line",{x1:e.drawingArea.left+e.drawingArea.width/e.maxSeries*((t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0))+e.drawingArea.width/e.maxSeries/2,x2:e.drawingArea.left+e.drawingArea.width/e.maxSeries*((t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0))+e.drawingArea.width/e.maxSeries/2,y1:e.drawingArea.top,y2:e.drawingArea.bottom,stroke:e.FINAL_CONFIG.chart.highlighter.color,"stroke-width":e.FINAL_CONFIG.chart.highlighter.lineWidth,"stroke-dasharray":e.FINAL_CONFIG.chart.highlighter.lineDasharray,"stroke-linecap":"round",style:{transition:"none !important",animation:"none !important","pointer-events":"none"}},null,8,zt)])):h("",!0),e.FINAL_CONFIG.chart.grid.frame.show?(s(),l("rect",{key:3,style:{pointerEvents:"none",transition:"none"},x:e.drawingArea.left+e.xPadding<0?0:e.drawingArea.left+e.xPadding,y:e.drawingArea.top,width:e.drawingArea.width-(e.FINAL_CONFIG.chart.grid.position==="middle"?0:e.drawingArea.width/e.maxSeries)<0?0:e.drawingArea.width-(e.FINAL_CONFIG.chart.grid.position==="middle"?0:e.drawingArea.width/e.maxSeries),height:e.drawingArea.height<0?0:e.drawingArea.height,fill:"transparent",stroke:e.FINAL_CONFIG.chart.grid.frame.stroke,"stroke-width":e.FINAL_CONFIG.chart.grid.frame.strokeWidth,"stroke-linecap":e.FINAL_CONFIG.chart.grid.frame.strokeLinecap,"stroke-linejoin":e.FINAL_CONFIG.chart.grid.frame.strokeLinejoin,"stroke-dasharray":e.FINAL_CONFIG.chart.grid.frame.strokeDasharray},null,8,Tt)):h("",!0),e.FINAL_CONFIG.chart.grid.labels.show?(s(),l("g",Pt,[t.mutableConfig.useIndividualScale?(s(),l(I,{key:0},[(s(!0),l(I,null,m(e.allScales,a=>(s(),l("g",null,[p("line",{x1:a.x+e.xPadding,x2:a.x+e.xPadding,y1:t.mutableConfig.isStacked?e.checkNaN(e.drawingArea.bottom-a.yOffset-a.individualHeight):e.checkNaN(e.drawingArea.top),y2:t.mutableConfig.isStacked?e.checkNaN(e.drawingArea.bottom-a.yOffset):e.checkNaN(e.drawingArea.bottom),stroke:a.color,"stroke-width":e.FINAL_CONFIG.chart.grid.stroke,"stroke-linecap":"round",style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},null,12,Vt)]))),256)),(s(!0),l(I,null,m(e.allScales,a=>(s(),l("g",{style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},[p("text",{fill:a.color,"font-size":t.fontSizes.dataLabels,"text-anchor":"middle",transform:`translate(${a.x-e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth+5}, ${t.mutableConfig.isStacked?e.drawingArea.bottom-a.yOffset-a.individualHeight/2:e.drawingArea.top+e.drawingArea.height/2}) rotate(-90)`},k(a.name)+" "+k(a.scaleLabel?`- ${a.scaleLabel}`:""),9,Rt),(s(!0),l(I,null,m(a.yLabels,(n,r)=>(s(),l("line",{x1:a.x-3+e.xPadding,x2:a.x+e.xPadding,y1:e.checkNaN(n.y),y2:e.checkNaN(n.y),stroke:a.color,"stroke-width":1,"stroke-linecap":"round"},null,8,Dt))),256)),(s(!0),l(I,null,m(a.yLabels,(n,r)=>(s(),l("text",{x:a.x-5+e.xPadding,y:e.checkNaN(n.y)+t.fontSizes.dataLabels/3,"font-size":t.fontSizes.dataLabels,"text-anchor":"end",fill:a.color},k(e.applyDataLabel(e.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,n.value,e.dataLabel({p:n.prefix,v:n.value,s:n.suffix,r:1}),{datapoint:n.datapoint,seriesIndex:r})),9,Bt))),256))],4))),256))],64)):(s(!0),l(I,{key:1},m(e.yLabels,(a,n)=>(s(),l("g",{key:`yLabel_${n}`},[e.canShowValue(a)&&a.value>=e.niceScale.min&&a.value<=e.niceScale.max?(s(),l("line",{key:0,x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.left-5+e.xPadding,y1:e.checkNaN(a.y),y2:e.checkNaN(a.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1","stroke-linecap":"round"},null,8,Wt)):h("",!0),a.value>=e.niceScale.min&&a.value<=e.niceScale.max?(s(),l("text",{key:1,x:e.drawingArea.left-7+e.xPadding,y:e.checkNaN(a.y+t.fontSizes.dataLabels/3),"font-size":t.fontSizes.dataLabels,"text-anchor":"end",fill:e.FINAL_CONFIG.chart.grid.labels.color},k(e.canShowValue(a.value)?e.applyDataLabel(e.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,a.value,e.dataLabel({p:a.prefix,v:a.value,s:a.suffix,r:1})):""),9,Et)):h("",!0)]))),128))])):h("",!0),(s(!0),l(I,null,m(e.plotSet,(a,n)=>(s(),l("g",{key:`serie_plot_${n}`,class:P(`serie_plot_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`circle_plot_${n}_${u}`},[r&&e.canShowValue(r.value)?(s(),V(v,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",color:e.FINAL_CONFIG.plot.useGradient?`url(#plotGradient_${n}_${t.uniqueId})`:e.FINAL_CONFIG.plot.dot.useSerieColor?a.color:e.FINAL_CONFIG.plot.dot.fill,plot:{x:e.checkNaN(r.x),y:e.checkNaN(r.y)},radius:t.selectedSerieIndex!==null&&t.selectedSerieIndex===u||t.selectedMinimapIndex!==null&&t.selectedMinimapIndex===u?(t.plotRadii.plot||6)*1.5:t.plotRadii.plot||6,stroke:e.FINAL_CONFIG.plot.dot.useSerieColor?e.FINAL_CONFIG.chart.backgroundColor:a.color,strokeWidth:e.FINAL_CONFIG.plot.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):h("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.FINAL_CONFIG.chart.comments.width,x:r.x-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:r.y+e.FINAL_CONFIG.chart.comments.offsetY+6},[p("div",Yt,[_(i.$slots,"plot-comment",{plot:{...r,color:a.color,seriesIndex:n,datapointIndex:u}},void 0,!0)])],8,Ht)):h("",!0)]))),128)),Object.hasOwn(a,"useProgression")&&a.useProgression===!0&&!isNaN(e.calcLinearProgression(a.plots).trend)?(s(),l("g",jt,[p("defs",null,[p("marker",{id:`plot_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:a.color},null,8,Xt)],8,qt)]),a.plots.length>1?(s(),l("line",{key:0,x1:e.calcLinearProgression(a.plots).x1,x2:e.calcLinearProgression(a.plots).x2,y1:e.calcLinearProgression(a.plots).y1,y2:e.calcLinearProgression(a.plots).y2,"stroke-width":1,stroke:a.color,"stroke-dasharray":2,"marker-end":`url(#plot_arrow_${n})`},null,8,Ut)):h("",!0),a.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(a.plots).x2,y:e.calcLinearProgression(a.plots).y2-6,"font-size":t.fontSizes.plotLabels,fill:a.color},k(e.dataLabel({v:e.calcLinearProgression(a.plots).trend*100,s:"%",r:2})),9,Zt)):h("",!0)])):h("",!0)],6))),128)),(s(!0),l(I,null,m(e.lineSet,(a,n)=>(s(),l("g",{key:`serie_line_${n}`,class:P(`serie_line_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[a.smooth&&a.plots.length>1?(s(),l("path",{key:0,d:`M${a.curve}`,stroke:e.FINAL_CONFIG.chart.backgroundColor,"stroke-width":e.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":a.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,Jt)):a.plots.length>1?(s(),l("g",Kt,[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`line_${n}_${u}`},[r&&u<a.plots.length-1&&a.plots[u+1]&&e.canShowValue(r.value)&&e.canShowValue(a.plots[u+1].value)?(s(),l("line",{key:0,x1:r.x,x2:a.plots[u+1].x,y1:r.y,y2:a.plots[u+1].y,stroke:e.FINAL_CONFIG.chart.backgroundColor,"stroke-width":e.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":a.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,Qt)):h("",!0)]))),128))])):h("",!0)],6))),128)),(s(!0),l(I,null,m(e.lineSet,(a,n)=>(s(),l("g",{key:`serie_line_${n}`,class:P(`serie_line_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[a.useArea&&a.plots.length>1?(s(),l("g",ei,[a.smooth?(s(),l("path",{key:0,d:`M ${a.plots[0]?a.plots[0].x:Math.min(...a.plots.filter(r=>!!r).map(r=>r.x))},${t.mutableConfig.isStacked?e.drawingArea.bottom-a.yOffset:e.drawingArea.bottom} ${a.curve} L ${a.plots.at(-1)?a.plots.at(-1).x:e.drawingArea.left+e.slot.line*n+e.slot.line/2},${t.mutableConfig.isStacked?e.drawingArea.bottom-a.yOffset:e.drawingArea.bottom} Z`,fill:e.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${n}_${t.uniqueId})`:e.setOpacity(a.color,e.FINAL_CONFIG.line.area.opacity)},null,8,ti)):(s(),l("path",{key:1,d:`M${a.area}Z`,fill:e.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${n}_${t.uniqueId})`:e.setOpacity(a.color,e.FINAL_CONFIG.line.area.opacity)},null,8,ii))])):h("",!0),a.smooth&&a.plots.length>1?(s(),l("path",{key:1,d:`M${a.curve}`,stroke:a.color,"stroke-width":e.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":a.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,ai)):a.plots.length>1?(s(),l("g",si,[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`line_${n}_${u}`},[r&&u<a.plots.length-1&&a.plots[u+1]&&e.canShowValue(r.value)&&e.canShowValue(a.plots[u+1].value)?(s(),l("line",{key:0,x1:r.x,x2:a.plots[u+1].x,y1:r.y,y2:a.plots[u+1].y,stroke:a.color,"stroke-width":e.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":a.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,li)):h("",!0)]))),128))])):h("",!0),(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`circle_line_${n}_${u}`},[r&&e.canShowValue(r.value)?(s(),V(v,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",color:e.FINAL_CONFIG.line.useGradient?`url(#lineGradient_${n}_${t.uniqueId})`:e.FINAL_CONFIG.line.dot.useSerieColor?a.color:e.FINAL_CONFIG.line.dot.fill,plot:{x:e.checkNaN(r.x),y:e.checkNaN(r.y)},radius:t.selectedSerieIndex!==null&&t.selectedSerieIndex===u||t.selectedMinimapIndex!==null&&t.selectedMinimapIndex===u?(t.plotRadii.line||6)*1.5:t.plotRadii.line||6,stroke:e.FINAL_CONFIG.line.dot.useSerieColor?e.FINAL_CONFIG.chart.backgroundColor:a.color,strokeWidth:e.FINAL_CONFIG.line.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):h("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.FINAL_CONFIG.chart.comments.width,x:r.x-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:r.y+e.FINAL_CONFIG.chart.comments.offsetY+6},[p("div",ri,[_(i.$slots,"plot-comment",{plot:{...r,color:a.color,seriesIndex:n,datapointIndex:u}},void 0,!0)])],8,oi)):h("",!0)]))),128)),Object.hasOwn(a,"useProgression")&&a.useProgression===!0&&!isNaN(e.calcLinearProgression(a.plots).trend)?(s(),l("g",ni,[p("defs",null,[p("marker",{id:`line_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:a.color},null,8,ci)],8,hi)]),a.plots.length>1?(s(),l("line",{key:0,x1:e.calcLinearProgression(a.plots).x1,x2:e.calcLinearProgression(a.plots).x2,y1:e.calcLinearProgression(a.plots).y1,y2:e.calcLinearProgression(a.plots).y2,"stroke-width":1,stroke:a.color,"stroke-dasharray":2,"marker-end":`url(#line_arrow_${n})`},null,8,di)):h("",!0),a.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(a.plots).x2,y:e.calcLinearProgression(a.plots).y2-6,"font-size":t.fontSizes.plotLabels,fill:a.color},k(e.dataLabel({v:e.calcLinearProgression(a.plots).trend*100,s:"%",r:2})),9,ui)):h("",!0)])):h("",!0)],6))),128)),(e.FINAL_CONFIG.bar.labels.show||e.FINAL_CONFIG.bar.serieName.show)&&t.mutableConfig.dataLabels.show?(s(),l("g",gi,[(s(!0),l(I,null,m(e.barSet,(a,n)=>(s(),l("g",{key:`xLabel_bar_${n}`,class:P(`xLabel_bar_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`xLabel_bar_${n}_${u}`},[r&&(!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||t.selectedSerieIndex!==null&&t.selectedSerieIndex===u||t.selectedMinimapIndex!==null&&t.selectedMinimapIndex===u)&&e.FINAL_CONFIG.bar.labels.show?(s(),l("text",{key:0,x:t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?r.x+e.slot.line/2:e.calcRectX(r)+e.calcRectWidth()/2-e.barPeriodGap/2,y:e.checkNaN(r.y)+(r.value>=0?e.FINAL_CONFIG.bar.labels.offsetY:-e.FINAL_CONFIG.bar.labels.offsetY*3),"text-anchor":"middle","font-size":t.fontSizes.plotLabels,fill:e.FINAL_CONFIG.bar.labels.color},k(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.bar.labels.formatter,r.value,e.dataLabel({p:a.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:a.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.bar.labels.rounding}),{datapoint:r,serie:a}):""),9,pi)):h("",!0),r&&e.FINAL_CONFIG.bar.serieName.show?(s(),l("text",{key:1,x:t.mutableConfig.useIndividualScale&&t.mutableConfig.isStacked?r.x+e.slot.line/2:r.x+e.calcRectWidth()*1.1,y:r.y+(r.value>0?e.FINAL_CONFIG.bar.serieName.offsetY:-e.FINAL_CONFIG.bar.serieName.offsetY*3),"text-anchor":"middle","font-size":t.fontSizes.plotLabels,fill:e.FINAL_CONFIG.bar.serieName.useSerieColor?a.color:e.FINAL_CONFIG.bar.serieName.color,"font-weight":e.FINAL_CONFIG.bar.serieName.bold?"bold":"normal"},k(e.FINAL_CONFIG.bar.serieName.useAbbreviation?e.abbreviate({source:a.name,length:e.FINAL_CONFIG.bar.serieName.abbreviationSize}):a.name),9,Ni)):h("",!0)]))),128))],6))),128))])):h("",!0),e.FINAL_CONFIG.plot.labels.show&&t.mutableConfig.dataLabels.show?(s(),l("g",Ii,[(s(!0),l(I,null,m(e.plotSet,(a,n)=>(s(),l("g",{key:`xLabel_plot_${n}`,class:P(`xLabel_plot_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`xLabel_plot_${n}_${u}`},[r&&!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||t.selectedSerieIndex!==null&&t.selectedSerieIndex===u||t.selectedMinimapIndex!==null&&t.selectedMinimapIndex===u?(s(),l("text",{key:0,x:r.x,y:r.y+e.FINAL_CONFIG.plot.labels.offsetY,"text-anchor":"middle","font-size":t.fontSizes.plotLabels,fill:e.FINAL_CONFIG.plot.labels.color},k(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.plot.labels.formatter,r.value,e.dataLabel({p:a.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:a.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.plot.labels.rounding}),{datapoint:r,serie:a}):""),9,mi)):h("",!0),r&&u===0&&a.useTag&&a.useTag==="start"?(s(),l("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:L(`padding: 3px; background:${e.setOpacity(a.color,80)};color:${e.adaptColorToBackground(a.color)};width:fit-content;font-size:${t.fontSizes.plotLabels}px;border-radius: 2px;`)},k(a.name),5)],8,fi)):h("",!0),r&&u===a.plots.length-1&&a.useTag&&a.useTag==="end"?(s(),l("foreignObject",{key:2,x:r.x-a.name.length*(t.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:L(`padding: 3px; background:${e.setOpacity(a.color,80)};color:${e.adaptColorToBackground(a.color)};width:fit-content;font-size:${t.fontSizes.plotLabels}px;border-radius: 2px;`)},k(a.name),5)],8,xi)):h("",!0)]))),128))],6))),128))])):h("",!0),e.FINAL_CONFIG.line.labels.show&&t.mutableConfig.dataLabels.show?(s(),l("g",bi,[(s(!0),l(I,null,m(e.lineSet,(a,n)=>(s(),l("g",{key:`xLabel_line_${n}`,class:P(`xLabel_line_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`xLabel_line_${n}_${u}`},[r&&!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||t.selectedSerieIndex!==null&&t.selectedSerieIndex===u||t.selectedMinimapIndex!==null&&t.selectedMinimapIndex===u?(s(),l("text",{key:0,x:r.x,y:r.y+(r.value>=0?e.FINAL_CONFIG.line.labels.offsetY:-e.FINAL_CONFIG.line.labels.offsetY*3),"text-anchor":"middle","font-size":t.fontSizes.plotLabels,fill:e.FINAL_CONFIG.line.labels.color},k(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.line.labels.formatter,r.value,e.dataLabel({p:a.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:a.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.line.labels.rounding}),{datapoint:r,serie:a}):""),9,Fi)):h("",!0),r&&u===0&&a.useTag&&a.useTag==="start"?(s(),l("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:L(`padding: 3px; background:${e.setOpacity(a.color,80)};color:${e.adaptColorToBackground(a.color)};width:fit-content;font-size:${t.fontSizes.plotLabels}px;border-radius: 2px;`)},k(a.name),5)],8,yi)):h("",!0),r&&u===a.plots.length-1&&a.useTag&&a.useTag==="end"?(s(),l("foreignObject",{key:2,x:r.x-a.name.length*(t.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:L(`padding: 3px; background:${e.setOpacity(a.color,80)};color:${e.adaptColorToBackground(a.color)};width:fit-content;font-size:${t.fontSizes.plotLabels}px;border-radius: 2px;`)},k(a.name),5)],8,Ai)):h("",!0)]))),128))],6))),128))])):h("",!0),(s(!0),l(I,null,m(e.lineSet,(a,n)=>(s(),l("g",{key:`xLabel_line_${n}`,class:P(`xLabel_line_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`xLabel_line_${n}_${u}`},[r&&u===0&&a.showSerieName&&a.showSerieName==="start"?(s(),l("text",{key:0,x:r.x-t.fontSizes.plotLabels,y:r.y,"font-size":t.fontSizes.plotLabels,"text-anchor":"end",fill:a.color,innerHTML:e.createTSpans({content:a.name,fontSize:t.fontSizes.plotLabels,fill:a.color,x:r.x-t.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Li)):h("",!0),r&&u===a.plots.length-1&&a.showSerieName&&a.showSerieName==="end"?(s(),l("text",{key:1,x:r.x+t.fontSizes.plotLabels,y:r.y,"font-size":t.fontSizes.plotLabels,"text-anchor":"start",fill:a.color,innerHTML:e.createTSpans({content:a.name,fontSize:t.fontSizes.plotLabels,fill:a.color,x:r.x+t.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Ci)):h("",!0)]))),128))],6))),128)),(s(!0),l(I,null,m(e.plotSet,(a,n)=>(s(),l("g",{key:`xLabel_plot_${n}`,class:P(`xLabel_plot_${n}`),style:L(`opacity:${t.selectedScale?t.selectedScale===a.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(I,null,m(a.plots,(r,u)=>(s(),l("g",{key:`xLabel_plot_${n}_${u}`},[r&&u===0&&a.showSerieName&&a.showSerieName==="start"?(s(),l("text",{key:0,x:r.x-t.fontSizes.plotLabels,y:r.y,"font-size":t.fontSizes.plotLabels,"text-anchor":"end",fill:a.color,innerHTML:e.createTSpans({content:a.name,fontSize:t.fontSizes.plotLabels,fill:a.color,x:r.x-t.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,ki)):h("",!0),r&&u===a.plots.length-1&&a.showSerieName&&a.showSerieName==="end"?(s(),l("text",{key:1,x:r.x+t.fontSizes.plotLabels,y:r.y,"font-size":t.fontSizes.plotLabels,"text-anchor":"start",fill:a.color,innerHTML:e.createTSpans({content:a.name,fontSize:t.fontSizes.plotLabels,fill:a.color,x:r.x+t.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,_i)):h("",!0)]))),128))],6))),128)),t.mutableConfig.useIndividualScale&&!t.mutableConfig.isStacked?(s(!0),l(I,{key:8},m(e.allScales,a=>(s(),l("rect",{x:a.x-e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,y:e.drawingArea.top,width:e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,height:e.drawingArea.height<0?10:e.drawingArea.height,fill:t.selectedScale===a.id?e.setOpacity(a.color,20):"transparent",onMouseenter:n=>t.selectedScale=a.id,onMouseleave:o[0]||(o[0]=n=>t.selectedScale=null)},null,40,wi))),256)):h("",!0),p("g",null,[e.FINAL_CONFIG.chart.grid.labels.axis.yLabel&&!t.mutableConfig.useIndividualScale?(s(),l("text",{key:0,"font-size":t.fontSizes.yAxis,fill:e.FINAL_CONFIG.chart.grid.labels.color,transform:`translate(${t.fontSizes.yAxis+e.FINAL_CONFIG.chart.grid.labels.axis.yLabelOffsetX}, ${e.drawingArea.top+e.drawingArea.height/2}) rotate(-90)`,"text-anchor":"middle",style:{transition:"none"}},k(e.FINAL_CONFIG.chart.grid.labels.axis.yLabel),9,Si)):h("",!0),e.FINAL_CONFIG.chart.grid.labels.axis.xLabel?(s(),l("text",{key:1,"text-anchor":"middle",x:t.width/2,y:e.drawingArea.bottom+t.fontSizes.yAxis+t.fontSizes.xAxis*1.3+e.FINAL_CONFIG.chart.grid.labels.axis.xLabelOffsetY,"font-size":t.fontSizes.yAxis,fill:e.FINAL_CONFIG.chart.grid.labels.color},k(e.FINAL_CONFIG.chart.grid.labels.axis.xLabel),9,Oi)):h("",!0)]),e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.show?(s(),l("g",vi,[(s(!0),l(I,null,m(e.timeLabels,(a,n)=>(s(),l("g",{key:`time_label_${n}`},[a&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||a&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&(n===0||n===e.timeLabels.length-1)&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||a&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&t.selectedSerieIndex===n&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||a&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo&&n%Math.floor((this.slicer.end-this.slicer.start)/e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.modulo)===0?(s(),l("text",{key:0,"text-anchor":e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation>0?"start":e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle","font-size":t.fontSizes.xAxis,fill:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.color,transform:`translate(${e.drawingArea.left+e.drawingArea.width/e.maxSeries*n+e.drawingArea.width/e.maxSeries/2}, ${e.drawingArea.bottom+t.fontSizes.xAxis*1.3+e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.yOffset}), rotate(${e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation})`},k(a||""),9,Gi)):h("",!0)]))),128))])):h("",!0),p("g",null,[(s(!0),l(I,null,m(e.maxSeries,(a,n)=>(s(),l("g",{key:`tooltip_trap_${n}`},[p("rect",{"data-cy-trap":"",x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*n,y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:"transparent",onMouseenter:r=>e.toggleTooltipVisibility(!0,n),onMouseleave:o[1]||(o[1]=r=>e.toggleTooltipVisibility(!1)),onClick:r=>e.selectX(n)},null,40,$i)]))),128))]),e.FINAL_CONFIG.chart.timeTag.show&&(![null,void 0].includes(t.selectedSerieIndex)||![null,void 0].includes(t.selectedMinimapIndex))?(s(),l("g",Mi,[(s(),l("foreignObject",{x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*((t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0))-100+e.drawingArea.width/e.maxSeries/2,y:e.drawingArea.bottom,width:"200",height:"40",style:{overflow:"visible !important"}},[p("div",{class:"vue-ui-xy-time-tag",style:L(`width: fit-content;margin: 0 auto;text-align:center;padding:3px 12px;background:${e.FINAL_CONFIG.chart.timeTag.backgroundColor};color:${e.FINAL_CONFIG.chart.timeTag.color};font-size:${e.FINAL_CONFIG.chart.timeTag.fontSize}px`)},k(e.timeLabels[(t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0)]||(t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0)),5)],8,zi)),p("circle",{cx:e.drawingArea.left+e.drawingArea.width/e.maxSeries*((t.selectedSerieIndex!==null?t.selectedSerieIndex:0)||(t.selectedMinimapIndex!==null?t.selectedMinimapIndex:0))+e.drawingArea.width/e.maxSeries/2,cy:e.drawingArea.bottom,r:e.FINAL_CONFIG.chart.timeTag.circleMarker.radius,fill:e.FINAL_CONFIG.chart.timeTag.circleMarker.color},null,8,Ti)])):h("",!0)])):h("",!0),_(i.$slots,"svg",{svg:e.svg},void 0,!0)],14,Ue)):h("",!0),i.$slots.watermark?(s(),l("div",Pi,[_(i.$slots,"watermark",D(B({isPrinting:t.isPrinting||t.isImaging})),void 0,!0)])):h("",!0),e.isDataset?h("",!0):(s(),V(w,{key:6,config:{type:"line",style:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,line:{axis:{color:e.FINAL_CONFIG.chart.grid.stroke},path:{color:e.FINAL_CONFIG.chart.grid.stroke,strokeWidth:.5}}}}},null,8,["config"])),e.FINAL_CONFIG.chart.zoom.show&&t.maxX>6&&e.isDataset?(s(),V(S,{ref:"chartSlicer",key:`slicer_${t.slicerStep}`,background:e.FINAL_CONFIG.chart.zoom.color,fontSize:e.FINAL_CONFIG.chart.zoom.fontSize,useResetSlot:e.FINAL_CONFIG.chart.zoom.useResetSlot,labelLeft:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[t.slicer.start],labelRight:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[t.slicer.end-1],textColor:e.FINAL_CONFIG.chart.color,inputColor:e.FINAL_CONFIG.chart.zoom.color,selectColor:e.FINAL_CONFIG.chart.zoom.highlightColor,borderColor:e.FINAL_CONFIG.chart.backgroundColor,minimap:e.minimap,smoothMinimap:e.FINAL_CONFIG.chart.zoom.minimap.smooth,minimapSelectedColor:e.FINAL_CONFIG.chart.zoom.minimap.selectedColor,minimapSelectionRadius:e.FINAL_CONFIG.chart.zoom.minimap.selectionRadius,minimapLineColor:e.FINAL_CONFIG.chart.zoom.minimap.lineColor,minimapSelectedColorOpacity:e.FINAL_CONFIG.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:t.selectedSerieIndex,minimapIndicatorColor:e.FINAL_CONFIG.chart.zoom.minimap.indicatorColor,max:t.maxX,min:0,valueStart:t.slicer.start,valueEnd:t.slicer.end,start:t.slicer.start,"onUpdate:start":o[2]||(o[2]=a=>t.slicer.start=a),end:t.slicer.end,"onUpdate:end":o[3]||(o[3]=a=>t.slicer.end=a),onReset:e.refreshSlicer,onTrapMouse:e.selectMinimapIndex},{"reset-action":M(({reset:a})=>[_(i.$slots,"reset-action",D(B({reset:a})),void 0,!0)]),_:3},8,["background","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","borderColor","minimap","smoothMinimap","minimapSelectedColor","minimapSelectionRadius","minimapLineColor","minimapSelectedColorOpacity","minimapSelectedIndex","minimapIndicatorColor","max","valueStart","valueEnd","start","end","onReset","onTrapMouse"])):h("",!0),e.FINAL_CONFIG.chart.legend.show?(s(),l("div",{key:8,ref:"chartLegend",class:"vue-ui-xy-legend",style:L(`font-size:${e.FINAL_CONFIG.chart.legend.fontSize}px`)},[(s(!0),l(I,null,m(e.absoluteDataset,(a,n)=>(s(),l("div",{key:`div_legend_item_${n}`,onClick:r=>e.segregate(a),class:P({"vue-ui-xy-legend-item":!0,"vue-ui-xy-legend-item-segregated":t.segregatedSeries.includes(a.id)})},[t.icons[a.type]==="line"?(s(),l("svg",Ri,[p("rect",{x:"0",y:"7",rx:"3",stroke:"none",height:"4",width:"20",fill:a.color},null,8,Di),H(v,{plot:{x:10,y:9},radius:4,color:a.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",stroke:e.FINAL_CONFIG.chart.backgroundColor,strokeWidth:1},null,8,["color","shape","stroke"])])):(s(),l("svg",Bi,[t.icons[a.type]==="bar"?(s(),l("rect",{key:0,x:"0",y:"0",rx:"1",height:"12",width:"12",stroke:"none",fill:a.color},null,8,Wi)):(s(),V(v,{key:1,plot:{x:6,y:6},radius:5,color:a.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle"},null,8,["color","shape"]))])),p("span",{style:L(`color:${e.FINAL_CONFIG.chart.legend.color}`)},k(a.name),5)],10,Vi))),128))],4)):(s(),l("div",Ei,[_(i.$slots,"legend",{legend:e.absoluteDataset},void 0,!0)],512)),i.$slots.source?(s(),l("div",Hi,[_(i.$slots,"source",{},void 0,!0)],512)):h("",!0),H(G,{show:t.mutableConfig.showTooltip&&t.isTooltip,backgroundColor:e.FINAL_CONFIG.chart.tooltip.backgroundColor,color:e.FINAL_CONFIG.chart.tooltip.color,fontSize:e.FINAL_CONFIG.chart.tooltip.fontSize,borderRadius:e.FINAL_CONFIG.chart.tooltip.borderRadius,borderColor:e.FINAL_CONFIG.chart.tooltip.borderColor,borderWidth:e.FINAL_CONFIG.chart.tooltip.borderWidth,backgroundOpacity:e.FINAL_CONFIG.chart.tooltip.backgroundOpacity,position:e.FINAL_CONFIG.chart.tooltip.position,offsetY:e.FINAL_CONFIG.chart.tooltip.offsetY,parent:i.$refs.chart,content:e.tooltipContent,isCustom:e.FINAL_CONFIG.chart.tooltip.customFormat&&typeof e.FINAL_CONFIG.chart.tooltip.customFormat=="function"},{"tooltip-before":M(()=>[_(i.$slots,"tooltip-before",D(B({...e.dataTooltipSlot})),void 0,!0)]),"tooltip-after":M(()=>[_(i.$slots,"tooltip-after",D(B({...e.dataTooltipSlot})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom"]),e.isDataset?(s(),V(z,{key:11,hideDetails:"",config:{open:t.mutableConfig.showTable,maxHeight:1e4,body:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color},head:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color}}},{content:M(()=>[p("div",{style:L(`${t.isPrinting?"":"max-height:400px"};overflow:auto;width:100%;margin-top:48px`)},[p("div",Yi,[J(p("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=a=>t.showSparklineTable=a)},null,512),[[K,t.showSparklineTable]]),p("div",{onClick:o[5]||(o[5]=a=>t.showSparklineTable=!t.showSparklineTable),style:{cursor:"pointer"}},[H(F,{name:"chartLine",size:20,stroke:e.FINAL_CONFIG.chart.color},null,8,["stroke"])])]),t.showSparklineTable?(s(),V(C,{key:`sparkline_${t.segregateStep}`,dataset:e.tableSparklineDataset,config:e.tableSparklineConfig},null,8,["dataset","config"])):(s(),V($,{key:`table_${t.tableStep}`,colNames:e.dataTable.colNames,head:e.dataTable.head,body:e.dataTable.body,config:e.dataTable.config,title:`${e.FINAL_CONFIG.chart.title.text}${e.FINAL_CONFIG.chart.title.subtitle.text?` : ${e.FINAL_CONFIG.chart.title.subtitle.text}`:""}`,onClose:o[6]||(o[6]=a=>t.mutableConfig.showTable=!1)},{th:M(({th:a})=>[p("div",{innerHTML:a},null,8,ji)]),td:M(({td:a})=>[Q(k(isNaN(Number(a))?a:e.dataLabel({p:e.FINAL_CONFIG.chart.labels.prefix,v:a,s:e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.table.rounding})),1)]),_:1},8,["colNames","head","body","config","title"]))],4)]),_:1},8,["config"])):h("",!0)],14,qe)}const ca=Pe(je,[["render",qi],["__scopeId","data-v-3b05da9c"]]);export{ca as default};

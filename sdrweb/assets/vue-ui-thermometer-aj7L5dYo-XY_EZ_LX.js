import{af as ge,c as h,a0 as y,z as ye,R as pe,A as b,H as fe,r as p,b as me,B as ke,C as Z,Z as xe,D as be,w as we,E as $e,Q as P,o as r,a as u,i as _,L as n,j as Ce,l as I,m as f,p as G,q as T,u as v,n as A,J as Fe,f as Pe,e as c,P as Y,k as Q,O as _e,h as Ie,U as Ae,G as Ye,M as qe}from"./index-DIL_pLmJ.js";import{x as Oe}from"./Title-DyD-mBPN-CHqvPevn.js";import{r as Me,a as Be}from"./usePrinter-CLcxWv-4-CCDxi2Mm.js";import Se from"./vue-ui-skeleton-Dgzcn3FL-BNvPX0g2.js";import{c as K}from"./useNestedProp-BxrcwmTZ-1Bk3HyKT.js";import{p as ze}from"./PackageVersion-mSsg8dpu-BxnQ4_xj.js";import{S as We}from"./PenAndPaper-Dk41ZrJ0-D5uht0-m.js";import{s as je}from"./vue-data-ui-DF7u-eZV-hcmE5A1B.js";const Ge=["id"],Te={key:1,ref:"noTitle",class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},Ue={key:2,style:"width:100%"},Ee=["xmlns","viewBox"],Le={id:"vueUiPill",clipPathUnits:"objectBoundingBox"},Ne=["fill"],Ve=["id"],De=["stop-color"],He=["stop-color"],Je=["stop-color"],Re={"clip-path":"url(#vueUiPill)"},Xe=["x","y","height","width"],Ze=["x","y","height","width","fill"],Qe=["x1","x2","y1","y2","stroke-width","stroke"],Ke=["x1","x2","y1","y2","stroke-width","stroke"],et=["x1","x2","y1","y2","stroke-width","stroke"],tt=["x1","x2","y1","y2","stroke-width","stroke"],at=["x1","x2","y1","y2","stroke-width","stroke"],lt=["x1","x2","y1","y2","stroke-width","stroke"],ot=["x1","x2","y1","y2","stroke-width","stroke"],rt=["x1","x2","y1","y2","stroke-width","stroke"],st=["x","y","height","width"],ut=["y","x","fill","font-size","font-weight"],it={key:5,class:"vue-data-ui-watermark"},nt={key:6,ref:"source",dir:"auto"},dt={__name:"vue-ui-thermometer",props:{dataset:{type:Object,default(){return{}}},config:{type:Object,default(){return{}}}},setup(w,{expose:ee}){const o=w;ge(a=>({"000db494":ue.value,"2865ccd0":se.value,10843485:re.value}));const{vue_ui_thermometer:te}=ye(),q=h(()=>!!o.dataset&&Object.keys(o.dataset).length);me(()=>{U()});function U(){ke(o.dataset)?Z({componentName:"VueUiThermometer",type:"dataset"}):xe({datasetObject:o.dataset,requiredAttributes:["value","from","to"]}).forEach(a=>{Z({componentName:"VueUiThermometer",type:"datasetAttribute",property:a})})}const m=p(be()),O=p(null),E=p(0),L=p(0),e=h({get:()=>N(),set:a=>a});function N(){const a=K({userConfig:o.config,defaultConfig:te});return a.theme?{...K({userConfig:fe.vue_ui_thermometer[a.theme]||o.config,defaultConfig:a}),customPalette:pe[a.theme]||b}:a}we(()=>o.config,a=>{e.value=N(),U(),L.value+=1},{deep:!0});const{isPrinting:V,isImaging:D,generatePdf:H,generateImage:J}=Me({elementId:`thermometer__${m.value}`,fileName:e.value.style.title.text||"vue-ui-thermometer"}),ae=h(()=>e.value.userOptions.show&&!e.value.style.title.text),$=h(()=>$e(e.value.customPalette)),le=h(()=>e.value.style.chart.thermometer.width),g=h(()=>o.dataset.steps||10),d=p({top:e.value.style.chart.padding.top,left:e.value.style.chart.padding.left,right:e.value.style.chart.padding.right,bottom:e.value.style.chart.padding.bottom});function C(a,i,t){const s=[],W=R(a),j=R(i);for(let x=0;x<t;x++){const de=M(W.red,j.red,x,t),he=M(W.green,j.green,x,t),ce=M(W.blue,j.blue,x,t),ve=`#${B(de)}${B(he)}${B(ce)}`;s.push(ve)}return s}function R(a){const i=a.slice(1);return{red:parseInt(i.slice(0,2),16),green:parseInt(i.slice(2,4),16),blue:parseInt(i.slice(4,6),16)}}function M(a,i,t,s){return Math.round(a+(i-a)*t/s)}function B(a){return a.toString(16).padStart(2,"0")}const l=h(()=>{const a=le.value+d.value.left+d.value.right,i=e.value.style.chart.height;return{width:a,left:d.value.left,right:a-d.value.right,top:d.value.top,bottom:i-d.value.bottom,height:i}}),oe=h(()=>l.value),S=h(()=>{const a=y(o.dataset.from)<0?Math.abs(y(o.dataset.from)):y(o.dataset.from),i=y(o.dataset.to)<0?Math.abs(y(o.dataset.to)):y(o.dataset.to);let t=0;return y(o.dataset.to)>0?t=a+i:a>i?t=a-i:t=i-a,(1-(Math.abs(y(o.dataset.from))+y(o.dataset.value))/t)*(l.value.height-d.value.top-d.value.bottom)}),re=h(()=>`${S.value}px`),se=h(()=>`${l.value.height-e.value.style.chart.padding.bottom-d.value.top}px`),ue=h(()=>`${e.value.style.chart.animation.speedMs}ms`),ie=h(()=>{if(o.dataset.colors){if(!o.dataset.colors.from)return C($.value[0]||b[0],P(o.dataset.colors.to),g.value||10);if(!o.dataset.colors.to)return C(P(o.dataset.colors.from),$.value[1]||b[1],g.value||10)}else return C($.value[1]||b[1],$.value[0]||b[0],g.value||10);return C(P(o.dataset.colors.from),P(o.dataset.colors.to),g.value||10)}),X=h(()=>{const a=[];let i=0;const t=l.value.height-d.value.top-d.value.bottom;for(let s=0;s<t-1;s+=t/g.value)a.push({x:l.value.left,y:l.value.top+s,qYLess:l.value.top+s+t/g.value/4,halfY:l.value.top+s+t/g.value/2,qYMore:l.value.top+s+t/g.value/4*3,color:ie.value[i],height:t/g.value}),i+=1;return a}),k=p(!1);function ne(a){k.value=a,E.value+=1}const F=p(!1);function z(){F.value=!F.value}return ee({generatePdf:H,generateImage:J,toggleAnnotator:z}),(a,i)=>(r(),u("div",{ref_key:"thermoChart",ref:O,class:A(`vue-ui-thermometer ${k.value?"vue-data-ui-wrapper-fullscreen":""}`),style:qe(`width:100%;background:${e.value.style.chart.backgroundColor};color:${e.value.style.chart.color};font-family:${e.value.style.fontFamily}`),id:`thermometer__${m.value}`},[e.value.userOptions.buttons.annotator?(r(),_(We,{key:0,parent:O.value,backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:F.value,onClose:z},null,8,["parent","backgroundColor","color","active"])):n("",!0),ae.value?(r(),u("div",Te,null,512)):n("",!0),e.value.style.title.text?(r(),u("div",Ue,[(r(),_(Oe,{key:`title_${L.value}`,config:{title:{cy:"thermometer-div-title",...e.value.style.title},subtitle:{cy:"thermometer-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))])):n("",!0),e.value.userOptions.show&&q.value?(r(),_(Be,{ref:"details",key:`user_options_${E.value}`,backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:v(D),isPrinting:v(V),uid:m.value,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasFullscreen:e.value.userOptions.buttons.fullscreen,hasXls:!1,isFullscreen:k.value,titles:{...e.value.userOptions.buttonTitles},chartElement:O.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:F.value,onToggleFullscreen:ne,onGeneratePdf:v(H),onGenerateImage:v(J),onToggleAnnotator:z},Ce({_:2},[a.$slots.optionPdf?{name:"optionPdf",fn:I(()=>[f(a.$slots,"optionPdf",{},void 0,!0)]),key:"0"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:I(()=>[f(a.$slots,"optionImg",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:I(({toggleFullscreen:t,isFullscreen:s})=>[f(a.$slots,"optionFullscreen",G(T({toggleFullscreen:t,isFullscreen:s})),void 0,!0)]),key:"2"}:void 0,a.$slots.optionAnnotator?{name:"optionAnnotator",fn:I(({toggleAnnotator:t,isAnnotator:s})=>[f(a.$slots,"optionAnnotator",G(T({toggleAnnotator:t,isAnnotator:s})),void 0,!0)]),key:"3"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasPdf","hasImg","hasFullscreen","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","onGeneratePdf","onGenerateImage"])):n("",!0),q.value?(r(),u("svg",{key:4,xmlns:v(Fe),class:A({"vue-data-ui-fullscreen--on":k.value,"vue-data-ui-fulscreen--off":!k.value}),width:"100%",viewBox:`0 0 ${l.value.width} ${l.value.height}`,style:"background:transparent"},[Pe(ze),c("defs",null,[c("clipPath",Le,[c("rect",{x:"0",y:"0",width:"1",height:"1",rx:"0.5",ry:"0.07",fill:e.value.style.chart.backgroundColor},null,8,Ne)]),(r(!0),u(Y,null,Q(X.value,(t,s)=>(r(),u("linearGradient",{id:`vueUiThermometerGradient_${s}_${m.value}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[c("stop",{offset:"0%","stop-color":t.color},null,8,De),c("stop",{offset:"50%","stop-color":v(_e)(t.color,100-e.value.style.chart.graduations.gradient.intensity)},null,8,He),c("stop",{offset:"100%","stop-color":t.color},null,8,Je)],8,Ve))),256))]),c("g",Re,[c("rect",{x:l.value.left,y:l.value.top,height:l.value.height-d.value.top-d.value.bottom,width:l.value.width-d.value.left-d.value.right,fill:"#FFFFFF"},null,8,Xe),(r(!0),u(Y,null,Q(X.value,(t,s)=>(r(),u("g",{key:`graduation_${s}`},[c("rect",{x:t.x,y:t.y,height:t.height,width:l.value.width-e.value.style.chart.padding.left-e.value.style.chart.padding.right,fill:e.value.style.chart.graduations.gradient.show?`url(#vueUiThermometerGradient_${s}_${m.value})`:t.color,"shape-rendering":"crispEdges"},null,8,Ze),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:t.x,x2:t.x+10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Qe)):n("",!0),e.value.style.chart.graduations.showIntermediate?(r(),u(Y,{key:1},[e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:t.x,x2:t.x+5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Ke)):n("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:1,x1:t.x,x2:t.x+2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,et)):n("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:t.x,x2:t.x+2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,tt)):n("",!0)],64)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:l.value.right,x2:l.value.right-10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,at)):n("",!0),e.value.style.chart.graduations.showIntermediate?(r(),u(Y,{key:3},[e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:0,x1:l.value.right,x2:l.value.right-5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,lt)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:1,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,ot)):n("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),u("line",{key:2,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,rt)):n("",!0)],64)):n("",!0)]))),128)),c("rect",{class:A({"vue-ui-thermometer-temperature":e.value.style.chart.animation.use}),x:l.value.left,y:l.value.top,height:S.value,width:l.value.width-e.value.style.chart.padding.left-e.value.style.chart.padding.right,fill:"#FFFFFF66"},null,10,st)]),c("text",{class:A({"vue-ui-thermometer-temperature-value":e.value.style.chart.animation.use}),y:S.value+l.value.top+e.value.style.chart.label.fontSize/3,x:l.value.left-10,"text-anchor":"end",fill:e.value.style.chart.label.color,"font-size":e.value.style.chart.label.fontSize,"font-weight":e.value.style.chart.label.bold?"bold":"normal"},Ie(v(Ae)(e.value.style.chart.label.formatter,w.dataset.value,v(Ye)({p:e.value.style.chart.label.prefix,v:w.dataset.value,s:e.value.style.chart.label.suffix,r:e.value.style.chart.label.rounding}),{datapoint:w.dataset})),11,ut),f(a.$slots,"svg",{svg:oe.value},void 0,!0)],10,Ee)):n("",!0),a.$slots.watermark?(r(),u("div",it,[f(a.$slots,"watermark",G(T({isPrinting:v(V)||v(D)})),void 0,!0)])):n("",!0),a.$slots.source?(r(),u("div",nt,[f(a.$slots,"source",{},void 0,!0)],512)):n("",!0),q.value?n("",!0):(r(),_(Se,{key:7,config:{type:"thermometer",style:{backgroundColor:e.value.style.chart.backgroundColor,thermometer:{color:"#CCCCCC"}}}},null,8,["config"]))],14,Ge))}},kt=je(dt,[["__scopeId","data-v-8a73571f"]]);export{kt as default};

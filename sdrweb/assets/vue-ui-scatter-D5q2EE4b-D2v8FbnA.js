import{z as Qe,c as b,r as p,D as el,R as ll,A as R,H as tl,w as al,B as ol,C as pe,b as sl,ac as ul,E as il,Z as Ve,ay as rl,aB as nl,aw as vl,K as yl,V as dl,N as cl,o,a as u,i as E,L as d,j as pl,l as w,m as M,p as Z,q as Q,u as v,M as H,n as Ee,J as hl,f as he,e as c,P as W,k as I,O as fe,az as fl,a2 as gl,a3 as xl,U as Y,G as O,h as A,a0 as z,g as bl}from"./index-DIL_pLmJ.js";import{O as ml,k as kl}from"./useResponsive-CoxXLe23-CoJWR8uA.js";import{x as wl}from"./Title-DyD-mBPN-CHqvPevn.js";import{r as $l,a as Ml}from"./usePrinter-CLcxWv-4-CCDxi2Mm.js";import{E as Al}from"./Tooltip-qod9o4Vz-Dsvb9C65.js";import{C as zl}from"./Legend-BorSDXCj-Cb5_Z7Gi.js";import{$ as Ye}from"./Shape-DYFnvMNd-DLTmTYE_.js";import{W as Cl}from"./DataTable-D8fcY_sJ-By-GDpuN.js";import Sl from"./vue-ui-skeleton-Dgzcn3FL-BNvPX0g2.js";import Bl from"./vue-ui-accordion-m8rut1bP-DBR24duA.js";import{c as De}from"./useNestedProp-BxrcwmTZ-1Bk3HyKT.js";import{p as Ll}from"./PackageVersion-mSsg8dpu-BxnQ4_xj.js";import{S as _l}from"./PenAndPaper-Dk41ZrJ0-D5uht0-m.js";import{s as Tl}from"./vue-data-ui-DF7u-eZV-hcmE5A1B.js";const Nl=["id"],Wl=["xmlns","viewBox"],Ol={key:0},Fl=["x1","x2","y1","y2","stroke","stroke-width"],Pl=["x1","x2","y1","y2","stroke","stroke-width"],Il={key:1},Xl=["points","fill","stroke-width","stroke-dasharray","stroke"],Vl={key:0},El=["cx","cy","r","fill","stroke","stroke-width","onMouseover"],Yl={key:1},Dl={key:2},Gl=["id"],jl=["stop-color"],ql=["stop-color"],Rl=["id"],Hl=["stop-color"],Ul=["stop-color"],Jl=["x","y","width","height","fill","stroke","stroke-width","rx"],Kl=["x","y","height","width","fill","stroke","stroke-width","rx"],Zl={key:0},Ql=["d","stroke","stroke-width"],et=["d","stroke","stroke-width"],lt=["d","stroke","stroke-width"],tt=["d","stroke","stroke-width"],at={key:3,style:{"pointer-events":"none !important"}},ot=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],st=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],ut=["x","y","font-size","fill","font-weight","text-anchor"],it=["x","y","font-size","fill","font-weight"],rt=["cx","cy","r","fill","stroke","stroke-width"],nt=["cx","cy","r","fill","stroke","stroke-width"],vt=["x","y","font-size","fill","font-weight","text-anchor"],yt={key:4},dt=["x","y","font-size","fill"],ct=["x","y","font-size","fill"],pt=["id","transform","font-size","font-weight","fill"],ht={key:5},ft=["x","y","font-size","fill"],gt=["x","y","font-size","fill"],xt=["font-size","font-weight","fill","x","y"],bt=["id"],mt=["x","y","width","height"],kt={key:6},wt=["x1","x2","y1","y2","stroke-dasharray","stroke","stroke-width","clip-path"],$t=["x","y","fill","font-size","font-weight"],Mt={key:5,class:"vue-data-ui-watermark"},At=["onClick"],zt={key:0,style:{width:"100%",display:"flex","align-items":"center","justify-content":"center"}},Ct={viewBox:"0 0 20 20",height:"20",width:"20",style:{overflow:"hidden",background:"transparent"}},St={key:0},Bt=["innerHTML"],Lt={__name:"vue-ui-scatter",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(Ge,{expose:je}){const F=Ge,{vue_ui_scatter:qe}=Qe(),ee=b(()=>!!F.dataset&&F.dataset.length),C=p(el()),Re=p(null),ue=p(!1),ie=p(""),ge=p(0),U=p(null),xe=p(null),be=p(null),me=p(null),ke=p(null),we=p(0),$e=p(0),Me=p(0),e=b({get:()=>Ae(),set:t=>t});function Ae(){const t=De({userConfig:F.config,defaultConfig:qe});return t.theme?{...De({userConfig:tl.vue_ui_scatter[t.theme]||F.config,defaultConfig:t}),customPalette:ll[t.theme]||R}:t}al(()=>F.config,t=>{e.value=Ae(),ze(),we.value+=1,$e.value+=1,Me.value+=1},{deep:!0});const le=p(null);sl(()=>{ze()});function ze(){if(ol(F.dataset)&&pe({componentName:"VueUiScatter",type:"dataset"}),e.value.responsive){const t=ml(()=>{const{width:r,height:l}=kl({chart:U.value,title:e.value.style.title.text?xe.value:null,legend:e.value.style.legend.show?be.value:null,source:me.value,noTitle:ke.value});S.value.width=r,S.value.height=l});le.value=new ResizeObserver(t),le.value.observe(U.value.parentNode)}}ul(()=>{le.value&&le.value.disconnect()});const{isPrinting:Ce,isImaging:Se,generatePdf:Be,generateImage:Le}=$l({elementId:`vue-ui-scatter_${C.value}`,fileName:e.value.style.title.text||"vue-ui-scatter"}),He=b(()=>e.value.userOptions.show&&!e.value.style.title.text),_e=b(()=>il(e.value.customPalette)),X=p({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}),S=p({height:e.value.style.layout.height,width:e.value.style.layout.width}),te=b(()=>e.value.style.layout.marginalBars.show?e.value.style.layout.marginalBars.size+e.value.style.layout.marginalBars.offset:0),i=b(()=>({top:e.value.style.layout.padding.top+te.value,right:S.value.width-e.value.style.layout.padding.right-te.value,bottom:S.value.height-e.value.style.layout.padding.bottom,left:e.value.style.layout.padding.left,height:S.value.height-e.value.style.layout.padding.top-e.value.style.layout.padding.bottom-te.value,width:S.value.width-e.value.style.layout.padding.left-e.value.style.layout.padding.right-te.value})),h=b(()=>{F.dataset.forEach((a,n)=>{Ve({datasetObject:a,requiredAttributes:["values"]}).forEach(m=>{pe({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:m,index:n})}),a.values&&a.values.forEach((m,G)=>{Ve({datasetObject:m,requiredAttributes:["x","y"]}).forEach(J=>{pe({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:`values.${J}`,index:`${n} - ${G}`})})})});const t=Math.min(...D.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.x))),r=Math.max(...D.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.x))),l=Math.min(...D.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.y))),s=Math.max(...D.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.y)));return{xMin:t>=0?0:t,xMax:r,yMin:l>=0?0:l,yMax:s}}),f=b(()=>({x:i.value.left+Math.abs(h.value.xMin)/(h.value.xMax+Math.abs(h.value.xMin))*i.value.width,y:i.value.bottom-Math.abs(h.value.yMin)/(h.value.yMax+Math.abs(h.value.yMin))*i.value.height})),D=b(()=>F.dataset.map((t,r)=>{const l=`cluster_${C.value}_${r}`;return{...t,values:rl({data:t.values,threshold:e.value.downsample.threshold}),id:l,color:t.color?t.color:_e.value[r]||R[r]||R[r%R.length],opacity:x.value.includes(l)?.5:1,shape:t.shape??"circle",segregate:()=>Fe(l),isSegregated:x.value.includes(l)}})),Ue=b(()=>({cy:"scatter-div-legend",backgroundColor:e.value.style.legend.backgroundColor,color:e.value.style.legend.color,fontSize:e.value.style.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.legend.bold?"bold":""})),re=b(()=>D.value.map((t,r)=>({...t,plots:t.values.map(l=>({x:i.value.left+(l.x+Math.abs(h.value.xMin))/(h.value.xMax+Math.abs(h.value.xMin))*i.value.width,y:i.value.bottom-(l.y+Math.abs(h.value.yMin))/(h.value.yMax+Math.abs(h.value.yMin))*i.value.height,v:{...l,name:l.name||""},clusterName:t.name,color:t.color?t.color:_e.value[r]||R[r]||R[r%R.length],id:`plot_${C.value}_${Math.random()}`,weight:l.weight??e.value.style.layout.plots.radius}))})).filter(t=>!x.value.includes(t.id))),B=b(()=>re.value.map(t=>{const r=t.plots.reduce((g,j)=>g+j.x,0)/t.plots.length,l=t.plots.reduce((g,j)=>g+j.y,0)/t.plots.length;let s=0,a=0,n=0;for(const g of t.plots)s+=(g.x-r)*(g.y-l),a+=(g.x-r)**2,n+=(g.y-l)**2;const m=s/Math.sqrt(a*n),G=m*(Math.sqrt(n)/Math.sqrt(a)),J=l-G*r,N={x1:i.value.left,x2:i.value.right,y1:G*i.value.left+J,y2:G*i.value.right+J,coefficient:m},$=(N.y2-N.y1)/(N.x2-N.x1),_=N.y1-$*N.x1,P=Math.min(S.value.width-e.value.style.layout.padding.right,Math.max(e.value.style.layout.padding.left,(i.value.top-_)/$)),se={x:P,y:$*P+_<=e.value.style.layout.padding.top?i.value.top:$*P+_};return{...t,correlation:N,label:se,plots:t.plots.map(g=>{const j=(g.x+$*g.y-$*_)/(1+Math.pow($,2)),ye=($*g.x+Math.pow($,2)*g.y+_)/(1+Math.pow($,2)),k=Math.sqrt(Math.pow(g.x-j,2)+Math.pow(g.y-ye,2));return{...g,deviation:k,shape:t.shape,color:t.color}})}})),Te=b(()=>Math.max(...B.value.flatMap(t=>t.plots.map(r=>Math.abs(r.deviation)))));function Je(){return B.value}function Ne(t,r){const l=Array.isArray(t)?t.flatMap(k=>k.plots.map(q=>({x:q.x,y:q.y}))):t.plots.map(k=>({x:k.x,y:k.y}));let s=1/0,a=-1/0,n=1/0,m=-1/0;l.forEach(({x:k,y:q})=>{s=Math.min(s,k),a=Math.max(a,k),n=Math.min(n,q),m=Math.max(m,q)});const G=a-s,J=m-n,N=G/r,$=J/r,_=Array(r).fill(0),P=Array(r).fill(0);l.forEach(({x:k,y:q})=>{const de=Math.floor((k-s)/N),ce=Math.floor((q-n)/$);_[de]||(_[de]=0),P[ce]||(P[ce]=0),_[de]+=1,P[ce]+=1});const se=[],g=[];for(let k=0;k<r;k+=1)se.push(s+(k+.5)*N),g.push(n+(k+.5)*$);const j=Math.max(..._),ye=Math.max(...P);return{x:_,y:P,avgX:se,avgY:g,maxX:j,maxY:ye}}const V=b(()=>e.value.style.layout.marginalBars.tranches),L=b(()=>Ne(re.value,V.value)),Ke=b(()=>{const t=i.value.top-e.value.style.layout.marginalBars.offset,r=i.value.right+e.value.style.layout.marginalBars.offset;return re.value.map(l=>{const s=Ne(l,V.value);return{coords:s,dX:vl(s.avgX.map((a,n)=>({x:a,y:t-s.x[n]/s.maxX*e.value.style.layout.marginalBars.size}))),dY:nl(s.avgY.map((a,n)=>({y:a,x:r+e.value.style.layout.marginalBars.size*s.y[n]/s.maxY}))),color:l.color,id:l.id}})}),T=p(void 0),y=p(null),ne=p(null);function We(t,r){T.value=t.id,y.value=t;let l="";ne.value={datapoint:t,seriesIndex:r,series:B.value,config:e.value};const s=e.value.style.tooltip.customFormat;gl(s)&&xl(()=>s({datapoint:t,seriesIndex:r,series:B.value,config:e.value}))?ie.value=s({datapoint:t,seriesIndex:r,series:B.value,config:e.value}):(t.clusterName&&(l+=`<div style="display:flex;gap:3px;align-items:center">${t.clusterName}</div>`),t.v.name&&(l+=`<div>${t.v.name}</div>`),l+=`<div style="text-align:left;margin-top:6px;padding-top:6px;border-top:1px solid ${e.value.style.tooltip.borderColor}">`,l+=`<div>${e.value.style.layout.dataLabels.xAxis.name}: <b>${isNaN(t.v.x)?"-":Y(e.value.style.layout.plots.selectors.labels.x.formatter,t.v.x,O({p:e.value.style.tooltip.prefix,v:t.v.x,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:r})}</b></div>`,l+=`<div>${e.value.style.layout.dataLabels.yAxis.name}: <b>${isNaN(t.v.y)?"-":Y(e.value.style.layout.plots.selectors.labels.y.formatter,t.v.y,O({p:e.value.style.tooltip.prefix,v:t.v.y,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:r})}</b></div>`,l+=`${e.value.style.layout.plots.deviation.translation}: <b>${O({v:t.deviation,r:e.value.style.layout.plots.deviation.roundingValue})}</b>`,l+="</div>",ie.value=`<div>${l}</div>`),ue.value=!0}function Oe(){ue.value=!1,T.value=void 0,y.value=null}const x=p([]);function Fe(t){x.value.includes(t)?x.value=x.value.filter(r=>r!==t):x.value.length<F.dataset.length-1&&x.value.push(t)}function Pe(){yl(()=>{const t=["",e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,`${e.value.style.layout.dataLabels.xAxis.name} ${e.value.table.translations.average}`,`${e.value.style.layout.dataLabels.yAxis.name} ${e.value.table.translations.average}`],r=B.value.map(a=>[a.name,a.correlation.coefficient,a.plots.length,a.plots.map(n=>n.v.x).reduce((n,m)=>n+m,0)/a.plots.length,a.plots.map(n=>n.v.y).reduce((n,m)=>n+m,0)/a.plots.length]),l=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([t]).concat(r),s=dl(l);cl({csvContent:s,title:e.value.style.title.text||"vue-ui-heatmap"})})}const ae=b(()=>{const t=[e.value.table.translations.series,e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,`${e.value.style.layout.dataLabels.xAxis.name} ${e.value.table.translations.average}`,`${e.value.style.layout.dataLabels.yAxis.name} ${e.value.table.translations.average}`],r=B.value.map(s=>[{shape:s.shape,content:s.name,color:s.color},Number((s.correlation.coefficient??0).toFixed(e.value.table.td.roundingValue)).toLocaleString(),s.plots.length.toLocaleString(),Number((s.plots.map(a=>a.v.x??0).reduce((a,n)=>a+n,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString(),Number((s.plots.map(a=>a.v.y??0).reduce((a,n)=>a+n,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString()]),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:r,config:l,colNames:t}}),K=p(!1);function Ze(t){K.value=t,ge.value+=1}function Ie(){X.value.showTable=!X.value.showTable}function Xe(){X.value.showTooltip=!X.value.showTooltip}const oe=p(!1);function ve(){oe.value=!oe.value}return je({getData:Je,generatePdf:Be,generateCsv:Pe,generateImage:Le,toggleTable:Ie,toggleTooltip:Xe,toggleAnnotator:ve}),(t,r)=>(o(),u("div",{class:Ee(`vue-ui-scatter ${K.value?"vue-data-ui-wrapper-fullscreen":""} ${e.value.useCssAnimation?"":"vue-ui-dna"}`),ref_key:"scatterChart",ref:U,id:`vue-ui-scatter_${C.value}`,style:H(`font-family:${e.value.style.fontFamily};width:100%; text-align:center;background:${e.value.style.backgroundColor};${e.value.responsive?"height: 100%":""}`)},[e.value.userOptions.buttons.annotator?(o(),E(_l,{key:0,parent:U.value,backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:oe.value,onClose:ve},null,8,["parent","backgroundColor","color","active"])):d("",!0),He.value?(o(),u("div",{key:1,ref_key:"noTitle",ref:ke,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):d("",!0),e.value.style.title.text?(o(),u("div",{key:2,ref_key:"chartTitle",ref:xe,style:"width:100%;background:transparent"},[(o(),E(wl,{key:`title_${we.value}`,config:{title:{cy:"scatter-div-title",...e.value.style.title},subtitle:{cy:"scatter-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):d("",!0),e.value.userOptions.show&&ee.value?(o(),E(Ml,{ref_key:"details",ref:Re,key:`user_options_${ge.value}`,backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:v(Se),isPrinting:v(Ce),uid:C.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:X.value.showTooltip,isFullscreen:K.value,titles:{...e.value.userOptions.buttonTitles},chartElement:U.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:oe.value,onToggleFullscreen:Ze,onGeneratePdf:v(Be),onGenerateCsv:Pe,onGenerateImage:v(Le),onToggleTable:Ie,onToggleTooltip:Xe,onToggleAnnotator:ve},pl({_:2},[t.$slots.optionTooltip?{name:"optionTooltip",fn:w(()=>[M(t.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:w(()=>[M(t.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:w(()=>[M(t.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:w(()=>[M(t.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:w(()=>[M(t.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:w(({toggleFullscreen:l,isFullscreen:s})=>[M(t.$slots,"optionFullscreen",Z(Q({toggleFullscreen:l,isFullscreen:s})),void 0,!0)]),key:"5"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:w(({toggleAnnotator:l,isAnnotator:s})=>[M(t.$slots,"optionAnnotator",Z(Q({toggleAnnotator:l,isAnnotator:s})),void 0,!0)]),key:"6"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasXls","hasTable","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","onGeneratePdf","onGenerateImage"])):d("",!0),ee.value?(o(),u("svg",{key:4,xmlns:v(hl),class:Ee({"vue-data-ui-fullscreen--on":K.value,"vue-data-ui-fulscreen--off":!K.value}),viewBox:`0 0 ${S.value.width<=0?10:S.value.width} ${S.value.height<=0?10:S.value.height}`,style:H(`max-width:100%;overflow:visible;background:transparent;color:${e.value.style.color}`)},[he(Ll),e.value.style.layout.axis.show?(o(),u("g",Ol,[c("line",{x1:f.value.x,x2:f.value.x,y1:i.value.top,y2:i.value.bottom,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,Fl),c("line",{x1:i.value.left,x2:i.value.right,y1:f.value.y,y2:f.value.y,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,Pl)])):d("",!0),e.value.style.layout.plots.giftWrap.show?(o(),u("g",Il,[(o(!0),u(W,null,I(B.value,(l,s)=>(o(),u("g",null,[l.plots.length>2?(o(),u("polygon",{key:0,points:v(fl)({series:l.plots}),fill:v(fe)(l.color,e.value.style.layout.plots.giftWrap.fillOpacity*100),"stroke-width":e.value.style.layout.plots.giftWrap.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.giftWrap.strokeDasharray,stroke:l.color,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,Xl)):d("",!0)]))),256))])):d("",!0),(o(!0),u(W,null,I(B.value,(l,s)=>(o(),u("g",null,[!l.shape||l.shape==="circle"?(o(),u("g",Vl,[(o(!0),u(W,null,I(l.plots,(a,n)=>(o(),u("circle",{cx:a.x,cy:a.y,r:T.value&&T.value===a.id?a.weight*2:a.weight,fill:v(fe)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,"stroke-width":e.value.style.layout.plots.strokeWidth,onMouseover:m=>We(a,s),onMouseleave:Oe,style:H(`opacity:${T.value&&T.value===a.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(a.deviation)/Te.value:e.value.style.layout.plots.significance.show&&Math.abs(a.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1}`)},null,44,El))),256))])):(o(),u("g",Yl,[(o(!0),u(W,null,I(l.plots,(a,n)=>(o(),E(Ye,{plot:{x:a.x,y:a.y},radius:T.value&&T.value===a.id?a.weight*2:a.weight,shape:l.shape,color:v(fe)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,strokeWidth:e.value.style.layout.plots.strokeWidth,onMouseover:m=>We(a,s),onMouseleave:Oe,style:H(`opacity:${T.value&&T.value===a.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(a.deviation)/Te.value:e.value.style.layout.plots.significance.show&&Math.abs(a.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1}`)},null,8,["plot","radius","shape","color","stroke","strokeWidth","onMouseover","style"]))),256))]))]))),256)),e.value.style.layout.marginalBars.show?(o(),u("g",Dl,[c("defs",null,[c("linearGradient",{id:`marginal_x_${C.value}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[c("stop",{offset:"0%","stop-color":e.value.style.layout.marginalBars.fill},null,8,jl),c("stop",{offset:"100%","stop-color":e.value.style.backgroundColor},null,8,ql)],8,Gl),c("linearGradient",{id:`marginal_y_${C.value}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[c("stop",{offset:"0%","stop-color":e.value.style.backgroundColor},null,8,Hl),c("stop",{offset:"100%","stop-color":e.value.style.layout.marginalBars.fill},null,8,Ul)],8,Rl)]),(o(!0),u(W,null,I(L.value.x,(l,s)=>(o(),u("g",null,[l&&L.value.avgX[s]?(o(),u("rect",{key:0,x:L.value.avgX[s]-i.value.width/V.value/2,y:i.value.top-e.value.style.layout.marginalBars.offset-l/L.value.maxX*e.value.style.layout.marginalBars.size,width:i.value.width/V.value<=0?1e-4:i.value.width/V.value,height:l/L.value.maxX*e.value.style.layout.marginalBars.size<=0?1e-4:l/L.value.maxX*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?`url(#marginal_x_${C.value})`:e.value.style.layout.marginalBars.fill,style:H(`opacity:${e.value.style.layout.marginalBars.opacity}`),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,Jl)):d("",!0)]))),256)),(o(!0),u(W,null,I(L.value.y,(l,s)=>(o(),u("g",null,[l&&L.value.avgY[s]?(o(),u("rect",{key:0,x:i.value.right+e.value.style.layout.marginalBars.offset,y:L.value.avgY[s]-i.value.height/V.value/2,height:i.value.height/V.value<=0?1e-4:i.value.height/V.value,width:l/L.value.maxY*e.value.style.layout.marginalBars.size<=0?1e-4:l/L.value.maxY*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?`url(#marginal_y_${C.value})`:e.value.style.layout.marginalBars.fill,style:H(`opacity:${e.value.style.layout.marginalBars.opacity}`),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,Kl)):d("",!0)]))),256)),e.value.style.layout.marginalBars.showLines?(o(),u("g",Zl,[(o(!0),u(W,null,I(Ke.value,l=>(o(),u(W,null,[x.value.includes(l.id)?d("",!0):(o(),u("path",{key:0,d:`M ${l.dX}`,stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Ql)),x.value.includes(l.id)?d("",!0):(o(),u("path",{key:1,d:`M ${l.dX}`,stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,et)),x.value.includes(l.id)?d("",!0):(o(),u("path",{key:2,d:`M ${l.dY}`,stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,lt)),x.value.includes(l.id)?d("",!0):(o(),u("path",{key:3,d:`M ${l.dY}`,stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,tt))],64))),256))])):d("",!0)])):d("",!0),y.value&&e.value.style.layout.plots.selectors.show?(o(),u("g",at,[c("line",{x1:f.value.x,x2:y.value.x,y1:y.value.y,y2:y.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,ot),c("line",{x1:y.value.x,x2:y.value.x,y1:f.value.y,y2:y.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,st),c("text",{x:f.value.x+(y.value.x>f.value.x?-6:6),y:y.value.y+e.value.style.layout.plots.selectors.labels.fontSize/3,"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":y.value.x>f.value.x?"end":"start"},A(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v(z)(y.value.v.y),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(y.value.v.y),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:y.value})),9,ut),c("text",{x:y.value.x,y:f.value.y+(y.value.y>f.value.y?-6:e.value.style.layout.plots.selectors.labels.fontSize+6),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":"middle"},A(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v(z)(y.value.v.x),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(y.value.v.x),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:y.value})),9,it),c("circle",{cx:f.value.x,cy:y.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,rt),c("circle",{cx:y.value.x,cy:f.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,nt),e.value.style.layout.plots.selectors.labels.showName?(o(),u("text",{key:0,x:y.value.x,y:y.value.y+(y.value.y<f.value.y?-e.value.style.layout.plots.selectors.labels.fontSize/2:e.value.style.layout.plots.selectors.labels.fontSize),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":y.value.x<i.value.left+100?"start":y.value.x>i.value.right-100?"end":y.value.x>f.value.x?"start":"end"},A(y.value.v.name),9,vt)):d("",!0)])):d("",!0),e.value.style.layout.dataLabels.xAxis.show?(o(),u("g",yt,[c("text",{x:i.value.left-5,y:f.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"text-anchor":"end","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color},A(v(Y)(e.value.style.layout.plots.selectors.labels.x.formatter,v(z)(h.value.xMin),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(h.value.xMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,dt),c("text",{x:i.value.right+3,y:f.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"text-anchor":"start","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color},A(v(Y)(e.value.style.layout.plots.selectors.labels.x.formatter,v(z)(h.value.xMax),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(h.value.xMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,ct),c("text",{id:`vue-ui-scatter-xAxis-label-${C.value}`,transform:`translate(${e.value.style.layout.dataLabels.xAxis.fontSize*2}, ${i.value.top+i.value.height/2}), rotate(-90)`,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.xAxis.color},A(e.value.style.layout.dataLabels.xAxis.name),9,pt)])):d("",!0),e.value.style.layout.dataLabels.yAxis.show?(o(),u("g",ht,[c("text",{x:f.value.x,y:i.value.bottom+e.value.style.layout.dataLabels.yAxis.fontSize+3,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},A(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v(z)(h.value.yMin),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(h.value.yMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,ft),c("text",{x:f.value.x,y:i.value.top-e.value.style.layout.dataLabels.yAxis.fontSize/2,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},A(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v(z)(h.value.yMax),v(O)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v(z)(h.value.yMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,gt),c("text",{"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.yAxis.color,x:i.value.left+i.value.width/2,y:i.value.bottom+8+e.value.style.layout.dataLabels.yAxis.fontSize*2},A(e.value.style.layout.dataLabels.yAxis.name),9,xt)])):d("",!0),c("clipPath",{id:`clip_path_${C.value}`},[c("rect",{x:i.value.left,y:i.value.top,width:i.value.width<=0?1e-4:i.value.width,height:i.value.height<=0?1e-4:i.value.height},null,8,mt)],8,bt),e.value.style.layout.correlation.show?(o(),u("g",kt,[(o(!0),u(W,null,I(B.value,(l,s)=>(o(),u("line",{x1:l.correlation.x1,x2:l.correlation.x2,y1:l.correlation.y1,y2:l.correlation.y2,"stroke-dasharray":e.value.style.layout.correlation.strokeDasharray,stroke:l.color,"stroke-width":e.value.style.layout.correlation.strokeWidth,"clip-path":`url(#clip_path_${C.value})`},null,8,wt))),256)),(o(!0),u(W,null,I(B.value,(l,s)=>(o(),u("g",null,[e.value.style.layout.correlation.label.show?(o(),u("text",{key:0,x:l.label.x,y:l.label.y,fill:e.value.style.layout.correlation.label.useSerieColor?l.color:e.value.style.layout.correlation.label.color,"font-size":e.value.style.layout.correlation.label.fontSize,"font-weight":e.value.style.layout.correlation.label.bold?"bold":"normal"},A(v(O)({v:v(z)(l.correlation.coefficient),r:e.value.style.layout.correlation.label.roundingValue})),9,$t)):d("",!0)]))),256))])):d("",!0),M(t.$slots,"svg",{svg:S.value},void 0,!0)],14,Wl)):d("",!0),t.$slots.watermark?(o(),u("div",Mt,[M(t.$slots,"watermark",Z(Q({isPrinting:v(Ce)||v(Se)})),void 0,!0)])):d("",!0),ee.value?d("",!0):(o(),E(Sl,{key:6,config:{type:"quadrant",style:{backgroundColor:e.value.style.backgroundColor,quadrant:{grid:{color:e.value.style.layout.axis.stroke},plots:{color:e.value.style.layout.axis.stroke,radius:1}}}}},null,8,["config"])),c("div",{ref_key:"chartLegend",ref:be},[e.value.style.legend.show?(o(),E(zl,{key:`legend_${Me.value}`,legendSet:D.value,config:Ue.value,onClickMarker:r[0]||(r[0]=({legend:l})=>Fe(l.id))},{item:w(({legend:l})=>[c("div",{onClick:s=>l.segregate(),style:H(`opacity:${x.value.includes(l.id)?.5:1}`)},A(l.name),13,At)]),_:1},8,["legendSet","config"])):M(t.$slots,"legend",{key:1,legend:D.value},void 0,!0)],512),t.$slots.source?(o(),u("div",{key:7,ref_key:"source",ref:me,dir:"auto"},[M(t.$slots,"source",{},void 0,!0)],512)):d("",!0),he(Al,{show:X.value.showTooltip&&ue.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:U.value,content:ie.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function"},{"tooltip-before":w(()=>[M(t.$slots,"tooltip-before",Z(Q({...ne.value})),void 0,!0)]),"tooltip-after":w(()=>[M(t.$slots,"tooltip-after",Z(Q({...ne.value})),void 0,!0)]),default:w(()=>[e.value.style.tooltip.showShape?(o(),u("div",zt,[(o(),u("svg",Ct,[he(Ye,{shape:y.value.shape,color:y.value.color,plot:{x:10,y:10},radius:7},null,8,["shape","color"])]))])):d("",!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isCustom"]),ee.value?(o(),E(Bl,{key:8,hideDetails:"",config:{open:X.value.showTable,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}},{content:w(()=>[(o(),E(Cl,{key:`table_${$e.value}`,colNames:ae.value.colNames,head:ae.value.head,body:ae.value.body,config:ae.value.config,title:`${e.value.style.title.text}${e.value.style.title.subtitle.text?` : ${e.value.style.title.subtitle.text}`:""}`,onClose:r[1]||(r[1]=l=>X.value.showTable=!1)},{th:w(({th:l})=>[bl(A(l),1)]),td:w(({td:l})=>[l.shape?(o(),u("div",St,[c("span",null,A(l.content),1)])):(o(),u("div",{key:1,innerHTML:l},null,8,Bt))]),_:1},8,["colNames","head","body","config","title"]))]),_:1},8,["config"])):d("",!0)],14,Nl))}},jt=Tl(Lt,[["__scopeId","data-v-0648a715"]]);export{jt as default};

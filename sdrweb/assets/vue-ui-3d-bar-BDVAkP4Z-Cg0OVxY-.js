import{z as Ge,c as z,r as T,D as _e,R as Le,A as X,H as Ve,w as Ze,B as He,C as ee,Z as ue,E as Ue,Q as qe,I as V,F as Fe,b as Ee,G as j,K as Re,V as Je,N as Ye,o as s,a as u,i as Z,L as y,j as Ke,l as D,m as S,p as q,q as E,u as c,M as A,n as Me,J as Qe,f as Xe,e as i,O as g,P as b,k as m,W as te,S as et,T as tt,h as P,U as le,X as Pe,Y as oe,$ as I,g as lt}from"./index-CMbgrvzv.js";import{x as ot}from"./Title-DyD-mBPN-B9325m01.js";import{r as at,a as rt}from"./usePrinter-CLcxWv-4-ChR9zFwY.js";import st from"./vue-ui-skeleton-Dgzcn3FL-nxJtxydg.js";import{W as nt}from"./DataTable-D8fcY_sJ-zOi5rFAi.js";import it from"./vue-ui-accordion-m8rut1bP-BPULaFJJ.js";import{c as Te}from"./useNestedProp-BxrcwmTZ-DfxG55sS.js";import{p as ut}from"./PackageVersion-mSsg8dpu-CbvTnp2w.js";import{S as dt}from"./PenAndPaper-Dk41ZrJ0-Cv0BF8yJ.js";import{s as ct}from"./vue-data-ui-DF7u-eZV-DHaDTFza.js";import"./Shape-DYFnvMNd-6AEzh47f.js";const ae=H=>(et("data-v-558e9734"),H=H(),tt(),H),vt=["id"],ht={key:1,style:"width:100%;background:transparent"},pt=["xmlns","viewBox"],ft=["id"],yt=["stop-color"],kt=["stop-color"],gt=["id"],$t=["stop-color"],bt=["stop-color"],mt=["id"],xt=["stop-color"],wt=["stop-color"],Ct=["id"],_t=["stop-color"],Ft=["stop-color"],Mt=["stop-color"],Pt={key:0},Tt=["id"],St=["stop-color"],zt=["stop-color"],jt=["id"],Dt=["stop-color"],Nt=["stop-color"],Bt=["id"],At=["stop-color"],It=["stop-color"],Wt=["id"],Ot=ae(()=>i("stop",{offset:"0%","stop-color":"#FFFFFF"},null,-1)),Gt=ae(()=>i("stop",{offset:"100%","stop-color":"#FFFFFF33"},null,-1)),Lt=[Ot,Gt],Vt=["x","y","font-size","font-weight","fill"],Zt=["x","y"],Ht=["d","stroke"],Ut=["d","stroke"],qt={key:3},Et={key:0},Rt=["stroke-dasharray","d","stroke","stroke-width"],Jt=["stroke-dasharray","d","stroke","stroke-width"],Yt=["stroke-dasharray","d","stroke","stroke-width"],Kt=["stroke-dasharray","d","stroke","stroke-width"],Qt={key:1},Xt=["d","stroke","stroke-width","fill"],el=["d","stroke","stroke-width","fill"],tl=["d","stroke","stroke-width","fill"],ll={key:2},ol=["d","fill","onMouseenter","onClick"],al=["d","fill","onMouseenter","onClick"],rl=["d","fill","onMouseenter","onClick"],sl=["d","onMouseenter","onClick"],nl=["d"],il=["d","stroke"],ul=["onClick"],dl=["stroke","d"],cl=["cx","cy","fill","stroke"],vl=["x","y","width","height"],hl={key:1},pl=["d","stroke"],fl=["d","fill","stroke"],yl=["id"],kl=["stop-color"],gl=ae(()=>i("stop",{offset:"77%","stop-color":"#FFFFFF20"},null,-1)),$l=["stop-color"],bl=["cx","cy","fill"],ml=["cx","cy","fill"],xl={key:0},wl=["text-anchor","x","y","fill","font-size"],Cl=["text-anchor","x","y","fill","font-size"],_l={key:2},Fl=["d","fill","stroke"],Ml={key:4},Pl={key:0},Tl=["stroke-dasharray","d","stroke","stroke-width"],Sl=["stroke-dasharray","d","stroke","stroke-width"],zl=["stroke-dasharray","d","stroke","stroke-width"],jl=["stroke-dasharray","d","stroke","stroke-width"],Dl=["d","stroke","stroke-width","fill"],Nl=["d","stroke","stroke-width","fill"],Bl={key:1},Al=["onClick"],Il=["id"],Wl=["stop-color"],Ol=["stop-color"],Gl=["id"],Ll=["stop-color"],Vl=["stop-color"],Zl=["stop-color"],Hl=["stop-color"],Ul=["stop-color"],ql=["onMouseenter","onClick","d","fill"],El=["onMouseenter","onClick","d"],Rl=["onMouseenter","onClick","d","fill"],Jl=["onClick"],Yl=["stroke","d"],Kl=["cx","cy","fill","stroke"],Ql=["x","y","width","height"],Xl={key:1},eo=["d","stroke"],to=["d","fill","stroke"],lo=["id"],oo=["stop-color"],ao=ae(()=>i("stop",{offset:"77%","stop-color":"#FFFFFF20"},null,-1)),ro=["stop-color"],so=["cx","cy","fill"],no=["cx","cy","fill"],io={key:0},uo=["text-anchor","x","y","fill","font-size"],co=["text-anchor","x","y","fill","font-size"],vo={key:2},ho=["d","fill","stroke"],po={key:4,class:"vue-data-ui-watermark"},fo={key:6,ref:"source",dir:"auto"},yo=["innerHTML"],ko={__name:"vue-ui-3d-bar",props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:["selectDatapoint"],setup(H,{expose:Se,emit:R}){const $=H,{vue_ui_3d_bar:ze}=Ge(),J=z(()=>!!$.dataset&&Object.keys($.dataset).length),x=T(_e()),je=T(null),re=T(null),W=T(!1),de=T(0),ce=T(0),t=z({get:()=>ve(),set:r=>r});function ve(){const r=Te({userConfig:$.config,defaultConfig:ze});return r.theme?{...Te({userConfig:Ve.vue_ui_3d_bar[r.theme]||$.config,defaultConfig:r}),customPalette:Le[r.theme]||X}:r}Ze(()=>$.config,r=>{t.value=ve(),ke(),de.value+=1,ce.value+=1},{deep:!0});const{isPrinting:he,isImaging:pe,generatePdf:fe,generateImage:ye}=at({elementId:`3d_bar_${x.value}`,fileName:t.value.style.chart.title.text||"vue-ui-3d-bar"}),De=z(()=>Ue(t.value.customPalette)),Y=T({showTable:t.value.table.show}),F=z(()=>$.dataset.series&&$.dataset.series.length),o=z(()=>({height:t.value.style.chart.box.dimensions.height,width:t.value.style.chart.box.dimensions.width,absoluteWidth:t.value.style.chart.box.dimensions.width*(F.value?2:1),top:t.value.style.chart.box.dimensions.top,bottom:t.value.style.chart.box.dimensions.bottom,left:t.value.style.chart.box.dimensions.left,right:t.value.style.chart.box.dimensions.right,perspective:t.value.style.chart.box.dimensions.perspective})),C=z(()=>{if(F.value){const r=$.dataset.series.map(l=>l.value||0).reduce((l,n)=>l+n,0),a=$.dataset.series.map((l,n)=>({...l,id:_e(),proportion:(l.value||0)/r,color:qe(l.color)||De.value[n]||X[n]||X[n%X.length],breakdown:l.breakdown?l.breakdown.sort((d,k)=>k.value-d.value):null})).sort((l,n)=>n.value-l.value),e=[];let v=0;for(let l=0;l<a.length;l+=1)e.push({...a[l],fill:Ne(v,a[l].proportion,a[l].breakdown,a[l].color)}),v+=a[l].proportion;return e}return null}),N=z(()=>({right:`M${o.value.width/2},${o.value.top} ${o.value.width-o.value.right}, ${o.value.top+o.value.perspective} ${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective} ${o.value.width/2},${o.value.height-o.value.bottom}`,left:`M${o.value.width/2},${o.value.top} ${o.value.left},${o.value.top+o.value.perspective} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective} ${o.value.width/2},${o.value.height-o.value.bottom}`,side:`M${o.value.width/2},${o.value.height-o.value.bottom} ${o.value.width/2},${o.value.top+o.value.perspective*2}`,topSides:`M${o.value.left},${o.value.top+o.value.perspective} ${o.value.width/2},${o.value.top+o.value.perspective*2} ${o.value.width-o.value.right},${o.value.top+o.value.perspective}`,tubeTop:`M${o.value.left},${o.value.top+o.value.perspective} C ${o.value.left},${o.value.top-o.value.perspective/3} ${o.value.width-o.value.right},${o.value.top-o.value.perspective/3} ${o.value.width-o.value.right},${o.value.top+o.value.perspective} C ${o.value.width-o.value.right},${o.value.top+o.value.perspective*2.3} ${o.value.left},${o.value.top+o.value.perspective*2.3} ${o.value.left},${o.value.top+o.value.perspective}`,tubeLeft:`M${o.value.left},${o.value.top+o.value.perspective} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective}`,tubeRight:`M${o.value.width-o.value.right},${o.value.top+o.value.perspective} ${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective}`,tubeBottom:`M${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective} C ${o.value.width-o.value.right},${o.value.height} ${o.value.left},${o.value.height} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective}`})),G=T(t.value.style.chart.animation.use?0:$.dataset.percentage);Ee(()=>{ke();let r=0,a=t.value.style.chart.animation.speed,e=.005*t.value.style.chart.animation.acceleration;function v(){G.value+=a+r,r+=e,G.value<$.dataset.percentage?requestAnimationFrame(v):G.value=$.dataset.percentage}t.value.style.chart.animation.use&&(G.value=0,v())});function ke(){He($.dataset)?ee({componentName:"VueUi3dBar",type:"dataset"}):$.dataset.series?$.dataset.series.forEach((r,a)=>{ue({datasetObject:r,requiredAttributes:["name","value"]}).forEach(e=>{ee({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:e,index:a})}),r.breakdown&&r.breakdown.forEach((e,v)=>{ue({datasetObject:e,requiredAttributes:["name","value"]}).forEach(l=>{ee({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:l,index:`${a} - ${v}`})})})}):ue({datasetObject:$.dataset,requiredAttributes:["percentage"]}).forEach(r=>{ee({componentName:"VueUi3dBar",type:"datasetAttribute",property:r})})}function Ne(r,a,e,v){const l=o.value.height-o.value.bottom-o.value.top-o.value.perspective*2,{width:n,height:d,bottom:k,right:p,left:_,perspective:f}=o.value,h=k+l*r,ie=d-h-f-l*a/2,Ie=ie>o.value.height/2?"top":"bottom",me=64,We=!!e;let xe=null,we=null;return We&&(e=e.map((Ce,Oe)=>({...Ce,value:Ce.value||0,color:V(v,Oe/e.length)})),xe=Fe({series:e},n+o.value.absoluteWidth/4-14,Ie==="top"?ie-me:ie+me,28,28,1.99999,2,1,360,105.25,14),we=Fe({series:e},n-p+20,d-h-f-l*a/2,6,6,1.99999,2,1,360,105.25,6)),{donut:xe,miniDonut:we,sidePointer:{x:n-p,y:d-h-f-l*a/2,topY:d-h-f-l*a,height:l*a},apexBottom:{y:d-h,x:n/2},apexTop:{y:d-h-l*a,x:n/2},right:`M${n/2},${d-h} ${n/2},${d-h-l*a} ${n-p},${d-h-f-l*a} ${n-p},${d-h-f}Z`,left:`M${n/2},${d-h} ${n/2},${d-h-l*a} ${_}, ${d-h-f-l*a} ${_},${d-h-f}Z`,liningTop:`M${_},${d-h-f-l*a} ${n/2},${d-h-l*a} ${n-p},${d-h-f-l*a}`,liningTopShade:`M${_},${d-h-f-l*a-.5} ${n/2},${d-h-l*a-.5} ${n-p},${d-h-f-l*a-.5}`,top:`M${n/2},${d-h-l*a} ${_},${d-h-f-l*a} ${n/2},${d-h-f*2-l*a} ${n-p},${d-h-f-l*a} Z`,tubeTop:`M${_},${d-h-l*a-f} C ${_},${d-h-l*a-f*2.5} ${n-p},${d-h-l*a-f*2.5} ${n-p},${d-h-l*a-f} C ${n-p},${d-h-l*a+f/2} ${_},${d-h-l*a+f/2} ${_},${d-h-l*a-f}`,bottomTubeTop:`M ${n-p-.5},${d-h-f} C ${n-p-.5},${d-h+f/2} ${_},${d-h+f/2} ${_+.5},${d-h-f}`,tubeBody:`M
        ${_},${d-h-l*a-f} 
        C ${_},${d-h-l*a+f/2} 
        ${n-p},${d-h-l*a+f/2} 
        ${n-p},${d-h-l*a-f} 
        L${n-p},${d-h-f}
        C 
        ${n-p},${d-h+f/2}
        ${_},${d-h+f/2}
        ${_},${d-h-f}Z`}}const U=z(()=>{const r=G.value/100,a=o.value.height-o.value.bottom-o.value.top-o.value.perspective*2,{width:e,height:v,bottom:l,right:n,left:d,perspective:k}=o.value,p=l+a*0;return{right:`M${e/2},${v-p} ${e/2},${v-p-a*r} ${e-n},${v-p-k-a*r} ${e-n},${v-p-k}Z`,left:`M${e/2},${v-p} ${e/2},${v-p-a*r} ${d}, ${v-p-k-a*r} ${d},${v-p-k}Z`,top:`M${e/2},${v-p-a*r} ${d},${v-p-k-a*r} ${e/2},${v-p-k*2-a*r} ${e-n},${v-p-k-a*r} Z`,tubeTop:`M${d},${v-p-a*r-k} C ${d},${v-p-a*r-k*2.5} ${e-n},${v-p-a*r-k*2.5} ${e-n},${v-p-a*r-k} C ${e-n},${v-p-a*r+k/2} ${d},${v-p-a*r+k/2} ${d},${v-p-a*r-k}`,tubeBody:`M
        ${d},${v-p-a*r-k} 
        C ${d},${v-p-a*r+k/2} 
        ${e-n},${v-p-a*r+k/2} 
        ${e-n},${v-p-a*r-k} 
        L${e-n},${v-k*1.5}
        C 
        ${e-n},${v}
        ${d},${v}
        ${d},${v-p-k}Z`}}),w=T(null);function M(r,a=!1){R("selectDatapoint",r),a||(w.value=r.id),a&&W.value&&(W.value=!1),a&&!W.value&&(W.value=!0)}function O(){W.value||(w.value=null)}function L(r,a,e=!1){const v=$.dataset.series.map(d=>d.value||0).reduce((d,k)=>d+k,0),l=isNaN(r.value/v)?0:r.value/v*100,n=isNaN(r.value/ge(a))?0:r.value/ge(a)*100;return e?n:l.toFixed(0)+"%"}function ge(r){return[...r].map(a=>a.value).reduce((a,e)=>a+e,0)}const se=T(!1);function Be(r){se.value=r}function Ae(){return F.value?C.value:$.dataset.percentage}const B=z(()=>{if(F.value){const r=C.value.flatMap(e=>e.breakdown&&e.breakdown.length?[{name:e.name,color:e.color},...e.breakdown.map((v,l)=>({name:v.name,color:V(e.color,l/e.breakdown.length)}))]:{name:e.name,color:e.color}),a=C.value.flatMap(e=>e.breakdown&&e.breakdown.length?[e.value,...e.breakdown.map(v=>v.value)]:e.value);return{head:r,body:a}}else return null});function $e(){if(!F.value){console.warn("VueUi3dBar : CSV download is only available in stack mode (providing dataset.series instead of dataset.percentage)");return}Re(()=>{const r=C.value.map(l=>l.value).reduce((l,n)=>l+n,0),a=B.value.head.map((l,n)=>[[l.name],[B.value.body[n]],[isNaN(B.value.body[n]/r)?"-":B.value.body[n]/r*100]]),e=[[t.value.style.chart.title.text],[t.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(a),v=Je(e);Ye({csvContent:v,title:t.value.style.chart.title.text||"vue-ui-3d-bar"})})}const K=z(()=>{const r=C.value.map(l=>l.value).reduce((l,n)=>l+n,0),a=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',j({p:t.value.style.chart.legend.prefix,v:r,s:t.value.style.chart.legend.suffix,r:t.value.table.td.roundingValue}),"100%"],e=B.value.head.map((l,n)=>{const d=j({p:t.value.style.chart.legend.prefix,v:B.value.body[n],s:t.value.style.chart.legend.suffix,r:t.value.table.td.roundingValue});return[{color:l.color,name:l.name},d,isNaN(B.value.body[n]/r)?"-":j({v:B.value.body[n]/r*100,s:"%",r:t.value.table.td.roundingPercentage})]}),v={th:{backgroundColor:t.value.table.th.backgroundColor,color:t.value.table.th.color,outline:t.value.table.th.outline},td:{backgroundColor:t.value.table.td.backgroundColor,color:t.value.table.td.color,outline:t.value.table.td.outline},breakpoint:t.value.table.responsiveBreakpoint,shape:t.value.style.shape==="tube"?"circle":"square"};return{colNames:[t.value.table.columnNames.series,t.value.table.columnNames.value,t.value.table.columnNames.percentage],head:a,body:e,config:v}});function be(){Y.value.showTable=!Y.value.showTable}const Q=T(!1);function ne(){Q.value=!Q.value}return Se({generateCsv:$e,generatePdf:fe,generateImage:ye,getData:Ae,toggleTable:be,toggleAnnotator:ne}),(r,a)=>(s(),u("div",{ref_key:"bar3dChart",ref:re,class:Me("vue-ui-3d-bar"),style:A(`font-family:${t.value.style.fontFamily};width:100%; text-align:center;background:${t.value.style.chart.backgroundColor}`),id:`3d_bar_${x.value}`},[t.value.userOptions.buttons.annotator?(s(),Z(dt,{key:0,parent:re.value,backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color,active:Q.value,onClose:ne},null,8,["parent","backgroundColor","color","active"])):y("",!0),t.value.style.chart.title.text?(s(),u("div",ht,[(s(),Z(ot,{key:`title_${de.value}`,config:{title:{cy:"3dBar-div-title",...t.value.style.chart.title},subtitle:{cy:"3dBar-div-subtitle",...t.value.style.chart.title.subtitle}}},null,8,["config"]))])):y("",!0),t.value.userOptions.show&&J.value?(s(),Z(rt,{key:2,ref_key:"details",ref:je,backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color,isPrinting:c(he),isImaging:c(pe),uid:x.value,hasPdf:t.value.userOptions.buttons.pdf,hasTable:!!F.value&&t.value.userOptions.buttons.table,hasXls:!!F.value&&t.value.userOptions.buttons.csv,hasImg:t.value.userOptions.buttons.img,hasFullscreen:t.value.userOptions.buttons.fullscreen,titles:{...t.value.userOptions.buttonTitles},chartElement:re.value,position:t.value.userOptions.position,hasAnnotator:t.value.userOptions.buttons.annotator,isAnnotation:Q.value,onToggleFullscreen:Be,onGeneratePdf:c(fe),onGenerateCsv:$e,onGenerateImage:c(ye),onToggleTable:be,onToggleAnnotator:ne},Ke({_:2},[r.$slots.optionPdf?{name:"optionPdf",fn:D(()=>[S(r.$slots,"optionPdf",{},void 0,!0)]),key:"0"}:void 0,r.$slots.optionCsv?{name:"optionCsv",fn:D(()=>[S(r.$slots,"optionCsv",{},void 0,!0)]),key:"1"}:void 0,r.$slots.optionImg?{name:"optionImg",fn:D(()=>[S(r.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,r.$slots.optionTable?{name:"optionTable",fn:D(()=>[S(r.$slots,"optionTable",{},void 0,!0)]),key:"3"}:void 0,r.$slots.optionFullscreen?{name:"optionFullscreen",fn:D(({toggleFullscreen:e,isFullscreen:v})=>[S(r.$slots,"optionFullscreen",q(E({toggleFullscreen:e,isFullscreen:v})),void 0,!0)]),key:"4"}:void 0,r.$slots.optionAnnotator?{name:"optionAnnotator",fn:D(({toggleAnnotator:e,isAnnotator:v})=>[S(r.$slots,"optionAnnotator",q(E({toggleAnnotator:e,isAnnotator:v})),void 0,!0)]),key:"5"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasTable","hasXls","hasImg","hasFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","onGeneratePdf","onGenerateImage"])):y("",!0),J.value?(s(),u("svg",{key:3,xmlns:c(Qe),class:Me({"vue-data-ui-fullscreen--on":se.value,"vue-data-ui-fulscreen--off":!se.value}),viewBox:`0 0 ${o.value.absoluteWidth} ${o.value.height}`,style:A(`max-width:100%; overflow: visible; background:transparent;color:${t.value.style.chart.color}`)},[Xe(ut),i("defs",null,[i("radialGradient",{id:`gradient_top${x.value}`},[i("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,yt),i("stop",{offset:"100%","stop-color":t.value.style.chart.bar.color},null,8,kt)],8,ft),i("radialGradient",{id:`gradient_left${x.value}`},[i("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,$t),i("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,20)},null,8,bt)],8,gt),i("radialGradient",{id:`gradient_right${x.value}`},[i("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,xt),i("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,20)},null,8,wt)],8,mt),i("linearGradient",{id:`gradient_tube_body${x.value}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[i("stop",{offset:"0%","stop-color":`${t.value.style.chart.bar.color}`},null,8,_t),i("stop",{offset:"75%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,Ft),i("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,40)},null,8,Mt)],8,Ct)]),F.value?(s(),u("defs",Pt,[(s(!0),u(b,null,m(C.value,e=>(s(),u("radialGradient",{id:`grad_top_${e.id}`},[i("stop",{offset:"0%","stop-color":c(g)(c(V)(e.color,.5),80)},null,8,St),i("stop",{offset:"100%","stop-color":e.color},null,8,zt)],8,Tt))),256)),(s(!0),u(b,null,m(C.value,e=>(s(),u("linearGradient",{id:`grad_left_${e.id}`},[i("stop",{offset:"0%","stop-color":c(g)(e.color,80)},null,8,Dt),i("stop",{offset:"100%","stop-color":c(g)(c(te)(e.color,.5),100)},null,8,Nt)],8,jt))),256)),(s(!0),u(b,null,m(C.value,e=>(s(),u("linearGradient",{id:`grad_right_${e.id}`},[i("stop",{offset:"2%","stop-color":c(g)(c(V)(e.color,.5),100)},null,8,At),i("stop",{offset:"100%","stop-color":c(g)(e.color,80)},null,8,It)],8,Bt))),256)),i("linearGradient",{x1:"0%",y1:"0%",x2:"0%",y2:"100%",id:`vertical_line_${x.value}`},Lt,8,Wt)])):y("",!0),t.value.style.chart.dataLabel.show&&![null,void 0].includes($.dataset.percentage)&&[null,void 0].includes($.dataset.series)?(s(),u("text",{key:1,x:o.value.width/2,y:o.value.top-t.value.style.chart.dataLabel.fontSize/2,"font-size":t.value.style.chart.dataLabel.fontSize,"font-weight":t.value.style.chart.dataLabel.bold?"bold":"normal",fill:t.value.style.chart.dataLabel.color,"text-anchor":"middle"},P(c(j)({v:G.value,s:"%",r:t.value.style.chart.dataLabel.rounding})),9,Vt)):y("",!0),W.value?(s(),u("g",{key:2,onClick:a[0]||(a[0]=e=>{W.value=!1,w.value=null}),"data-html2canvas-ignore":"",style:{cursor:"pointer"}},[i("rect",{x:o.value.width/2-6,y:o.value.top-20,height:12,width:12,fill:"transparent"},null,8,Zt),i("path",{d:`M${o.value.width/2-6},${o.value.top-20} ${o.value.width/2+6},${o.value.top-9}`,stroke:t.value.style.chart.color,"stroke-linecap":"round","stroke-width":"1"},null,8,Ht),i("path",{d:`M${o.value.width/2+6},${o.value.top-20} ${o.value.width/2-6},${o.value.top-9}`,stroke:t.value.style.chart.color,"stroke-linecap":"round","stroke-width":"1"},null,8,Ut)])):y("",!0),!t.value.style.shape||t.value.style.shape==="bar"?(s(),u("g",qt,[F.value?y("",!0):(s(),u("g",Et,[i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.right,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Rt),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.left,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Jt),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.side,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Yt),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.topSides,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Kt)])),F.value?y("",!0):(s(),u("g",Qt,[i("path",{d:U.value.right,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_right${x.value})`},null,8,Xt),i("path",{d:U.value.left,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_left${x.value})`},null,8,el),i("path",{d:U.value.top,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_top${x.value})`},null,8,tl)])),F.value?(s(),u("g",ll,[(s(!0),u(b,null,m(C.value,(e,v)=>(s(),u("g",{style:A(`opacity:${w.value?w.value===e.id?1:.3:1}`),class:"vue-ui-3d-bar-stack"},[i("path",{d:e.fill.right,fill:`url(#grad_right_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O},null,40,ol),i("path",{d:e.fill.left,fill:`url(#grad_left_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O},null,40,al),i("path",{d:e.fill.top,fill:`url(#grad_top_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O},null,40,rl),i("path",{d:e.fill.liningTop,stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round",fill:"none",onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O},null,40,sl),i("path",{d:`M ${e.fill.apexTop.x},${e.fill.apexTop.y} ${e.fill.apexBottom.x},${e.fill.apexBottom.y}`,stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round"},null,8,nl)],4))),256)),(s(!0),u(b,null,m(C.value,(e,v)=>(s(),u("g",null,[v!==C.value.length-1?(s(),u("path",{key:0,d:e.fill.liningTopShade,stroke:t.value.style.chart.bar.shadeColor,"stroke-width":"0.5","stroke-linecap":"round",fill:"none",style:{"pointer-events":"none"}},null,8,il)):y("",!0)]))),256)),(s(!0),u(b,null,m(C.value,(e,v)=>(s(),u("g",{style:A(`opacity:${w.value?w.value===e.id?1:0:e.proportion*100>t.value.style.chart.legend.hideUnderPercentage?1:0}`),onClick:l=>R("selectDatapoint",e)},[i("path",{stroke:t.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:`M${e.fill.sidePointer.x},${e.fill.sidePointer.y} ${e.fill.sidePointer.x+20},${e.fill.sidePointer.y}`},null,8,dl),!e.fill.miniDonut||w.value?(s(),u("circle",{key:0,cx:e.fill.sidePointer.x+20,cy:e.fill.sidePointer.y,r:2,fill:e.color,stroke:t.value.style.chart.backgroundColor},null,8,cl)):y("",!0),(s(),u("foreignObject",{x:e.fill.sidePointer.x+30,y:e.fill.sidePointer.y-t.value.style.chart.legend.fontSize,width:o.value.absoluteWidth/2-12,height:t.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[t.value.style.chart.legend.showDefault?(s(),u("div",{key:0,style:A(`height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:${t.value.style.chart.legend.fontSize}px; text-align:left; line-height: ${t.value.style.chart.legend.fontSize}px; color:${t.value.style.chart.legend.color}`)},P(e.name)+": "+P(c(j)({v:e.proportion*100,s:"%",r:t.value.style.chart.legend.roundingPercentage}))+" ("+P(c(le)(t.value.style.chart.dataLabel.formatter,e.value,c(j)({p:t.value.style.chart.legend.prefix,v:e.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:v}))+") ",5)):y("",!0),S(r.$slots,"legend",q(E({datapoint:e,config:t.value,dataset:C.value})),void 0,!0)],8,vl)),e.fill.donut&&w.value===e.id?(s(),u("g",hl,[(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("g",null,[L(l,e.fill.donut,!0)>6?(s(),u("path",{key:0,d:c(Pe)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,pl)):y("",!0)]))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":1},null,8,fl))),256)),i("defs",null,[i("radialGradient",{id:`hollow_gradient_${x.value}`},[i("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,kl),gl,i("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,$l)],8,yl)]),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:28,fill:`url(#hollow_gradient_${x.value})`},null,8,bl))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:14,fill:t.value.style.chart.backgroundColor},null,8,ml))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("g",null,[L(l,e.fill.donut,!0)>6?(s(),u("g",xl,[i("text",{"text-anchor":c(I)(l,!0,0).anchor,x:c(I)(l,!0,2).x,y:c(oe)(l,12,12),fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(L(l,e.fill.donut))+" ("+P(c(le)(t.value.style.chart.dataLabel.formatter,l.value,c(j)({p:t.value.style.chart.legend.prefix,v:l.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:n}))+") ",9,wl),i("text",{"text-anchor":c(I)(l).anchor,x:c(I)(l,!0,2).x,y:c(oe)(l,12,12)+t.value.style.chart.legend.fontSize/1.5,fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(l.name),9,Cl)])):y("",!0)]))),256))])):y("",!0),e.fill.miniDonut&&!w.value?(s(),u("g",_l,[(s(!0),u(b,null,m(e.fill.miniDonut,(l,n)=>(s(),u("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":.5},null,8,Fl))),256))])):y("",!0)],12,ul))),256))])):y("",!0)])):y("",!0),t.value.style.shape==="tube"?(s(),u("g",Ml,[F.value?y("",!0):(s(),u("g",Pl,[i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeTop,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Tl),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeLeft,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Sl),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeRight,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,zl),i("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeBottom,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,jl),i("path",{d:U.value.tubeTop,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_top${x.value})`},null,8,Dl),i("path",{d:U.value.tubeBody,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_body${x.value})`},null,8,Nl)])),F.value?(s(),u("g",Bl,[(s(!0),u(b,null,m(C.value,(e,v)=>(s(),u("g",{style:A(`opacity:${w.value?w.value===e.id?1:.3:1}`),class:"vue-ui-3d-bar-stack",onClick:l=>R("selectDatapoint",e)},[i("defs",null,[i("radialGradient",{id:`gradient_tube_top_${e.id}`,fx:"10%",cy:"55%"},[i("stop",{offset:"0%","stop-color":c(g)(c(V)(e.color,.5),80)},null,8,Wl),i("stop",{offset:"100%","stop-color":c(g)(c(te)(e.color,.1),80)},null,8,Ol)],8,Il),i("linearGradient",{id:`gradient_tube_body_${e.id}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[i("stop",{offset:"0%","stop-color":`${e.color}`},null,8,Ll),i("stop",{offset:"10%","stop-color":c(g)(c(te)(e.color,.7),100)},null,8,Vl),i("stop",{offset:"25%","stop-color":c(g)(c(te)(e.color,.5),100)},null,8,Zl),i("stop",{offset:"75%","stop-color":c(g)(e.color,80)},null,8,Hl),i("stop",{offset:"100%","stop-color":c(g)(c(V)(e.color,.7),100)},null,8,Ul)],8,Gl)]),i("path",{onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O,d:e.fill.tubeBody,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_body_${e.id})`},null,40,ql),v>0?(s(),u("path",{key:0,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O,d:e.fill.bottomTubeTop,stroke:"#000000","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,40,El)):y("",!0),i("path",{onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:O,d:e.fill.tubeTop,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_top_${e.id})`},null,40,Rl)],12,Al))),256)),(s(!0),u(b,null,m(C.value,(e,v)=>(s(),u("g",{style:A(`opacity:${w.value?w.value===e.id?1:0:e.proportion*100>t.value.style.chart.legend.hideUnderPercentage?1:0}`),onClick:l=>R("selectDatapoint",e)},[i("path",{stroke:t.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:`M${e.fill.sidePointer.x},${e.fill.sidePointer.y} ${e.fill.sidePointer.x+20},${e.fill.sidePointer.y}`},null,8,Yl),!e.fill.miniDonut||w.value?(s(),u("circle",{key:0,cx:e.fill.sidePointer.x+20,cy:e.fill.sidePointer.y,r:2,fill:e.color,stroke:t.value.style.chart.backgroundColor},null,8,Kl)):y("",!0),(s(),u("foreignObject",{x:e.fill.sidePointer.x+30,y:e.fill.sidePointer.y-t.value.style.chart.legend.fontSize,width:o.value.absoluteWidth/2-12,height:t.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[t.value.style.chart.legend.showDefault?(s(),u("div",{key:0,style:A(`height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:${t.value.style.chart.legend.fontSize}px; text-align:left; line-height: ${t.value.style.chart.legend.fontSize}px; color:${t.value.style.chart.legend.color}`)},P(e.name)+": "+P(c(j)({v:e.proportion*100,s:"%",r:t.value.style.chart.legend.roundingPercentage}))+" ("+P(c(le)(t.value.style.chart.dataLabel.formatter,e.value,c(j)({p:t.value.style.chart.legend.prefix,v:e.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:v}))+") ",5)):y("",!0),S(r.$slots,"legend",q(E({datapoint:e,config:t.value,dataset:C.value})),void 0,!0)],8,Ql)),e.fill.donut&&w.value===e.id?(s(),u("g",Xl,[(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("g",null,[L(l,e.fill.donut,!0)>6?(s(),u("path",{key:0,d:c(Pe)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,eo)):y("",!0)]))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":1},null,8,to))),256)),i("defs",null,[i("radialGradient",{id:`hollow_gradient_${x.value}`},[i("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,oo),ao,i("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,ro)],8,lo)]),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:28,fill:`url(#hollow_gradient_${x.value})`},null,8,so))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:14,fill:t.value.style.chart.backgroundColor},null,8,no))),256)),(s(!0),u(b,null,m(e.fill.donut,(l,n)=>(s(),u("g",null,[L(l,e.fill.donut,!0)>6?(s(),u("g",io,[i("text",{"text-anchor":c(I)(l,!0,0).anchor,x:c(I)(l,!0,2).x,y:c(oe)(l,12,12),fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(L(l,e.fill.donut))+" ("+P(c(le)(t.value.style.chart.dataLabel.formatter,l.value,c(j)({p:t.value.style.chart.legend.prefix,v:l.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:n}))+") ",9,uo),i("text",{"text-anchor":c(I)(l).anchor,x:c(I)(l,!0,2).x,y:c(oe)(l,12,12)+t.value.style.chart.legend.fontSize/1.5,fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(l.name),9,co)])):y("",!0)]))),256))])):y("",!0),e.fill.miniDonut&&!w.value?(s(),u("g",vo,[(s(!0),u(b,null,m(e.fill.miniDonut,(l,n)=>(s(),u("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":.5},null,8,ho))),256))])):y("",!0)],12,Jl))),256))])):y("",!0)])):y("",!0),S(r.$slots,"svg",{svg:o.value},void 0,!0)],14,pt)):y("",!0),r.$slots.watermark?(s(),u("div",po,[S(r.$slots,"watermark",q(E({isPrinting:c(he)||c(pe)})),void 0,!0)])):y("",!0),J.value?y("",!0):(s(),Z(st,{key:5,config:{type:"bar3d",style:{backgroundColor:t.value.style.chart.backgroundColor,bar3d:{color:"#CCCCCC"}}}},null,8,["config"])),r.$slots.source?(s(),u("div",fo,[S(r.$slots,"source",{},void 0,!0)],512)):y("",!0),J.value&&F.value?(s(),Z(it,{key:7,hideDetails:"",config:{open:Y.value.showTable,maxHeight:1e4,body:{backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color},head:{backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color}}},{content:D(()=>[(s(),Z(nt,{key:`table_${ce.value}`,colNames:K.value.colNames,head:K.value.head,body:K.value.body,config:K.value.config,title:`${t.value.style.chart.title.text}${t.value.style.chart.title.subtitle.text?` : ${t.value.style.chart.title.subtitle.text}`:""}`,onClose:a[1]||(a[1]=e=>Y.value.showTable=!1)},{th:D(({th:e})=>[i("div",{innerHTML:e,style:{display:"flex","align-items":"center"}},null,8,yo)]),td:D(({td:e})=>[lt(P(e.name||e),1)]),_:1},8,["colNames","head","body","config","title"]))]),_:1},8,["config"])):y("",!0)],12,vt))}},To=ct(ko,[["__scopeId","data-v-558e9734"]]);export{To as default};

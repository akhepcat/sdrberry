import{z as ha,r as I,D as ga,c as D,R as xa,A as q,H as pa,w as Re,ak as fa,E as ma,C as ya,b as ka,ac as ba,Q as Me,F as wa,a2 as ze,a3 as Fe,U as j,G as U,ad as Je,o as l,a as t,i as $e,L as g,j as Sa,l as K,m as _,p as X,q as ne,u as x,M as N,h as P,J as Aa,f as re,e as A,S as La,T as za,P as p,k as $,X as $a,Y as Ne,$ as pe,n as se,aw as Qe,a0 as Y,v as Oe}from"./index-DU9YtjQY.js";import{O as Ca,k as Ia}from"./useResponsive-CoxXLe23-CoJWR8uA.js";import{s as Ea,u as Ce}from"./vue-data-ui-DF7u-eZV-CTKmBAIv.js";import{E as Ta}from"./Tooltip-qod9o4Vz-DnvH6E2s.js";import{r as Pa,a as Ra}from"./usePrinter-CLcxWv-4-BPW-RlA5.js";import{U as Ma}from"./Slicer-BLQZ4Fne-Dl83ssjf.js";import Fa from"./vue-ui-skeleton-Dgzcn3FL-Dhq4Or_K.js";import{c as Ke}from"./useNestedProp-BxrcwmTZ-BdAY6Y8t.js";import{p as Na}from"./PackageVersion-mSsg8dpu-DYFu_gn7.js";import{S as Oa}from"./PenAndPaper-Dk41ZrJ0--CHfrOR_.js";const L={LINE:"LINE",BAR:"BAR",DONUT:"DONUT"},Ba=["SERIE","SERIES","DATA","VALUE","VALUES","NUM"];function Ua({dataset:s,barLineSwitch:z=6}){let f=null,R=null,W=0;if((typeof s=="number"||typeof s=="string")&&console.warn(`The provided dataset (${s}) is not sufficient to build a chart`),fe(s)&&(Z(s)&&(s.length<z?f=L.BAR:f=L.LINE,R=s,W=s.length),Ie(s))){if(!Va(s))return console.warn("The objects in the dataset array have a different data structure. Either keys or value types are different."),!1;const O=Object.keys(s[0]),H=Object.values(s[0]);if(!O.some(M=>Da(M)))return console.warn("The data type of the dataset objects in the array must contain one of the following keys: DATA, SERIES, VALUE, VALUES, NUM. Casing is not important."),!1;ea(H,M=>typeof M=="number")&&(f=L.DONUT,R=s),ea(H,M=>Array.isArray(M)&&Z(M))&&(aa(s)>z?f=L.LINE:f=L.BAR,W=aa(s),R=s.map(M=>({...M,data:qa(M,me=>Z(me))}))),s=s.map(M=>la(M)),R=R.map(M=>la(M))}return fe(s)&&[...new Set(s.flatMap(O=>Array.isArray(O)))][0],{dataset:s,type:f,usableDataset:R,maxSeriesLength:W}}function ta(s){return!s||fe(s)&&!s.length}function fe(s){return Array.isArray(s)}function Z(s){if(!fe(s)||ta(s))return!1;const z=s.map(f=>Number(f));return![...new Set(z.flatMap(f=>typeof f=="number"&&!isNaN(f)))].includes(!1)}function Ie(s){return!fe(s)||ta(s)||[...new Set(s.flatMap(z=>typeof z=="object"&&!Array.isArray(z)))].includes(!1)?!1:!s.map(z=>Object.keys(z).length>0).includes(!1)}function _a(s,z){const f=Object.keys(s).sort(),R=Object.keys(z).sort();if(f.length!==R.length)return!1;for(let W=0;W<f.length;W+=1){const O=f[W],H=R[W];if(O!==H||typeof s[O]!=typeof z[H])return!1}return!0}function Va(s){if(s.length<=1)return!0;for(let z=0;z<s.length;z+=1)for(let f=z+1;f<s.length;f+=1)if(!_a(s[z],s[f]))return!1;return!0}function Da(s){return Ba.includes(s.toUpperCase())}function ea(s,z){let f=[];for(let R=0;R<s.length;R+=1)f.push(z(s[R]));return f.includes(!0)}function aa(s){return Math.max(...[...s].flatMap(z=>Object.values(z).filter(f=>Z(f)).map(f=>f.length)))}function qa(s,z){return Object.values(s).filter(f=>z(f))[0]}function la(s){const z={};for(let f in s)s.hasOwnProperty(f)&&(z[f.toUpperCase()]=s[f]);return z}const oa=s=>(La("data-v-7397d9b6"),s=s(),za(),s),Wa=["id"],Ga=["xmlns","viewBox"],ja=["id"],Xa=["id"],Ya=oa(()=>A("feColorMatrix",{type:"saturate",values:"0"},null,-1)),Za=["id"],Ha=["flood-color"],Ja={key:0,class:"donut-label-connectors"},Qa=["d","stroke","stroke-width","filter"],Ka=["cx","cy","r","fill","filter"],el={class:"donut"},al=["d","fill","stroke","stroke-width","filter"],ll=["d","onMouseenter","onClick"],tl={key:1,class:"donut-labels quick-animation"},ol=["cx","cy","fill","stroke","filter"],il=["text-anchor","x","y","fill","font-size","filter"],ul=["text-anchor","x","y","fill","font-size","filter"],nl={key:2,class:"donut-hollow quick-animation"},rl=["x","y","font-size","fill"],sl=["x","y","font-size","fill"],vl={key:0,class:"line-grid"},dl=["x1","x2","y1","y2","stroke","stroke-width"],cl=["x1","x2","y1","y2","stroke","stroke-width"],hl={key:1,class:"line-axis"},gl=["x1","x2","y1","y2","stroke","stroke-width"],xl=["x1","x2","y1","y2","stroke","stroke-width"],pl={key:2,class:"yLabels"},fl=["x1","x2","y1","y2","stroke","stroke-width"],ml=["x","y","font-size","fill"],yl={key:3,class:"periodLabels"},kl=["x1","x2","y1","y2","stroke","stroke-width"],bl=["font-size","text-anchor","fill","transform"],wl={class:"plots"},Sl={class:"line-plot-series"},Al=["d","stroke","stroke-width"],Ll=["d","stroke","stroke-width"],zl=["d","stroke","stroke-width"],$l=["d","stroke","stroke-width"],Cl=["cx","cy","fill","stroke"],Il={key:4,class:"dataLabels"},El=["font-size","fill","x","y"],Tl={class:"tooltip-traps"},Pl=["x","y","height","width","fill","onMouseenter","onClick"],Rl={key:0,class:"line-grid"},Ml=["x1","x2","y1","y2","stroke","stroke-width"],Fl=["x1","x2","y1","y2","stroke","stroke-width"],Nl={key:1,class:"line-axis"},Ol=["x1","x2","y1","y2","stroke","stroke-width"],Bl=["x1","x2","y1","y2","stroke","stroke-width"],Ul={key:2,class:"yLabels"},_l=["x1","x2","y1","y2","stroke","stroke-width"],Vl=["x","y","font-size","fill"],Dl={key:3,class:"periodLabels"},ql=["x1","x2","y1","y2","stroke","stroke-width"],Wl=["font-size","text-anchor","transform","fill"],Gl={class:"plots"},jl=["x","width","height","y","fill","stroke","stroke-width"],Xl=["to"],Yl=["from","to"],Zl={key:4,class:"dataLabels"},Hl=["x","y","font-size","fill"],Jl={class:"tooltip-traps"},Ql=["x","y","height","width","fill","onMouseenter","onClick"],Kl={key:3,class:"axis-labels"},et={key:0},at=["font-size","fill","x","y"],lt={key:1},tt=["font-size","fill","x","y"],ot={key:2},it=["font-size","fill","transform"],ut={key:3},nt=["font-size","fill","transform"],rt={key:6,class:"vue-data-ui-watermark"},st=["onClick"],vt=["onClick"],dt=["onClick"],ct={key:1,class:"vue-ui-quick-chart-not-processable"},ht=oa(()=>A("span",null,"Dataset is not processable",-1)),gt={__name:"vue-ui-quick-chart",props:{config:{type:Object,default(){return{}}},dataset:{type:[Array,Object,String,Number],default(){return null}}},emits:["selectDatapoint","selectLegend"],setup(s,{expose:z,emit:f}){const R=s,{vue_ui_quick_chart:W}=ha(),O=I(null),H=I(null),M=I(null),me=I(null),J=I(ga()),ee=I(!1),ve=I(null),ae=I(""),G=I(null),Be=I(null),Ue=I(null),S=I([]),_e=I(0),ye=I(0),e=D({get:()=>Ve(),set:u=>u});function Ve(){const u=Ke({userConfig:R.config,defaultConfig:W});return u.theme?{...Ke({userConfig:pa.vue_ui_quick_chart[u.theme]||R.config,defaultConfig:u}),customPalette:xa[u.theme]||q}:u}Re(()=>R.config,u=>{e.value=Ve(),w.value.width=e.value.width,w.value.height=e.value.height,We()},{deep:!0}),Re(()=>R.dataset,u=>{y.value=ce.value,k.value.start=0,k.value.end=y.value.maxSeriesLength,ye.value+=1},{deep:!0});const de=D(()=>ma(e.value.customPalette)),ce=D(()=>{const u=Ua({dataset:fa(R.dataset,["serie","series","data","value","values","num"]),barLineSwitch:e.value.chartIsBarUnderDatasetLength});return u||console.error("VueUiQuickChart : Dataset is not processable"),u}),y=I(ce.value),ia=D(()=>!!y.value),C=D(()=>y.value?y.value.type:null);Re(()=>C.value,u=>{u||ya({componentName:"VueUiQuickChart",type:"dataset"})},{immediate:!0});const{isPrinting:ke,isImaging:be,generatePdf:De,generateImage:qe}=Pa({elementId:`${C.value}_${J.value}`,fileName:e.value.title||C.value}),ua=D(()=>e.value.showUserOptions&&!e.value.title),w=I({width:e.value.width,height:e.value.height}),we=I({showTooltip:e.value.showTooltip}),Se=I(null);ka(()=>{We()});function We(){if(e.value.responsive){const u=Ca(()=>{const{width:c,height:a}=Ia({chart:O.value,title:e.value.title?H.value:null,legend:e.value.showLegend?M.value:null,slicer:[L.BAR,L.LINE].includes(C.value)&&e.value.zoomXy&&y.value.maxSeriesLength>1?me.value:null,source:Be.value,noTitle:Ue.value});w.value.width=c,w.value.height=a});Se.value=new ResizeObserver(u),Se.value.observe(O.value.parentNode)}}ba(()=>{Se.value&&Se.value.disconnect()});const na=D(()=>{switch(C.value){case L.LINE:return`0 0 ${w.value.width<=0?10:w.value.width} ${w.value.height<=0?10:w.value.height}`;case L.BAR:return`0 0 ${w.value.width<=0?10:w.value.width} ${w.value.height<=0?10:w.value.height}`;case L.DONUT:return`0 0 ${w.value.width<=0?10:w.value.width} ${w.value.height<=0?10:w.value.height}`;default:return`0 0 ${w.value.width<=0?10:w.value.width} ${w.value.height<=0?10:w.value.height}`}});function Ge(u){return[...u].map(c=>c.value).reduce((c,a)=>c+a,0)}function he(u){return e.value.blurOnHover&&![null,void 0].includes(G.value)&&G.value!==u?`url(#blur_${J.value})`:""}function je(u,c){S.value.includes(u)?S.value=S.value.filter(a=>a!==u):S.value.length<c&&S.value.push(u)}const Xe=I(null),Ye=I(null),Ae=I(!1);function ra(u,c){Ae.value=!0;let a=u.value;if(S.value.includes(u.id)){let n=function(){a>r?(Ae.value=!1,cancelAnimationFrame(Ye.value),y.value={...y.value,dataset:y.value.dataset.map((h,F)=>u.id===`donut_${F}`?{...h,value:r,VALUE:r}:h)}):(a+=r*.025,y.value={...y.value,dataset:y.value.dataset.map((h,F)=>u.id===`donut_${F}`?{...h,value:a,VALUE:a}:h)},Ye.value=requestAnimationFrame(n))};S.value=S.value.filter(h=>h!==u.id);const r=ce.value.dataset.find((h,F)=>u.id===`donut_${F}`).VALUE;n()}else if(c.length>1){let n=function(){a<.1?(Ae.value=!1,cancelAnimationFrame(Xe.value),S.value.push(u.id),y.value={...y.value,dataset:y.value.dataset.map((r,h)=>u.id===`donut_${h}`?{...r,value:0,VALUE:0}:r)}):(a/=1.1,y.value={...y.value,dataset:y.value.dataset.map((r,h)=>u.id===`donut_${h}`?{...r,value:a,VALUE:a}:r)},Xe.value=requestAnimationFrame(n))};n()}}const Q=I(null);function sa(u){Q.value=u}const Ze=D(()=>e.value.donutThicknessRatio<.15?.15:e.value.donutThicknessRatio>.4?.4:e.value.donutThicknessRatio),E=D(()=>{if(C.value!==L.DONUT)return null;const u=y.value.dataset.map((o,i)=>({...o,value:o.VALUE||o.DATA||o.SERIE||o.VALUES||o.NUM||0,name:o.NAME||o.DESCRIPTION||o.TITLE||o.LABEL||`Serie ${i}`,id:`donut_${i}`})).map((o,i)=>({...o,color:o.COLOR?Me(o.COLOR):de.value[i+e.value.paletteStartIndex]||q[i+e.value.paletteStartIndex]||q[(i+e.value.paletteStartIndex)%q.length],immutableValue:o.value}));function c(o,i){return U({v:isNaN(o.value/Ge(i))?0:o.value/Ge(i)*100,s:"%",r:e.value.dataLabelRoundingPercentage})}function a(o){return o.proportion*100>e.value.donutHideLabelUnderPercentage}function n(o,i){const b=ce.value.dataset.find((m,T)=>`donut_${T}`===o).VALUE;return Math.abs(String(Number(b.toFixed(0))).length-String(Number(i.toFixed(0))).length)}function r({datapoint:o,seriesIndex:i}){ve.value={datapoint:o,seriesIndex:i,config:e.value,dataset:u},G.value=o.id;const b=e.value.tooltipCustomFormat;if(ze(b)&&Fe(()=>b({datapoint:o,seriesIndex:i,series:u,config:e.value})))ae.value=b({datapoint:o,seriesIndex:i,series:u,config:e.value});else{let m="";m+=`<div style="width:100%;text-align:center;border-bottom:1px solid ${e.value.tooltipBorderColor};padding-bottom:6px;margin-bottom:3px;">${o.name}</div>`,m+=`<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="${o.color}"/></svg>`,m+=`<b>${j(e.value.formatter,o.value,U({p:e.value.valuePrefix,v:o.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:o,seriesIndex:i})}</b>`,m+=`<span>(${U({v:o.proportion*100,s:"%",r:e.value.dataLabelRoundingPercentage})})</span></div>`,ae.value=`<div>${m}</div>`}ee.value=!0}function h(){ee.value=!1,G.value=null,Q.value=null}const F={centerX:w.value.width/2,centerY:w.value.height/2},V=u.filter(o=>!S.value.includes(o.id)).map(o=>o.value||0).reduce((o,i)=>o+i,0),ie=u.map((o,i)=>({...o,proportion:(o.value||0)/V,value:o.value||0,absoluteValue:ce.value.dataset.find((b,m)=>`donut_${m}`===o.id).VALUE})),le=w.value.width/2,ue=w.value.height/2,te=w.value.height*e.value.donutRadiusRatio;return{dataset:ie.filter(o=>!S.value.includes(o.id)),legend:ie,drawingArea:F,displayArcPercentage:c,isArcBigEnough:a,useTooltip:r,killTooltip:h,getSpaces:n,total:V,cx:le,cy:ue,radius:te,chart:wa({series:u.filter(o=>!S.value.includes(o.id))},le,ue,te,te,1.99999,2,1,360,105.25,w.value.height*Ze.value)}}),k=I({start:0,end:y.value.maxSeriesLength});function va(){k.value={start:0,end:y.value.maxSeriesLength},ye.value+=1}const da=D(()=>{if(!e.value.zoomMinimap.show||C.value===L.DONUT)return[];let u=[];Z(y.value.dataset)&&(u=y.value.dataset),Ie(y.value.dataset)&&(u=y.value.dataset.map((r,h)=>({values:r.VALUE||r.DATA||r.SERIE||r.SERIES||r.VALUES||r.NUM||0,id:C.value===L.LINE?`line_${h}`:`bar_${h}`})).filter(r=>!S.value.includes(r.id)));const c=Z(u)?u.length:Math.max(...u.map(r=>r.values.length));let a=[];if(Z(u))a=u;else for(let r=0;r<c;r+=1)a.push(u.map(h=>h.values[r]||0).reduce((h,F)=>(h||0)+(F||0),0));const n=Math.min(...a);return a.map(r=>r+(n<0?Math.abs(n):0))}),d=D(()=>{if(C.value!==L.LINE)return null;const u={height:w.value.height,width:w.value.width},c={left:e.value.xyPaddingLeft,top:e.value.xyPaddingTop,right:u.width-e.value.xyPaddingRight,bottom:u.height-e.value.xyPaddingBottom,width:u.width-e.value.xyPaddingLeft-e.value.xyPaddingRight,height:u.height-e.value.xyPaddingTop-e.value.xyPaddingBottom};let a=[];Z(y.value.dataset)&&(a=[{values:y.value.dataset.slice(k.value.start,k.value.end),absoluteIndices:y.value.dataset.map((o,i)=>i).slice(k.value.start,k.value.end),name:e.value.title,color:de.value[e.value.paletteStartIndex]||q[e.value.paletteStartIndex],id:"line_0"}]),Ie(y.value.dataset)&&(a=y.value.dataset.map((o,i)=>({...o,values:o.VALUE||o.DATA||o.SERIE||o.SERIES||o.VALUES||o.NUM||0,name:o.NAME||o.DESCRIPTION||o.TITLE||o.LABEL||`Serie ${i}`,id:`line_${i}`})).map((o,i)=>({...o,color:o.COLOR?Me(o.COLOR):de.value[i+e.value.paletteStartIndex]||q[i+e.value.paletteStartIndex]||q[(i+e.value.paletteStartIndex)%q.length],values:o.values.slice(k.value.start,k.value.end),absoluteIndices:o.values.map((b,m)=>m).slice(k.value.start,k.value.end)})));const n={max:Math.max(...a.filter(o=>!S.value.includes(o.id)).flatMap(o=>o.values)),min:Math.min(...a.filter(o=>!S.value.includes(o.id)).flatMap(o=>o.values)),maxSeries:Math.max(...a.map(o=>o.values.length))},r=Je(n.min<0?n.min:0,n.max<0?0:n.max,e.value.xyScaleSegments),h=n.min<0?Math.abs(n.min):0,F=n.max<0?c.top:c.bottom-h/(r.max+h)*c.height,V=c.width/n.maxSeries,ie=r.ticks.map(o=>({y:c.bottom-c.height*((o+h)/(r.max+h)),x:c.left-8,value:o})),le=a.map((o,i)=>({...o,coordinates:o.values.map((b,m)=>({x:c.left+V*(m+1)-V/2,y:c.bottom-(b+h)/(r.max+h)*c.height,value:b}))})).map(o=>{let i=[];return o.coordinates.forEach(b=>{i.push(`${b.x},${b.y} `)}),{...o,linePath:i.join(" ")}});function ue(o){G.value=o,Q.value=o;const i=a.map(m=>({...m,value:m.values[o],absoluteIndex:m.absoluteIndices[o]})).filter(m=>!S.value.includes(m.id));ve.value={datapoint:i,seriesIndex:o,config:e.value,dataset:a};const b=e.value.tooltipCustomFormat;if(ze(b)&&Fe(()=>b({datapoint:i,seriesIndex:o,series:a,config:e.value})))ae.value=b({datapoint:i,seriesIndex:o,series:a,config:e.value});else{let m="";e.value.xyPeriods[i[0].absoluteIndex]&&(m+=`<div style="border-bottom:1px solid ${e.value.tooltipBorderColor};padding-bottom:6px;margin-bottom:3px;">${e.value.xyPeriods[i[0].absoluteIndex]}</div>`),i.forEach((T,B)=>{m+=`
                    <div style="display:flex; flex-wrap: wrap; align-items:center; gap:3px;">
                        <svg viewBox="0 0 12 12" height="14" width="12"><circle cx="6" cy="6" r="6" stroke="none" fill="${T.color}"/></svg>
                        <span>${T.name}:</span>
                        <b>${j(e.value.formatter,T.value,U({p:e.value.valuePrefix,v:T.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:T,seriesIndex:B})}
                        </b>
                    </div>
                `}),ae.value=m}ee.value=!0}function te(){G.value=null,ee.value=!1}return{absoluteZero:F,dataset:le.filter(o=>!S.value.includes(o.id)),legend:le,drawingArea:c,extremes:n,slotSize:V,yLabels:ie,useTooltip:ue,killTooltip:te}}),v=D(()=>{if(C.value!==L.BAR)return null;const u={height:w.value.height,width:w.value.width},c={left:e.value.xyPaddingLeft,top:e.value.xyPaddingTop,right:u.width-e.value.xyPaddingRight,bottom:u.height-e.value.xyPaddingBottom,width:u.width-e.value.xyPaddingLeft-e.value.xyPaddingRight,height:u.height-e.value.xyPaddingTop-e.value.xyPaddingBottom};let a=[];Z(y.value.dataset)&&(a=[{values:y.value.dataset.slice(k.value.start,k.value.end),absoluteIndices:y.value.dataset.map((i,b)=>b).slice(k.value.start,k.value.end),name:e.value.title,color:de.value[e.value.paletteStartIndex]||q[e.value.paletteStartIndex],id:"bar_0"}]),Ie(y.value.dataset)&&(a=y.value.dataset.map((i,b)=>({...i,values:i.VALUE||i.DATA||i.SERIE||i.SERIES||i.VALUES||i.NUM||0,name:i.NAME||i.DESCRIPTION||i.TITLE||i.LABEL||`Serie ${b}`,id:`bar_${b}`})).map((i,b)=>({...i,color:i.COLOR?Me(i.COLOR):de.value[b+e.value.paletteStartIndex]||q[b+e.value.paletteStartIndex]||q[(b+e.value.paletteStartIndex)%q.length],values:i.values.slice(k.value.start,k.value.end),absoluteIndices:i.values.map((m,T)=>T).slice(k.value.start,k.value.end)})));const n={max:Math.max(...a.filter(i=>!S.value.includes(i.id)).flatMap(i=>i.values))<0?0:Math.max(...a.filter(i=>!S.value.includes(i.id)).flatMap(i=>i.values)),min:Math.min(...a.filter(i=>!S.value.includes(i.id)).flatMap(i=>i.values)),maxSeries:Math.max(...a.filter(i=>!S.value.includes(i.id)).map(i=>i.values.length))},r=Je(n.min<0?n.min:0,n.max,e.value.xyScaleSegments),h=r.min<0?Math.abs(r.min):0,F=c.bottom-h/(r.max+h)*c.height,V=c.width/n.maxSeries,ie=r.ticks.map(i=>({y:c.bottom-c.height*((i+h)/(r.max+h)),x:c.left-8,value:i})),le=a.map((i,b)=>({...i,coordinates:i.values.map((m,T)=>{const B=(m+h)/(n.max+h)*c.height,ge=Math.abs(m)/Math.abs(n.min)*(c.height-F),Pe=h/(n.max+h)*c.height,xe=V/a.filter(oe=>!S.value.includes(oe.id)).length-e.value.barGap/a.filter(oe=>!S.value.includes(oe.id)).length;return{x:c.left+V*T+xe*b+e.value.barGap/2,y:m>0?c.bottom-B:F,height:m>0?B-Pe:ge,value:m,width:xe}})})),ue=a.filter(i=>!S.value.includes(i.id)).map((i,b)=>({...i,coordinates:i.values.map((m,T)=>{const B=(m+h)/(n.max+h)*c.height,ge=Math.abs(m)/(n.max+h)*c.height,Pe=h/(n.max+h)*c.height,xe=V/a.filter(oe=>!S.value.includes(oe.id)).length-e.value.barGap/a.filter(oe=>!S.value.includes(oe.id)).length;return{x:c.left+V*T+xe*b+e.value.barGap/2,y:m>0?c.bottom-B:F,height:m>0?B-Pe:ge,value:m,width:xe}})}));function te(i){G.value=i,Q.value=i;const b=a.map(T=>({...T,value:T.values[i],absoluteIndex:T.absoluteIndices[i]})).filter(T=>!S.value.includes(T.id));ve.value={datapoint:b,seriesIndex:i,config:e.value,dataset:a};const m=e.value.tooltipCustomFormat;if(ze(m)&&Fe(()=>m({datapoint:b,seriesIndex:i,series:a,config:e.value})))ae.value=m({point:b,seriesIndex:i,series:a,config:e.value});else{let T="";e.value.xyPeriods[b[0].absoluteIndex]&&(T+=`<div style="border-bottom:1px solid ${e.value.tooltipBorderColor};padding-bottom:6px;margin-bottom:3px;">${e.value.xyPeriods[b[0].absoluteIndex]}</div>`),b.forEach((B,ge)=>{T+=`
                    <div style="display:flex; flex-wrap: wrap; align-items:center; gap:3px;">
                        <svg viewBox="0 0 12 12" height="14" width="12"><rect x=0 y="0" width="12" height="12" rx="1" stroke="none" fill="${B.color}"/></svg>
                        <span>${B.name}:</span>
                        <b>${j(e.value.formatter,B.value,U({p:e.value.valuePrefix,v:B.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:B,seriesIndex:ge})}
                        </b>
                    </div>
                `}),ae.value=T}ee.value=!0}function o(){ee.value=!1,G.value=null,Q.value=null}return{absoluteZero:F,dataset:ue.filter(i=>!S.value.includes(i.id)),legend:le,drawingArea:c,extremes:n,slotSize:V,yLabels:ie,useTooltip:te,killTooltip:o}}),Ee=I(!1);function ca(u){Ee.value=u,_e.value+=1}function He(){we.value.showTooltip=!we.value.showTooltip}const Le=I(!1);function Te(){Le.value=!Le.value}return z({generatePdf:De,generateImage:qe,toggleTooltip:He,toggleAnnotator:Te}),(u,c)=>ia.value?(l(),t("div",{key:0,id:`${C.value}_${J.value}`,ref_key:"quickChart",ref:O,class:se({"vue-ui-quick-chart":!0,"vue-data-ui-wrapper-fullscreen":Ee.value}),style:N(`background:${e.value.backgroundColor};color:${e.value.color};font-family:${e.value.fontFamily}; position: relative; ${e.value.responsive?"height: 100%":""}`)},[e.value.userOptionsButtons.annotator?(l(),$e(Oa,{key:0,parent:O.value,backgroundColor:e.value.backgroundColor,color:e.value.color,active:Le.value,onClose:Te},null,8,["parent","backgroundColor","color","active"])):g("",!0),ua.value?(l(),t("div",{key:1,ref_key:"noTitle",ref:Ue,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):g("",!0),e.value.showUserOptions?(l(),$e(Ra,{ref:"details",key:`user_option_${_e.value}`,backgroundColor:e.value.backgroundColor,color:e.value.color,isPrinting:x(ke),isImaging:x(be),uid:J.value,hasTooltip:e.value.userOptionsButtons.tooltip&&e.value.showTooltip,hasPdf:e.value.userOptionsButtons.pdf,hasImg:e.value.userOptionsButtons.img,hasFullscreen:e.value.userOptionsButtons.fullscreen,hasXls:!1,isTooltip:we.value.showTooltip,isFullscreen:Ee.value,titles:{...e.value.userOptionsButtonTitles},chartElement:O.value,position:e.value.userOptionsPosition,hasAnnotator:e.value.userOptionsButtons.annotator,isAnnotation:Le.value,onToggleFullscreen:ca,onGeneratePdf:x(De),onGenerateImage:x(qe),onToggleTooltip:He,onToggleAnnotator:Te},Sa({_:2},[u.$slots.optionTooltip?{name:"optionTooltip",fn:K(()=>[_(u.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,u.$slots.optionPdf?{name:"optionPdf",fn:K(()=>[_(u.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,u.$slots.optionImg?{name:"optionImg",fn:K(()=>[_(u.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,u.$slots.optionFullscreen?{name:"optionFullscreen",fn:K(({toggleFullscreen:a,isFullscreen:n})=>[_(u.$slots,"optionFullscreen",X(ne({toggleFullscreen:a,isFullscreen:n})),void 0,!0)]),key:"3"}:void 0,u.$slots.optionAnnotator?{name:"optionAnnotator",fn:K(({toggleAnnotator:a,isAnnotator:n})=>[_(u.$slots,"optionAnnotator",X(ne({toggleAnnotator:a,isAnnotator:n})),void 0,!0)]),key:"4"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasImg","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","onGeneratePdf","onGenerateImage"])):g("",!0),e.value.title?(l(),t("div",{key:3,ref_key:"quickChartTitle",ref:H,class:"vue-ui-quick-chart-title",style:N(`background:transparent;color:${e.value.color};font-size:${e.value.titleFontSize}px;font-weight:${e.value.titleBold?"bold":"normal"};text-align:${e.value.titleTextAlign}`)},P(e.value.title),5)):g("",!0),C.value?(l(),t("svg",{key:4,xmlns:x(Aa),viewBox:na.value,style:N(`max-width:100%;overflow:visible;background:transparent;color:${e.value.color}`)},[re(Na),A("defs",null,[A("filter",{id:`blur_${J.value}`,x:"-50%",y:"-50%",width:"200%",height:"200%"},[A("feGaussianBlur",{in:"SourceGraphic",stdDeviation:2,id:`blur_std_${J.value}`},null,8,Xa),Ya],8,ja),A("filter",{id:`shadow_${J.value}`,"color-interpolation-filters":"sRGB"},[A("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10","flood-opacity":"0.5","flood-color":e.value.donutShadowColor},null,8,Ha)],8,Za)]),C.value===L.DONUT?(l(),t(p,{key:0},[e.value.showDataLabels?(l(),t("g",Ja,[(l(!0),t(p,null,$(E.value.chart,(a,n)=>(l(),t(p,null,[E.value.isArcBigEnough(a)?(l(),t("path",{key:0,d:x($a)(a,{x:w.value.width/2,y:w.value.height/2},16,16,!1,!1,w.value.height*Ze.value),stroke:a.color,"stroke-width":e.value.donutLabelMarkerStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",filter:he(a.id)},null,8,Qa)):g("",!0)],64))),256))])):g("",!0),A("circle",{cx:E.value.cx,cy:E.value.cy,r:E.value.radius,fill:e.value.backgroundColor,filter:e.value.donutUseShadow?`url(#shadow_${J.value})`:""},null,8,Ka),A("g",el,[(l(!0),t(p,null,$(E.value.chart,(a,n)=>(l(),t("path",{d:a.arcSlice,fill:a.color,stroke:e.value.backgroundColor,"stroke-width":e.value.donutStrokeWidth,filter:he(a.id)},null,8,al))),256)),(l(!0),t(p,null,$(E.value.chart,(a,n)=>(l(),t("path",{d:a.arcSlice,fill:"transparent",onMouseenter:r=>E.value.useTooltip({datapoint:a,seriesIndex:n}),onMouseout:c[0]||(c[0]=r=>E.value.killTooltip()),onClick:r=>f("selectDatapoint",a)},null,40,ll))),256))]),e.value.showDataLabels?(l(),t("g",tl,[(l(!0),t(p,null,$(E.value.chart,(a,n)=>(l(),t(p,null,[E.value.isArcBigEnough(a)?(l(),t("circle",{key:0,cx:x(pe)(a).x,cy:x(Ne)(a)-3.7,fill:a.color,stroke:e.value.backgroundColor,"stroke-width":1,r:3,filter:he(a.id)},null,8,ol)):g("",!0),E.value.isArcBigEnough(a)?(l(),t("text",{key:1,"text-anchor":x(pe)(a,!0,20).anchor,x:x(pe)(a,!0).x,y:x(Ne)(a),fill:e.value.color,"font-size":e.value.dataLabelFontSize,filter:he(a.id)},P(E.value.displayArcPercentage(a,E.value.chart))+" ("+P(x(j)(e.value.formatter,a.value,x(U)({p:e.value.valuePrefix,v:a.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:a,seriesIndex:n}))+") ",9,il)):g("",!0),E.value.isArcBigEnough(a,!0,20)?(l(),t("text",{key:2,"text-anchor":x(pe)(a).anchor,x:x(pe)(a,!0).x,y:x(Ne)(a)+e.value.dataLabelFontSize,fill:e.value.color,"font-size":e.value.dataLabelFontSize,filter:he(a.id)},P(a.name),9,ul)):g("",!0)],64))),256))])):g("",!0),e.value.donutShowTotal?(l(),t("g",nl,[A("text",{"text-anchor":"middle",x:E.value.drawingArea.centerX,y:E.value.drawingArea.centerY-e.value.donutTotalLabelFontSize/2,"font-size":e.value.donutTotalLabelFontSize,fill:e.value.color},P(e.value.donutTotalLabelText),9,rl),A("text",{"text-anchor":"middle",x:E.value.drawingArea.centerX,y:E.value.drawingArea.centerY+e.value.donutTotalLabelFontSize,"font-size":e.value.donutTotalLabelFontSize,fill:e.value.color},P(x(U)({p:e.value.valuePrefix,v:E.value.total,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue})),9,sl)])):g("",!0)],64)):g("",!0),C.value===L.LINE?(l(),t(p,{key:1},[e.value.xyShowGrid?(l(),t("g",vl,[(l(!0),t(p,null,$(d.value.yLabels,a=>(l(),t(p,null,[a.y<=d.value.drawingArea.bottom?(l(),t("line",{key:0,x1:d.value.drawingArea.left,x2:d.value.drawingArea.right,y1:a.y,y2:a.y,stroke:e.value.xyGridStroke,"stroke-width":e.value.xyGridStrokeWidth,"stroke-linecap":"round"},null,8,dl)):g("",!0)],64))),256)),(l(!0),t(p,null,$(d.value.extremes.maxSeries+1,(a,n)=>(l(),t("line",{x1:d.value.drawingArea.left+d.value.slotSize*n,x2:d.value.drawingArea.left+d.value.slotSize*n,y1:d.value.drawingArea.top,y2:d.value.drawingArea.bottom,stroke:e.value.xyGridStroke,"stroke-width":e.value.xyGridStrokeWidth,"stroke-linecap":"round"},null,8,cl))),256))])):g("",!0),e.value.xyShowAxis?(l(),t("g",hl,[A("line",{x1:d.value.drawingArea.left,x2:d.value.drawingArea.left,y1:d.value.drawingArea.top,y2:d.value.drawingArea.bottom,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,gl),A("line",{x1:d.value.drawingArea.left,x2:d.value.drawingArea.right,y1:isNaN(d.value.absoluteZero)?d.value.drawingArea.bottom:d.value.absoluteZero,y2:isNaN(d.value.absoluteZero)?d.value.drawingArea.bottom:d.value.absoluteZero,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,xl)])):g("",!0),e.value.xyShowScale?(l(),t("g",pl,[(l(!0),t(p,null,$(d.value.yLabels,(a,n)=>(l(),t(p,null,[a.y<=d.value.drawingArea.bottom?(l(),t("line",{key:0,x1:a.x+4,x2:d.value.drawingArea.left,y1:a.y,y2:a.y,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,fl)):g("",!0),a.y<=d.value.drawingArea.bottom?(l(),t("text",{key:1,x:a.x,y:a.y+e.value.xyLabelsYFontSize/3,"text-anchor":"end","font-size":e.value.xyLabelsYFontSize,fill:e.value.color},P(x(j)(e.value.formatter,a.value,x(U)({p:e.value.valuePrefix,v:a.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:a,seriesIndex:n})),9,ml)):g("",!0)],64))),256))])):g("",!0),e.value.xyShowScale&&e.value.xyPeriods.length?(l(),t("g",yl,[(l(!0),t(p,null,$(e.value.xyPeriods.slice(k.value.start,k.value.end),(a,n)=>(l(),t("line",{x1:d.value.drawingArea.left+d.value.slotSize*(n+1)-d.value.slotSize/2,x2:d.value.drawingArea.left+d.value.slotSize*(n+1)-d.value.slotSize/2,y1:d.value.drawingArea.bottom,y2:d.value.drawingArea.bottom+4,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,kl))),256)),(l(!0),t(p,null,$(e.value.xyPeriods.slice(k.value.start,k.value.end),(a,n)=>(l(),t("text",{"font-size":e.value.xyLabelsXFontSize,"text-anchor":e.value.xyPeriodLabelsRotation>0?"start":e.value.xyPeriodLabelsRotation<0?"end":"middle",fill:e.value.color,transform:`translate(${d.value.drawingArea.left+d.value.slotSize*(n+1)-d.value.slotSize/2}, ${d.value.drawingArea.bottom+e.value.xyLabelsXFontSize+6}), rotate(${e.value.xyPeriodLabelsRotation})`},P(a),9,bl))),256))])):g("",!0),A("g",wl,[(l(!0),t(p,null,$(d.value.dataset,(a,n)=>(l(),t("g",Sl,[e.value.lineSmooth?(l(),t(p,{key:0},[A("path",{d:`M ${x(Qe)(a.coordinates)}`,stroke:e.value.backgroundColor,"stroke-width":e.value.lineStrokeWidth+1,"stroke-linecap":"round",fill:"none",class:se({"quick-animation":!0,"vue-data-ui-line-animated":e.value.lineAnimated}),style:{transition:"all 0.3s ease-in-out"}},null,10,Al),A("path",{d:`M ${x(Qe)(a.coordinates)}`,stroke:a.color,"stroke-width":e.value.lineStrokeWidth,"stroke-linecap":"round",fill:"none",class:se({"quick-animation":!0,"vue-data-ui-line-animated":e.value.lineAnimated}),style:{transition:"all 0.3s ease-in-out"}},null,10,Ll)],64)):(l(),t(p,{key:1},[A("path",{d:`M ${a.linePath}`,stroke:e.value.backgroundColor,"stroke-width":e.value.lineStrokeWidth+1,"stroke-linecap":"round",fill:"none",class:se({"quick-animation":!0,"vue-data-ui-line-animated":e.value.lineAnimated}),style:{transition:"all 0.3s ease-in-out"}},null,10,zl),A("path",{d:`M ${a.linePath}`,stroke:a.color,"stroke-width":e.value.lineStrokeWidth,"stroke-linecap":"round",fill:"none",class:se({"quick-animation":!0,"vue-data-ui-line-animated":e.value.lineAnimated}),style:{transition:"all 0.3s ease-in-out"}},null,10,$l)],64)),(l(!0),t(p,null,$(a.coordinates,(r,h)=>(l(),t("circle",{cx:r.x,cy:x(Y)(r.y),r:3,fill:a.color,stroke:e.value.backgroundColor,"stroke-width":"0.5",class:"quick-animation",style:{transition:"all 0.3s ease-in-out"}},null,8,Cl))),256))]))),256))]),e.value.showDataLabels?(l(),t("g",Il,[(l(!0),t(p,null,$(d.value.dataset,(a,n)=>(l(),t(p,null,[(l(!0),t(p,null,$(a.coordinates,(r,h)=>(l(),t("text",{"text-anchor":"middle","font-size":e.value.dataLabelFontSize,fill:a.color,x:r.x,y:x(Y)(r.y)-e.value.dataLabelFontSize/2,class:"quick-animation",style:{transition:"all 0.3s ease-in-out"}},P(x(j)(e.value.formatter,x(Y)(r.value),x(U)({p:e.value.valuePrefix,v:x(Y)(r.value),s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:r,seriesIndex:h})),9,El))),256))],64))),256))])):g("",!0),A("g",Tl,[(l(!0),t(p,null,$(d.value.extremes.maxSeries,(a,n)=>(l(),t("rect",{x:d.value.drawingArea.left+n*d.value.slotSize,y:d.value.drawingArea.top,height:d.value.drawingArea.height<=0?1e-5:d.value.drawingArea.height,width:d.value.slotSize<=0?1e-5:d.value.slotSize,fill:[G.value,Q.value].includes(n)?e.value.xyHighlighterColor:"transparent",style:N(`opacity:${e.value.xyHighlighterOpacity}`),onMouseenter:r=>d.value.useTooltip(n),onMouseleave:c[1]||(c[1]=r=>d.value.killTooltip()),onClick:r=>f("selectDatapoint",d.value.dataset.map(h=>({...h,value:h.values[n]})))},null,44,Pl))),256))])],64)):g("",!0),C.value===L.BAR?(l(),t(p,{key:2},[e.value.xyShowGrid?(l(),t("g",Rl,[(l(!0),t(p,null,$(v.value.yLabels,a=>(l(),t(p,null,[a.y<=v.value.drawingArea.bottom?(l(),t("line",{key:0,x1:v.value.drawingArea.left,x2:v.value.drawingArea.right,y1:a.y,y2:a.y,stroke:e.value.xyGridStroke,"stroke-width":e.value.xyGridStrokeWidth,"stroke-linecap":"round"},null,8,Ml)):g("",!0)],64))),256)),(l(!0),t(p,null,$(v.value.extremes.maxSeries+1,(a,n)=>(l(),t("line",{x1:v.value.drawingArea.left+v.value.slotSize*n,x2:v.value.drawingArea.left+v.value.slotSize*n,y1:v.value.drawingArea.top,y2:v.value.drawingArea.bottom,stroke:e.value.xyGridStroke,"stroke-width":e.value.xyGridStrokeWidth,"stroke-linecap":"round"},null,8,Fl))),256))])):g("",!0),e.value.xyShowAxis?(l(),t("g",Nl,[A("line",{x1:v.value.drawingArea.left,x2:v.value.drawingArea.left,y1:v.value.drawingArea.top,y2:v.value.drawingArea.bottom,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,Ol),A("line",{x1:v.value.drawingArea.left,x2:v.value.drawingArea.right,y1:isNaN(v.value.absoluteZero)?v.value.drawingArea.bottom:v.value.absoluteZero,y2:isNaN(v.value.absoluteZero)?v.value.drawingArea.bottom:v.value.absoluteZero,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,Bl)])):g("",!0),e.value.xyShowScale?(l(),t("g",Ul,[(l(!0),t(p,null,$(v.value.yLabels,(a,n)=>(l(),t(p,null,[a.y<=v.value.drawingArea.bottom?(l(),t("line",{key:0,x1:a.x+4,x2:v.value.drawingArea.left,y1:a.y,y2:a.y,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,_l)):g("",!0),a.y<=v.value.drawingArea.bottom?(l(),t("text",{key:1,x:a.x,y:a.y+e.value.xyLabelsYFontSize/3,"text-anchor":"end","font-size":e.value.xyLabelsYFontSize,fill:e.value.color},P(x(j)(e.value.formatter,a.value,x(U)({p:e.value.valuePrefix,v:a.value,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:a,seriesIndex:n})),9,Vl)):g("",!0)],64))),256))])):g("",!0),e.value.xyShowScale&&e.value.xyPeriods.length?(l(),t("g",Dl,[(l(!0),t(p,null,$(e.value.xyPeriods.slice(k.value.start,k.value.end),(a,n)=>(l(),t("line",{x1:v.value.drawingArea.left+v.value.slotSize*(n+1)-v.value.slotSize/2,x2:v.value.drawingArea.left+v.value.slotSize*(n+1)-v.value.slotSize/2,y1:v.value.drawingArea.bottom,y2:v.value.drawingArea.bottom+4,stroke:e.value.xyAxisStroke,"stroke-width":e.value.xyAxisStrokeWidth,"stroke-linecap":"round"},null,8,ql))),256)),(l(!0),t(p,null,$(e.value.xyPeriods.slice(k.value.start,k.value.end),(a,n)=>(l(),t("text",{"font-size":e.value.xyLabelsXFontSize,"text-anchor":e.value.xyPeriodLabelsRotation>0?"start":e.value.xyPeriodLabelsRotation<0?"end":"middle",transform:`translate(${v.value.drawingArea.left+v.value.slotSize*(n+1)-v.value.slotSize/2}, ${v.value.drawingArea.bottom+e.value.xyLabelsXFontSize+6}) rotate(${e.value.xyPeriodLabelsRotation})`,fill:e.value.color},P(a),9,Wl))),256))])):g("",!0),A("g",Gl,[(l(!0),t(p,null,$(v.value.dataset,(a,n)=>(l(),t(p,null,[(l(!0),t(p,null,$(a.coordinates,(r,h)=>(l(),t("rect",{x:r.x,width:r.width<=0?1e-5:r.width,height:x(Y)(r.height<=0?1e-5:r.height),y:x(Y)(r.y),fill:a.color,stroke:e.value.backgroundColor,"stroke-width":e.value.barStrokeWidth,"stroke-linecap":"round",class:se({"vue-data-ui-bar-animated":e.value.barAnimated&&r.value<0})},[e.value.barAnimated&&r.value>0&&!x(ke)&&!x(be)?(l(),t("animate",{key:0,attributeName:"height",from:0,to:r.height,dur:"0.5s"},null,8,Xl)):g("",!0),e.value.barAnimated&&r.value>0&&!x(ke)&&!x(be)?(l(),t("animate",{key:1,attributeName:"y",from:v.value.absoluteZero,to:v.value.absoluteZero-r.height,dur:"0.5s"},null,8,Yl)):g("",!0)],10,jl))),256))],64))),256))]),e.value.showDataLabels?(l(),t("g",Zl,[(l(!0),t(p,null,$(v.value.dataset,(a,n)=>(l(),t(p,null,[(l(!0),t(p,null,$(a.coordinates,(r,h)=>(l(),t("text",{x:r.x+r.width/2,y:x(Y)(r.y)-e.value.dataLabelFontSize/2,"text-anchor":"middle","font-size":e.value.dataLabelFontSize,fill:a.color,class:"quick-animation"},P(x(j)(e.value.formatter,x(Y)(r.value),x(U)({p:e.value.valuePrefix,v:x(Y)(r.value),s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:r,seriesIndex:h})),9,Hl))),256))],64))),256))])):g("",!0),A("g",Jl,[(l(!0),t(p,null,$(v.value.extremes.maxSeries,(a,n)=>(l(),t("rect",{x:v.value.drawingArea.left+n*v.value.slotSize,y:v.value.drawingArea.top,height:v.value.drawingArea.height<=0?1e-5:v.value.drawingArea.height,width:v.value.slotSize<=0?1e-5:v.value.slotSize,fill:[G.value,Q.value].includes(n)?e.value.xyHighlighterColor:"transparent",style:N(`opacity:${e.value.xyHighlighterOpacity}`),onMouseenter:r=>v.value.useTooltip(n),onMouseleave:c[2]||(c[2]=r=>v.value.killTooltip()),onClick:r=>f("selectDatapoint",v.value.dataset.map(h=>({...h,value:h.values[n]})))},null,44,Ql))),256))])],64)):g("",!0),[L.LINE,L.BAR].includes(C.value)?(l(),t("g",Kl,[e.value.xAxisLabel&&C.value===L.LINE?(l(),t("g",et,[A("text",{"font-size":e.value.axisLabelsFontSize,fill:e.value.color,"text-anchor":"middle",x:d.value.drawingArea.left+d.value.drawingArea.width/2,y:w.value.height-e.value.axisLabelsFontSize/3},P(e.value.xAxisLabel),9,at)])):g("",!0),e.value.xAxisLabel&&C.value===L.BAR?(l(),t("g",lt,[A("text",{"font-size":e.value.axisLabelsFontSize,fill:e.value.color,"text-anchor":"middle",x:v.value.drawingArea.left+v.value.drawingArea.width/2,y:w.value.height-e.value.axisLabelsFontSize/3},P(e.value.xAxisLabel),9,tt)])):g("",!0),e.value.yAxisLabel&&C.value===L.LINE?(l(),t("g",ot,[A("text",{"font-size":e.value.axisLabelsFontSize,fill:e.value.color,transform:`translate(${e.value.axisLabelsFontSize}, ${d.value.drawingArea.top+d.value.drawingArea.height/2}) rotate(-90)`,"text-anchor":"middle"},P(e.value.yAxisLabel),9,it)])):g("",!0),e.value.yAxisLabel&&C.value===L.BAR?(l(),t("g",ut,[A("text",{"font-size":e.value.axisLabelsFontSize,fill:e.value.color,transform:`translate(${e.value.axisLabelsFontSize}, ${v.value.drawingArea.top+v.value.drawingArea.height/2}) rotate(-90)`,"text-anchor":"middle"},P(e.value.yAxisLabel),9,nt)])):g("",!0)])):g("",!0)],12,Ga)):g("",!0),C.value?g("",!0):(l(),$e(Fa,{key:5,config:{type:"line",style:{backgroundColor:e.value.backgroundColor,line:{axis:{color:e.value.xyAxisStroke},path:{color:e.value.xyAxisStroke,strokeWidth:.5}}}}},null,8,["config"])),u.$slots.watermark?(l(),t("div",rt,[_(u.$slots,"watermark",X(ne({isPrinting:x(ke)||x(be)})),void 0,!0)])):g("",!0),[L.BAR,L.LINE].includes(C.value)&&e.value.zoomXy&&y.value.maxSeriesLength>1?(l(),t("div",{key:`slicer_${ye.value}`,ref_key:"quickChartSlicer",ref:me},[(l(),$e(Ma,{key:`slicer_${ye.value}`,background:e.value.zoomColor,borderColor:e.value.backgroundColor,fontSize:e.value.zoomFontSize,useResetSlot:e.value.zoomUseResetSlot,labelLeft:e.value.xyPeriods[k.value.start]?e.value.xyPeriods[k.value.start]:"",labelRight:e.value.xyPeriods[k.value.end-1]?e.value.xyPeriods[k.value.end-1]:"",textColor:e.value.color,inputColor:e.value.zoomColor,selectColor:e.value.zoomHighlightColor,max:y.value.maxSeriesLength,min:0,valueStart:k.value.start,valueEnd:k.value.end,smoothMinimap:e.value.zoomMinimap.smooth,minimapSelectedColor:e.value.zoomMinimap.selectedColor,minimapSelectedColorOpacity:e.value.zoomMinimap.selectedColorOpacity,minimapSelectionRadius:e.value.zoomMinimap.selectionRadius,minimapLineColor:e.value.zoomMinimap.lineColor,minimap:da.value,minimapIndicatorColor:e.value.zoomMinimap.indicatorColor,minimapSelectedIndex:Q.value,start:k.value.start,"onUpdate:start":c[3]||(c[3]=a=>k.value.start=a),end:k.value.end,"onUpdate:end":c[4]||(c[4]=a=>k.value.end=a),onReset:va,onTrapMouse:sa},{"reset-action":K(({reset:a})=>[_(u.$slots,"reset-action",X(ne({reset:a})),void 0,!0)]),_:3},8,["background","borderColor","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","max","valueStart","valueEnd","smoothMinimap","minimapSelectedColor","minimapSelectedColorOpacity","minimapSelectionRadius","minimapLineColor","minimap","minimapIndicatorColor","minimapSelectedIndex","start","end"]))])):g("",!0),e.value.showLegend?(l(),t("div",{key:8,ref_key:"quickChartLegend",ref:M,class:"vue-ui-quick-chart-legend",style:N(`background:transparent;color:${e.value.color}`)},[C.value===L.DONUT?(l(!0),t(p,{key:0},$(E.value.legend,(a,n)=>(l(),t("div",{class:"vue-ui-quick-chart-legend-item",onClick:r=>{ra(a,E.value.dataset),f("selectLegend",a)},style:N(`cursor: ${E.value.legend.length>1?"pointer":"default"}; opacity:${S.value.includes(a.id)?"0.5":"1"}`)},[e.value.useCustomLegend?_(u.$slots,"legend",X(Oe({key:0},{legend:a})),void 0,!0):(l(),t(p,{key:1},[re(Ce,{name:e.value.legendIcon,stroke:a.color,size:e.value.legendIconSize},null,8,["name","stroke","size"]),A("span",{style:N(`font-size:${e.value.legendFontSize}px`)},P(a.name),5),A("span",{style:N(`font-size:${e.value.legendFontSize}px;font-variant-numeric:tabular-nums`)},P(S.value.includes(a.id)?"-":x(j)(e.value.formatter,a.absoluteValue,x(U)({p:e.value.valuePrefix,v:a.absoluteValue,s:e.value.valueSuffix,r:e.value.dataLabelRoundingValue}),{datapoint:a,seriesIndex:n})),5),S.value.includes(a.id)?(l(),t("span",{key:0,style:N(`font-size:${e.value.legendFontSize}px`)}," ( - % ) ",4)):Ae.value?(l(),t("span",{key:1,style:N(`font-size:${e.value.legendFontSize}px; font-variant-numeric: tabular-nums;`)}," ( - % ) ",4)):(l(),t("span",{key:2,style:N(`font-size:${e.value.legendFontSize}px; font-variant-numeric: tabular-nums;`)}," ("+P(x(U)({v:a.value/E.value.total*100,s:"%",r:e.value.dataLabelRoundingPercentage}))+") ",5))],64))],12,st))),256)):g("",!0),C.value===L.LINE?(l(!0),t(p,{key:1},$(d.value.legend,(a,n)=>(l(),t("div",{class:"vue-ui-quick-chart-legend-item",onClick:r=>{je(a.id,d.value.legend.length-1),f("selectLegend",a)},style:N(`cursor: ${d.value.legend.length>1?"pointer":"default"}; opacity:${S.value.includes(a.id)?"0.5":"1"}`)},[e.value.useCustomLegend?_(u.$slots,"legend",X(Oe({key:0},{legend:a})),void 0,!0):(l(),t(p,{key:1},[re(Ce,{name:e.value.legendIcon,stroke:a.color,size:e.value.legendIconSize},null,8,["name","stroke","size"]),A("span",{style:N(`font-size:${e.value.legendFontSize}px`)},P(a.name),5)],64))],12,vt))),256)):g("",!0),C.value===L.BAR?(l(!0),t(p,{key:2},$(v.value.legend,(a,n)=>(l(),t("div",{class:"vue-ui-quick-chart-legend-item",onClick:r=>{je(a.id,v.value.legend.length-1),f("selectLegend",a)},style:N(`cursor: ${v.value.legend.length>1?"pointer":"default"}; opacity:${S.value.includes(a.id)?"0.5":"1"}`)},[e.value.useCustomLegend?_(u.$slots,"legend",X(Oe({key:0},{legend:a})),void 0,!0):(l(),t(p,{key:1},[re(Ce,{name:e.value.legendIcon,stroke:a.color,size:e.value.legendIconSize},null,8,["name","stroke","size"]),A("span",{style:N(`font-size:${e.value.legendFontSize}px`)},P(a.name),5)],64))],12,dt))),256)):g("",!0)],4)):g("",!0),u.$slots.source?(l(),t("div",{key:9,ref_key:"source",ref:Be,dir:"auto"},[_(u.$slots,"source",{},void 0,!0)],512)):g("",!0),re(Ta,{show:we.value.showTooltip&&ee.value,backgroundColor:e.value.backgroundColor,color:e.value.color,borderRadius:e.value.tooltipBorderRadius,borderColor:e.value.tooltipBorderColor,borderWidth:e.value.tooltipBorderWidth,fontSize:e.value.tooltipFontSize,backgroundOpacity:e.value.tooltipBackgroundOpacity,position:e.value.tooltipPosition,offsetY:e.value.tooltipOffsetY,parent:O.value,content:ae.value,isCustom:x(ze)(e.value.tooltipCustomFormat)},{"tooltip-before":K(()=>[_(u.$slots,"tooltip-before",X(ne({...ve.value})),void 0,!0)]),"tooltip-after":K(()=>[_(u.$slots,"tooltip-after",X(ne({...ve.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isCustom"])],14,Wa)):(l(),t("div",ct,[re(Ce,{name:"circleCancel",stroke:"red"}),ht]))}},Lt=Ea(gt,[["__scopeId","data-v-7397d9b6"]]);export{Lt as default};
